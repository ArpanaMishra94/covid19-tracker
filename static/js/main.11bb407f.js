/*! For license information please see main.11bb407f.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},6594:function(e,t,n){e.exports=function(e){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}function n(e){return e&&e.default||e}e=e&&e.hasOwnProperty("default")?e.default:e;var r={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},i=t((function(e){var t={};for(var n in r)r.hasOwnProperty(n)&&(t[r[n]]=n);var i=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in i)if(i.hasOwnProperty(a)){if(!("channels"in i[a]))throw new Error("missing channels property: "+a);if(!("labels"in i[a]))throw new Error("missing channel labels property: "+a);if(i[a].labels.length!==i[a].channels)throw new Error("channel and label counts mismatch: "+a);var o=i[a].channels,s=i[a].labels;delete i[a].channels,delete i[a].labels,Object.defineProperty(i[a],"channels",{value:o}),Object.defineProperty(i[a],"labels",{value:s})}function u(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}i.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o;return s===o?t=0:r===s?t=(i-a)/u:i===s?t=2+(a-r)/u:a===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s===o?0:n<=.5?u/(s+o):u/(2-s-o)),100*n]},i.rgb.hsv=function(e){var t,n,r,i,a,o=e[0]/255,s=e[1]/255,u=e[2]/255,l=Math.max(o,s,u),c=l-Math.min(o,s,u),h=function(e){return(l-e)/6/c+.5};return 0===c?i=a=0:(a=c/l,t=h(o),n=h(s),r=h(u),o===l?i=r-n:s===l?i=1/3+t-r:u===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*a,100*l]},i.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[i.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,r))*100,100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},i.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},i.rgb.keyword=function(e){var n=t[e];if(n)return n;var i,a=1/0;for(var o in r)if(r.hasOwnProperty(o)){var s=u(e,r[o]);s<a&&(a=s,i=o)}return i},i.keyword.rgb=function(e){return r[e]},i.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},i.rgb.lab=function(e){var t=i.rgb.xyz(e),n=t[0],r=t[1],a=t[2];return r/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},i.hsl.rgb=function(e){var t,n,r,i,a,o=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[a=255*u,a,a];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=o+1/3*-(l-1))<0&&r++,r>1&&r--,a=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*a;return i},i.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,a=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=a<=1?a:2-a,[t,100*(0===r?2*i/(a+i):2*n/(r+n)),(r+n)/2*100]},i.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*r*(1-n),s=255*r*(1-n*a),u=255*r*(1-n*(1-a));switch(r*=255,i){case 0:return[r,u,o];case 1:return[s,r,o];case 2:return[o,r,u];case 3:return[o,s,r];case 4:return[u,o,r];case 5:return[r,o,s]}},i.hsv.hsl=function(e){var t,n,r,i=e[0],a=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return r=(2-a)*o,n=a*s,[i,100*(n=(n/=(t=(2-a)*s)<=1?t:2-t)||0),100*(r/=2)]},i.hwb.rgb=function(e){var t,n,r,i,a,o,s,u=e[0]/360,l=e[1]/100,c=e[2]/100,h=l+c;switch(h>1&&(l/=h,c/=h),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),i=l+r*((n=1-c)-l),t){default:case 6:case 0:a=n,o=i,s=l;break;case 1:a=i,o=n,s=l;break;case 2:a=l,o=n,s=i;break;case 3:a=l,o=i,s=n;break;case 4:a=i,o=l,s=n;break;case 5:a=n,o=l,s=i}return[255*a,255*o,255*s]},i.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},i.xyz.rgb=function(e){var t,n,r,i=e[0]/100,a=e[1]/100,o=e[2]/100;return n=-.9689*i+1.8758*a+.0415*o,r=.0557*i+-.204*a+1.057*o,t=(t=3.2406*i+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},i.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},i.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var a=Math.pow(n,3),o=Math.pow(t,3),s=Math.pow(r,3);return n=a>.008856?a:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},i.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},i.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},i.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],a=1 in arguments?arguments[1]:i.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},i.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},i.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,a=Math.max(Math.max(n,r),i),o=Math.min(Math.min(n,r),i),s=a-o;return t=s<=0?0:a===n?(r-i)/s%6:a===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?o/(1-s):0)]},i.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},i.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},i.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i=[0,0,0],a=t%1*6,o=a%1,s=1-o,u=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return u=(1-n)*r,[255*(n*i[0]+u),255*(n*i[1]+u),255*(n*i[2]+u)]},i.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},i.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},i.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},i.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=i.gray.hsv=function(e){return[0,0,e[0]]},i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}));function a(){for(var e={},t=Object.keys(i),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function o(e){var t=a(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),o=Object.keys(i[r]),s=o.length,u=0;u<s;u++){var l=o[u],c=t[l];-1===c.distance&&(c.distance=t[r].distance+1,c.parent=r,n.unshift(l))}return t}function s(e,t){return function(n){return t(e(n))}}function u(e,t){for(var n=[t[e].parent,e],r=i[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),r=s(i[t[a].parent][a],r),a=t[a].parent;return r.conversion=n,r}i.rgb,i.hsl,i.hsv,i.hwb,i.cmyk,i.xyz,i.lab,i.lch,i.hex,i.keyword,i.ansi16,i.ansi256,i.hcg,i.apple,i.gray;var l=function(e){for(var t=o(e),n={},r=Object.keys(t),i=r.length,a=0;a<i;a++){var s=r[a];null!==t[s].parent&&(n[s]=u(s,t))}return n},c={};function h(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function f(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}Object.keys(i).forEach((function(e){c[e]={},Object.defineProperty(c[e],"channels",{value:i[e].channels}),Object.defineProperty(c[e],"labels",{value:i[e].labels});var t=l(e);Object.keys(t).forEach((function(n){var r=t[n];c[e][n]=f(r),c[e][n].raw=h(r)}))}));var d=c,p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},v={getRgba:m,getHsla:g,getRgb:_,getHsl:b,getHwb:y,getAlpha:k,hexString:w,rgbString:x,rgbaString:S,percentString:T,percentaString:I,hslString:E,hslaString:C,hwbString:P,keyword:M};function m(e){if(e){var t=/^#([a-fA-F0-9]{3,4})$/i,n=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/(\w+)/,o=[0,0,0],s=1,u=e.match(t),l="";if(u){l=(u=u[1])[3];for(var c=0;c<o.length;c++)o[c]=parseInt(u[c]+u[c],16);l&&(s=Math.round(parseInt(l+l,16)/255*100)/100)}else if(u=e.match(n)){for(l=u[2],u=u[1],c=0;c<o.length;c++)o[c]=parseInt(u.slice(2*c,2*c+2),16);l&&(s=Math.round(parseInt(l,16)/255*100)/100)}else if(u=e.match(r)){for(c=0;c<o.length;c++)o[c]=parseInt(u[c+1]);s=parseFloat(u[4])}else if(u=e.match(i)){for(c=0;c<o.length;c++)o[c]=Math.round(2.55*parseFloat(u[c+1]));s=parseFloat(u[4])}else if(u=e.match(a)){if("transparent"==u[1])return[0,0,0,0];if(!(o=p[u[1]]))return}for(c=0;c<o.length;c++)o[c]=A(o[c],0,255);return s=s||0==s?A(s,0,1):1,o[3]=s,o}}function g(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]);return[A(parseInt(n[1]),0,360),A(parseFloat(n[2]),0,100),A(parseFloat(n[3]),0,100),A(isNaN(r)?1:r,0,1)]}}}function y(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]);return[A(parseInt(n[1]),0,360),A(parseFloat(n[2]),0,100),A(parseFloat(n[3]),0,100),A(isNaN(r)?1:r,0,1)]}}}function _(e){var t=m(e);return t&&t.slice(0,3)}function b(e){var t=g(e);return t&&t.slice(0,3)}function k(e){var t=m(e);return t||(t=g(e))||(t=y(e))?t[3]:void 0}function w(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+D(e[0])+D(e[1])+D(e[2])+(t>=0&&t<1?D(Math.round(255*t)):"")}function x(e,t){return t<1||e[3]&&e[3]<1?S(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function S(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function T(e,t){return t<1||e[3]&&e[3]<1?I(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function I(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function E(e,t){return t<1||e[3]&&e[3]<1?C(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function C(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function P(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function M(e){return L[e.slice(0,3)]}function A(e,t,n){return Math.min(Math.max(t,e),n)}function D(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var L={};for(var N in p)L[p[N]]=N;var O=function e(t){return t instanceof e?t:this instanceof e?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"===typeof t?(n=v.getRgba(t))?this.setValues("rgb",n):(n=v.getHsla(t))?this.setValues("hsl",n):(n=v.getHwb(t))&&this.setValues("hwb",n):"object"===typeof t&&(void 0!==(n=t).r||void 0!==n.red?this.setValues("rgb",n):void 0!==n.l||void 0!==n.lightness?this.setValues("hsl",n):void 0!==n.v||void 0!==n.value?this.setValues("hsv",n):void 0!==n.w||void 0!==n.whiteness?this.setValues("hwb",n):void 0===n.c&&void 0===n.cyan||this.setValues("cmyk",n)))):new e(t);var n};O.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return v.hexString(this.values.rgb)},rgbString:function(){return v.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return v.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return v.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return v.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return v.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return v.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return v.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,r=e,i=void 0===t?.5:t,a=2*i-1,o=n.alpha()-r.alpha(),s=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,u=1-s;return this.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new O,r=this.values,i=n.values;for(var a in r)r.hasOwnProperty(a)&&(e=r[a],"[object Array]"===(t={}.toString.call(e))?i[a]=e.slice(0):"[object Number]"===t?i[a]=e:console.error("unexpected color value:",e));return n}},O.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},O.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},O.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},O.prototype.setValues=function(e,t){var n,r,i=this.values,a=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)i[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)i[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[a[e][0]]){var u=a[e];for(n=0;n<e.length;n++)i[e][n]=t[u[n]];s=t.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===s?i.alpha:s)),"alpha"===e)return!1;for(n=0;n<e.length;n++)r=Math.max(0,Math.min(o[e][n],i[e][n])),i[e][n]=Math.round(r);for(var l in a)l!==e&&(i[l]=d[e][l](i[e]));return!0},O.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"===typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},O.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:(n===r[t]||(r[t]=n,this.setValues(e,r)),this)},"undefined"!==typeof window&&(window.Color=O);var R=O;function F(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var z={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null===e||"undefined"===typeof e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return("number"===typeof e||e instanceof Number)&&isFinite(e)})),valueOrDefault:function(e,t){return"undefined"===typeof e?t:e},valueAtIndexOrDefault:function(e,t,n){return z.valueOrDefault(z.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var i,a,o;if(z.isArray(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(z.isObject(e))for(a=(o=Object.keys(e)).length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])},arrayEquals:function(e,t){var n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i instanceof Array&&a instanceof Array){if(!z.arrayEquals(i,a))return!1}else if(i!==a)return!1;return!0},clone:function(e){if(z.isArray(e))return e.map(z.clone);if(z.isObject(e)){for(var t=Object.create(e),n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=z.clone(e[n[i]]);return t}return e},_merger:function(e,t,n,r){if(F(e)){var i=t[e],a=n[e];z.isObject(i)&&z.isObject(a)?z.merge(i,a,r):t[e]=z.clone(a)}},_mergerIf:function(e,t,n){if(F(e)){var r=t[e],i=n[e];z.isObject(r)&&z.isObject(i)?z.mergeIf(r,i):t.hasOwnProperty(e)||(t[e]=z.clone(i))}},merge:function(e,t,n){var r,i,a,o,s,u=z.isArray(t)?t:[t],l=u.length;if(!z.isObject(e))return e;for(r=(n=n||{}).merger||z._merger,i=0;i<l;++i)if(t=u[i],z.isObject(t))for(s=0,o=(a=Object.keys(t)).length;s<o;++s)r(a[s],e,t,n);return e},mergeIf:function(e,t){return z.merge(e,t,{merger:z._mergerIf})},extend:Object.assign||function(e){return z.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=z.inherits,e&&z.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,r){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+r+'" instead')}},V=z;z.callCallback=z.callback,z.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},z.getValueOrDefault=z.valueOrDefault,z.getValueAtIndexOrDefault=z.valueAtIndexOrDefault;var B={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2===(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-B.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*B.easeInBounce(2*e):.5*B.easeOutBounce(2*e-1)+.5}},j={effects:B};V.easingEffects=B;var U=Math.PI,W=U/180,q=2*U,H=U/2,G=U/4,Y=2*U/3,K={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,i,a){if(a){var o=Math.min(a,i/2,r/2),s=t+o,u=n+o,l=t+r-o,c=n+i-o;e.moveTo(t,u),s<l&&u<c?(e.arc(s,u,o,-U,-H),e.arc(l,u,o,-H,0),e.arc(l,c,o,0,H),e.arc(s,c,o,H,U)):s<l?(e.moveTo(s,n),e.arc(l,u,o,-H,H),e.arc(s,u,o,H,U+H)):u<c?(e.arc(s,u,o,-U,0),e.arc(s,c,o,0,U)):e.arc(s,u,o,-U,U),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)},drawPoint:function(e,t,n,r,i,a){var o,s,u,l,c,h=(a||0)*W;if(t&&"object"===typeof t&&("[object HTMLImageElement]"===(o=t.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(r,i),e.rotate(h),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(r,i,n,0,q),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(h)*n,i-Math.cos(h)*n),h+=Y,e.lineTo(r+Math.sin(h)*n,i-Math.cos(h)*n),h+=Y,e.lineTo(r+Math.sin(h)*n,i-Math.cos(h)*n),e.closePath();break;case"rectRounded":l=n-(c=.516*n),s=Math.cos(h+G)*l,u=Math.sin(h+G)*l,e.arc(r-s,i-u,c,h-U,h-H),e.arc(r+u,i-s,c,h-H,h),e.arc(r+s,i+u,c,h,h+H),e.arc(r-u,i+s,c,h+H,h+U),e.closePath();break;case"rect":if(!a){l=Math.SQRT1_2*n,e.rect(r-l,i-l,2*l,2*l);break}h+=G;case"rectRot":s=Math.cos(h)*n,u=Math.sin(h)*n,e.moveTo(r-s,i-u),e.lineTo(r+u,i-s),e.lineTo(r+s,i+u),e.lineTo(r-u,i+s),e.closePath();break;case"crossRot":h+=G;case"cross":s=Math.cos(h)*n,u=Math.sin(h)*n,e.moveTo(r-s,i-u),e.lineTo(r+s,i+u),e.moveTo(r+u,i-s),e.lineTo(r-u,i+s);break;case"star":s=Math.cos(h)*n,u=Math.sin(h)*n,e.moveTo(r-s,i-u),e.lineTo(r+s,i+u),e.moveTo(r+u,i-s),e.lineTo(r-u,i+s),h+=G,s=Math.cos(h)*n,u=Math.sin(h)*n,e.moveTo(r-s,i-u),e.lineTo(r+s,i+u),e.moveTo(r+u,i-s),e.lineTo(r-u,i+s);break;case"line":s=Math.cos(h)*n,u=Math.sin(h)*n,e.moveTo(r-s,i-u),e.lineTo(r+s,i+u);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(h)*n,i+Math.sin(h)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){var n=1e-6;return e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){var i=n.steppedLine;if(i){if("middle"===i){var a=(t.x+n.x)/2;e.lineTo(a,r?n.y:t.y),e.lineTo(a,r?t.y:n.y)}else"after"===i&&!r||"after"!==i&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},Z=K;V.clear=K.clear,V.drawRoundedRectangle=function(e){e.beginPath(),K.roundedRect.apply(K,arguments)};var $={_set:function(e,t){return V.merge(this[e]||(this[e]={}),t)}};$._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Q=$,X=V.valueOrDefault;function J(e){return!e||V.isNullOrUndef(e.size)||V.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}var ee={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,r,i;return V.isObject(e)?(t=+e.top||0,n=+e.right||0,r=+e.bottom||0,i=+e.left||0):t=n=r=i=+e||0,{top:t,right:n,bottom:r,left:i,height:t+r,width:i+n}},_parseFont:function(e){var t=Q.global,n=X(e.fontSize,t.defaultFontSize),r={family:X(e.fontFamily,t.defaultFontFamily),lineHeight:V.options.toLineHeight(X(e.lineHeight,t.defaultLineHeight),n),size:n,style:X(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=J(r),r},resolve:function(e,t,n,r){var i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&V.isArray(o)&&(o=o[n],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}},te={_factorize:function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},ne=te;V.log10=te.log10;var re=function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}},ie=function(){return{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},ae=function(e,t,n){return e?re(t,n):ie()},oe=V,se=j,ue=Z,le=ee,ce=ne,he={getRtlAdapter:ae,overrideTextDirection:function(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};function fe(e,t,n,r){var i,a,o,s,u,l,c,h,f,d=Object.keys(n);for(i=0,a=d.length;i<a;++i)if(l=n[o=d[i]],t.hasOwnProperty(o)||(t[o]=l),(s=t[o])!==l&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=s),(c=typeof l)===typeof(u=e[o]))if("string"===c){if((h=R(u)).valid&&(f=R(l)).valid){t[o]=f.mix(h,r).rgbString();continue}}else if(oe.isFinite(u)&&oe.isFinite(l)){t[o]=u+(l-u)*r;continue}t[o]=l}}oe.easing=se,oe.canvas=ue,oe.options=le,oe.math=ce,oe.rtl=he;var de=function(e){oe.extend(this,e),this.initialize.apply(this,arguments)};oe.extend(de.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=oe.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,r=t._start,i=t._view;return n&&1!==e?(i||(i=t._view={}),r||(r=t._start={}),fe(r,i,n,e),t):(t._view=oe.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return oe.isNumber(this._model.x)&&oe.isNumber(this._model.y)}}),de.extend=oe.inherits;var pe=de,ve=pe.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),me=ve;Object.defineProperty(ve.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(ve.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),Q._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:oe.noop,onComplete:oe.noop}});var ge={animations:[],request:null,addAnimation:function(e,t,n,r){var i,a,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,r||(e.animating=!0),i=0,a=o.length;i<a;++i)if(o[i].chart===e)return void(o[i]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=oe.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=oe.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e,t,n,r,i=this.animations,a=0;a<i.length;)t=(e=i[a]).chart,n=e.numSteps,r=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(r,n),oe.callback(e.render,[t,e],t),oe.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(oe.callback(e.onAnimationComplete,[e],t),t.animating=!1,i.splice(a,1)):++a}},ye=oe.options.resolve,_e=["push","pop","shift","splice","unshift"];function be(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_e.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),i=r.apply(this,t);return oe.each(e._chartjs.listeners,(function(e){"function"===typeof e[n]&&e[n].apply(e,t)})),i}})})))}function ke(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(_e.forEach((function(t){delete e[t]})),delete e._chartjs)}}var we=function(e,t){this.initialize(e,t)};oe.extend(we.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.chart,r=n.scales,i=e.getDataset(),a=n.options.scales;null!==t.xAxisID&&t.xAxisID in r&&!i.xAxisID||(t.xAxisID=i.xAxisID||a.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in r&&!i.yAxisID||(t.yAxisID=i.yAxisID||a.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ke(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,r=n.getMeta(),i=n.getDataset().data||[],a=r.data;for(e=0,t=i.length;e<t;++e)a[e]=a[e]||n.createMetaData(e);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,t=e.getDataset(),n=t.data||(t.data=[]);e._data!==n&&(e._data&&ke(e._data,e),n&&Object.isExtensible(n)&&be(n,e),e._data=n),e.resyncElements()},_configure:function(){var e=this;e._config=oe.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&oe._merger(e,t,n)}})},_update:function(e){var t=this;t._configure(),t._cachedDataOpts=null,t.update(e)},update:oe.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,i=0;i<r;++i)n[i].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},getStyle:function(e){var t,n=this,r=n.getMeta(),i=r.dataset;return n._configure(),i&&void 0===e?t=n._resolveDatasetElementOptions(i||{}):(e=e||0,t=n._resolveDataElementOptions(r.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,r,i,a,o=this,s=o.chart,u=o._config,l=e.custom||{},c=s.options.elements[o.datasetElementType.prototype._type]||{},h=o._datasetElementOptions,f={},d={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:t};for(n=0,r=h.length;n<r;++n)i=h[n],a=t?"hover"+i.charAt(0).toUpperCase()+i.slice(1):i,f[i]=ye([l[a],u[a],c[a]],d);return f},_resolveDataElementOptions:function(e,t){var n=this,r=e&&e.custom,i=n._cachedDataOpts;if(i&&!r)return i;var a,o,s,u,l=n.chart,c=n._config,h=l.options.elements[n.dataElementType.prototype._type]||{},f=n._dataElementOptions,d={},p={chart:l,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},v={cacheable:!r};if(r=r||{},oe.isArray(f))for(o=0,s=f.length;o<s;++o)d[u=f[o]]=ye([r[u],c[u],h[u]],p,t,v);else for(o=0,s=(a=Object.keys(f)).length;o<s;++o)d[u=a[o]]=ye([r[u],c[f[u]],c[u],h[u]],p,t,v);return v.cacheable&&(n._cachedDataOpts=Object.freeze(d)),d},removeHoverStyle:function(e){oe.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model,a=oe.getHoverColor;e.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth},i.backgroundColor=ye([r.hoverBackgroundColor,t.hoverBackgroundColor,a(i.backgroundColor)],void 0,n),i.borderColor=ye([r.hoverBorderColor,t.hoverBorderColor,a(i.borderColor)],void 0,n),i.borderWidth=ye([r.hoverBorderWidth,t.hoverBorderWidth,i.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,r,i,a,o=this.getMeta().dataset,s={};if(o){for(a=o._model,i=this._resolveDatasetElementOptions(o,!0),e=0,t=(r=Object.keys(i)).length;e<t;++e)s[n=r[e]]=a[n],a[n]=i[n];o.$previousStyle=s}},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,r=t.data.length,i=n.length;i<r?t.data.splice(i,r-i):i>r&&e.insertElements(r,i-r)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),we.extend=oe.inherits;var xe=we,Se=2*Math.PI;function Te(e,t){var n=t.startAngle,r=t.endAngle,i=t.pixelMargin,a=i/t.outerRadius,o=t.x,s=t.y;e.beginPath(),e.arc(o,s,t.outerRadius,n-a,r+a),t.innerRadius>i?(a=i/t.innerRadius,e.arc(o,s,t.innerRadius-i,r+a,n-a,!0)):e.arc(o,s,i,r+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function Ie(e,t,n,r){var i,a=n.endAngle;for(r&&(n.endAngle=n.startAngle+Se,Te(e,n),n.endAngle=a,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=Se,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+Se,n.startAngle,!0),i=0;i<n.fullCircles;++i)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+Se),i=0;i<n.fullCircles;++i)e.stroke()}function Ee(e,t,n){var r="inner"===t.borderAlign;r?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&Ie(e,t,n,r),r&&Te(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}Q._set("global",{elements:{arc:{backgroundColor:Q.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Ce=pe.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=oe.getAngleFromPoint(n,{x:e,y:t}),i=r.angle,a=r.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=Se;for(;i>s;)i-=Se;for(;i<o;)i+=Se;var u=i>=o&&i<=s,l=a>=n.innerRadius&&a<=n.outerRadius;return u&&l}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,r="inner"===n.borderAlign?.33:0,i={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-r,0),pixelMargin:r,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/Se)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,i.fullCircles){for(i.endAngle=i.startAngle+Se,t.beginPath(),t.arc(i.x,i.y,i.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),e=0;e<i.fullCircles;++e)t.fill();i.endAngle=i.startAngle+n.circumference%Se}t.beginPath(),t.arc(i.x,i.y,i.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&Ee(t,n,i),t.restore()}}),Pe=oe.valueOrDefault,Me=Q.global.defaultColor;Q._set("global",{elements:{line:{tension:.4,backgroundColor:Me,borderWidth:3,borderColor:Me,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Ae=pe.extend({_type:"line",draw:function(){var e,t,n,r=this,i=r._view,a=r._chart.ctx,o=i.spanGaps,s=r._children.slice(),u=Q.global,l=u.elements.line,c=-1,h=r._loop;if(s.length){if(r._loop){for(e=0;e<s.length;++e)if(t=oe.previousItem(s,e),!s[e]._view.skip&&t._view.skip){s=s.slice(e).concat(s.slice(0,e)),h=o;break}h&&s.push(s[0])}for(a.save(),a.lineCap=i.borderCapStyle||l.borderCapStyle,a.setLineDash&&a.setLineDash(i.borderDash||l.borderDash),a.lineDashOffset=Pe(i.borderDashOffset,l.borderDashOffset),a.lineJoin=i.borderJoinStyle||l.borderJoinStyle,a.lineWidth=Pe(i.borderWidth,l.borderWidth),a.strokeStyle=i.borderColor||u.defaultColor,a.beginPath(),(n=s[0]._view).skip||(a.moveTo(n.x,n.y),c=0),e=1;e<s.length;++e)n=s[e]._view,t=-1===c?oe.previousItem(s,e):s[c],n.skip||(c!==e-1&&!o||-1===c?a.moveTo(n.x,n.y):oe.canvas.lineTo(a,t._view,n),c=e);h&&a.closePath(),a.stroke(),a.restore()}}}),De=oe.valueOrDefault,Le=Q.global.defaultColor;function Ne(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}function Oe(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius}Q._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Le,borderColor:Le,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Re=pe.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:Ne,inXRange:Ne,inYRange:Oe,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,r=t.pointStyle,i=t.rotation,a=t.radius,o=t.x,s=t.y,u=Q.global,l=u.defaultColor;t.skip||(void 0===e||oe.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||l,n.lineWidth=De(t.borderWidth,u.elements.point.borderWidth),n.fillStyle=t.backgroundColor||l,oe.canvas.drawPoint(n,r,a,o,s,i))}}),Fe=Q.global.defaultColor;function ze(e){return e&&void 0!==e.width}function Ve(e){var t,n,r,i,a;return ze(e)?(a=e.width/2,t=e.x-a,n=e.x+a,r=Math.min(e.y,e.base),i=Math.max(e.y,e.base)):(a=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),r=e.y-a,i=e.y+a),{left:t,top:r,right:n,bottom:i}}function Be(e,t,n){return e===t?n:e===n?t:e}function je(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=Be(t,"left","right")):e.base<e.y&&(t=Be(t,"bottom","top")),n[t]=!0,n):n}function Ue(e,t,n){var r,i,a,o,s=e.borderWidth,u=je(e);return oe.isObject(s)?(r=+s.top||0,i=+s.right||0,a=+s.bottom||0,o=+s.left||0):r=i=a=o=+s||0,{t:u.top||r<0?0:r>n?n:r,r:u.right||i<0?0:i>t?t:i,b:u.bottom||a<0?0:a>n?n:a,l:u.left||o<0?0:o>t?t:o}}function We(e){var t=Ve(e),n=t.right-t.left,r=t.bottom-t.top,i=Ue(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b}}}function qe(e,t,n){var r=null===t,i=null===n,a=!(!e||r&&i)&&Ve(e);return a&&(r||t>=a.left&&t<=a.right)&&(i||n>=a.top&&n<=a.bottom)}Q._set("global",{elements:{rectangle:{backgroundColor:Fe,borderColor:Fe,borderSkipped:"bottom",borderWidth:0}}});var He=pe.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=We(t),r=n.outer,i=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(r.x,r.y,r.w,r.h),r.w===i.w&&r.h===i.h||(e.save(),e.beginPath(),e.rect(r.x,r.y,r.w,r.h),e.clip(),e.fillStyle=t.borderColor,e.rect(i.x,i.y,i.w,i.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return qe(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return ze(n)?qe(n,e,null):qe(n,null,t)},inXRange:function(e){return qe(this._view,e,null)},inYRange:function(e){return qe(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return ze(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return ze(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Ge={},Ye=Ce,Ke=Ae,Ze=Re,$e=He;Ge.Arc=Ye,Ge.Line=Ke,Ge.Point=Ze,Ge.Rectangle=$e;var Qe=oe._deprecated,Xe=oe.valueOrDefault;function Je(e,t){var n,r,i,a,o=e._length;for(i=1,a=t.length;i<a;++i)o=Math.min(o,Math.abs(t[i]-t[i-1]));for(i=0,a=e.getTicks().length;i<a;++i)r=e.getPixelForTick(i),o=i>0?Math.min(o,Math.abs(r-n)):o,n=r;return o}function et(e,t,n){var r,i,a=n.barThickness,o=t.stackCount,s=t.pixels[e],u=oe.isNullOrUndef(a)?Je(t.scale,t.pixels):-1;return oe.isNullOrUndef(a)?(r=u*n.categoryPercentage,i=n.barPercentage):(r=a*o,i=1),{chunk:r/o,ratio:i,start:s-r/2}}function tt(e,t,n){var r,i=t.pixels,a=i[e],o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,u=n.categoryPercentage;return null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o),r=a-(a-Math.min(o,s))/2*u,{chunk:Math.abs(s-o)/2*u/t.stackCount,ratio:n.barPercentage,start:r}}Q._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Q._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var nt=xe.extend({dataElementType:Ge.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;xe.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Qe("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Qe("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Qe("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Qe("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Qe("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,r=this,i=r.getMeta().data;for(r._ruler=r.getRuler(),t=0,n=i.length;t<n;++t)r.updateElement(i[t],t,e)},updateElement:function(e,t,n){var r=this,i=r.getMeta(),a=r.getDataset(),o=r._resolveDataElementOptions(e,t);e._xScale=r.getScaleForId(i.xAxisID),e._yScale=r.getScaleForId(i.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:r.chart.data.labels[t]},oe.isArray(a.data[t])&&(e._model.borderSkipped=null),r._updateElementGeometry(e,t,n,o),e.pivot()},_updateElementGeometry:function(e,t,n,r){var i=this,a=e._model,o=i._getValueScale(),s=o.getBasePixel(),u=o.isHorizontal(),l=i._ruler||i.getRuler(),c=i.calculateBarValuePixels(i.index,t,r),h=i.calculateBarIndexPixels(i.index,t,l,r);a.horizontal=u,a.base=n?s:c.base,a.x=u?n?s:c.head:h.center,a.y=u?h.center:n?s:c.head,a.height=u?h.size:void 0,a.width=u?void 0:h.size},_getStacks:function(e){var t,n,r=this,i=r._getIndexScale(),a=i._getMatchingVisibleMetas(r._type),o=i.options.stacked,s=a.length,u=[];for(t=0;t<s&&(n=a[t],(!1===o||-1===u.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&u.push(n.stack),n.index!==e);++t);return u},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r},getRuler:function(){var e,t,n=this,r=n._getIndexScale(),i=[];for(e=0,t=n.getMeta().data.length;e<t;++e)i.push(r.getPixelForValue(null,e,n.index));return{pixels:i,start:r._startPixel,end:r._endPixel,stackCount:n.getStackCount(),scale:r}},calculateBarValuePixels:function(e,t,n){var r,i,a,o,s,u,l,c=this,h=c.chart,f=c._getValueScale(),d=f.isHorizontal(),p=h.data.datasets,v=f._getMatchingVisibleMetas(c._type),m=f._parseValue(p[e].data[t]),g=n.minBarLength,y=f.options.stacked,_=c.getMeta().stack,b=void 0===m.start?0:m.max>=0&&m.min>=0?m.min:m.max,k=void 0===m.start?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,w=v.length;if(y||void 0===y&&void 0!==_)for(r=0;r<w&&(i=v[r]).index!==e;++r)i.stack===_&&(a=void 0===(l=f._parseValue(p[i.index].data[t])).start?l.end:l.min>=0&&l.max>=0?l.max:l.min,(m.min<0&&a<0||m.max>=0&&a>0)&&(b+=a));return o=f.getPixelForValue(b),u=(s=f.getPixelForValue(b+k))-o,void 0!==g&&Math.abs(u)<g&&(u=g,s=k>=0&&!d||k<0&&d?o-g:o+g),{size:u,base:o,head:s,center:s+u/2}},calculateBarIndexPixels:function(e,t,n,r){var i=this,a="flex"===r.barThickness?tt(t,n,r):et(t,n,r),o=i.getStackIndex(e,i.getMeta().stack),s=a.start+a.chunk*o+a.chunk/2,u=Math.min(Xe(r.maxBarThickness,1/0),a.chunk*a.ratio);return{base:s-u/2,head:s+u/2,center:s,size:u}},draw:function(){var e=this,t=e.chart,n=e._getValueScale(),r=e.getMeta().data,i=e.getDataset(),a=r.length,o=0;for(oe.canvas.clipArea(t.ctx,t.chartArea);o<a;++o){var s=n._parseValue(i.data[o]);isNaN(s.min)||isNaN(s.max)||r[o].draw()}oe.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var e=this,t=oe.extend({},xe.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,r=e._getValueScale().options;return t.barPercentage=Xe(n.barPercentage,t.barPercentage),t.barThickness=Xe(n.barThickness,t.barThickness),t.categoryPercentage=Xe(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Xe(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Xe(r.minBarLength,t.minBarLength),t}}),rt=oe.valueOrDefault,it=oe.options.resolve;Q._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}});var at=xe.extend({dataElementType:Ge.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;oe.each(n,(function(n,r){t.updateElement(n,r,e)}))},updateElement:function(e,t,n){var r=this,i=r.getMeta(),a=e.custom||{},o=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),u=r._resolveDataElementOptions(e,t),l=r.getDataset().data[t],c=r.index,h=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"===typeof l?l:NaN,t,c),f=n?s.getBasePixel():s.getPixelForValue(l,t,c);e._xScale=o,e._yScale=s,e._options=u,e._datasetIndex=c,e._index=t,e._model={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,hitRadius:u.hitRadius,pointStyle:u.pointStyle,rotation:u.rotation,radius:n?0:u.radius,skip:a.skip||isNaN(h)||isNaN(f),x:h,y:f},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,r=oe.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=rt(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=rt(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=rt(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,r=n.chart,i=n.getDataset(),a=e.custom||{},o=i.data[t]||{},s=xe.prototype._resolveDataElementOptions.apply(n,arguments),u={chart:r,dataIndex:t,dataset:i,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=oe.extend({},s)),s.radius=it([a.radius,o.r,n._config.radius,r.options.elements.point.radius],u,t),s}}),ot=oe.valueOrDefault,st=Math.PI,ut=2*st,lt=st/2;Q._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,r,i=document.createElement("ul"),a=e.data,o=a.datasets,s=a.labels;if(i.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(r=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&r.appendChild(document.createTextNode(s[t]));return i.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,r){var i=e.getDatasetMeta(0),a=i.controller.getStyle(r);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(t.datasets[0].data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,r,i,a=t.index,o=this.chart;for(n=0,r=(o.data.datasets||[]).length;n<r;++n)(i=o.getDatasetMeta(n)).data[a]&&(i.data[a].hidden=!i.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-lt,circumference:ut,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return oe.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}});var ct=xe.extend({dataElementType:Ge.Arc,linkScales:oe.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,r,i,a=this,o=a.chart,s=o.chartArea,u=o.options,l=1,c=1,h=0,f=0,d=a.getMeta(),p=d.data,v=u.cutoutPercentage/100||0,m=u.circumference,g=a._getRingWeight(a.index);if(m<ut){var y=u.rotation%ut,_=(y+=y>=st?-ut:y<-st?ut:0)+m,b=Math.cos(y),k=Math.sin(y),w=Math.cos(_),x=Math.sin(_),S=y<=0&&_>=0||_>=ut,T=y<=lt&&_>=lt||_>=ut+lt,I=y<=-lt&&_>=-lt||_>=st+lt,E=y===-st||_>=st?-1:Math.min(b,b*v,w,w*v),C=I?-1:Math.min(k,k*v,x,x*v),P=S?1:Math.max(b,b*v,w,w*v),M=T?1:Math.max(k,k*v,x,x*v);l=(P-E)/2,c=(M-C)/2,h=-(P+E)/2,f=-(M+C)/2}for(r=0,i=p.length;r<i;++r)p[r]._options=a._resolveDataElementOptions(p[r],r);for(o.borderWidth=a.getMaxBorderWidth(),t=(s.right-s.left-o.borderWidth)/l,n=(s.bottom-s.top-o.borderWidth)/c,o.outerRadius=Math.max(Math.min(t,n)/2,0),o.innerRadius=Math.max(o.outerRadius*v,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(a._getVisibleDatasetWeightTotal()||1),o.offsetX=h*o.outerRadius,o.offsetY=f*o.outerRadius,d.total=a.calculateTotal(),a.outerRadius=o.outerRadius-o.radiusLength*a._getRingWeightOffset(a.index),a.innerRadius=Math.max(a.outerRadius-o.radiusLength*g,0),r=0,i=p.length;r<i;++r)a.updateElement(p[r],r,e)},updateElement:function(e,t,n){var r=this,i=r.chart,a=i.chartArea,o=i.options,s=o.animation,u=(a.left+a.right)/2,l=(a.top+a.bottom)/2,c=o.rotation,h=o.rotation,f=r.getDataset(),d=n&&s.animateRotate||e.hidden?0:r.calculateCircumference(f.data[t])*(o.circumference/ut),p=n&&s.animateScale?0:r.innerRadius,v=n&&s.animateScale?0:r.outerRadius,m=e._options||{};oe.extend(e,{_datasetIndex:r.index,_index:t,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:u+i.offsetX,y:l+i.offsetY,startAngle:c,endAngle:h,circumference:d,outerRadius:v,innerRadius:p,label:oe.valueAtIndexOrDefault(f.label,t,i.data.labels[t])}});var g=e._model;n&&s.animateRotate||(g.startAngle=0===t?o.rotation:r.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return oe.each(n.data,(function(n,i){e=t.data[i],isNaN(e)||n.hidden||(r+=Math.abs(e))})),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?ut*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,r,i,a,o,s,u,l=this,c=0,h=l.chart;if(!e)for(t=0,n=h.data.datasets.length;t<n;++t)if(h.isDatasetVisible(t)){e=(r=h.getDatasetMeta(t)).data,t!==l.index&&(a=r.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)i=e[t],a?(a._configure(),o=a._resolveDataElementOptions(i,t)):o=i._options,"inner"!==o.borderAlign&&(s=o.borderWidth,c=(u=o.hoverBorderWidth)>(c=s>c?s:c)?u:c);return c},setHoverStyle:function(e){var t=e._model,n=e._options,r=oe.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=ot(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=ot(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=ot(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(ot(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Q._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Q._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var ht=nt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ft=oe.valueOrDefault,dt=oe.options.resolve,pt=oe.canvas._isPointInArea;function vt(e,t){var n=e&&e.options.ticks||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function mt(e,t,n){var r=n/2,i=vt(e,r),a=vt(t,r);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function gt(e){var t,n,r,i;return oe.isObject(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i}}Q._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var yt=xe.extend({datasetElementType:Ge.Line,dataElementType:Ge.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,r=this,i=r.getMeta(),a=i.dataset,o=i.data||[],s=r.chart.options,u=r._config,l=r._showLine=ft(u.showLine,s.showLines);for(r._xScale=r.getScaleForId(i.xAxisID),r._yScale=r.getScaleForId(i.yAxisID),l&&(void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),a._scale=r._yScale,a._datasetIndex=r.index,a._children=o,a._model=r._resolveDatasetElementOptions(a),a.pivot()),t=0,n=o.length;t<n;++t)r.updateElement(o[t],t,e);for(l&&0!==a._model.tension&&r.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var r,i,a=this,o=a.getMeta(),s=e.custom||{},u=a.getDataset(),l=a.index,c=u.data[t],h=a._xScale,f=a._yScale,d=o.dataset._model,p=a._resolveDataElementOptions(e,t);r=h.getPixelForValue("object"===typeof c?c:NaN,t,l),i=n?f.getBasePixel():a.calculatePointY(c,t,l),e._xScale=h,e._yScale=f,e._options=p,e._datasetIndex=l,e._index=t,e._model={x:r,y:i,skip:s.skip||isNaN(r)||isNaN(i),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:ft(s.tension,d?d.tension:0),steppedLine:!!d&&d.steppedLine,hitRadius:p.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,r=e.custom||{},i=t.chart.options,a=i.elements.line,o=xe.prototype._resolveDatasetElementOptions.apply(t,arguments);return o.spanGaps=ft(n.spanGaps,i.spanGaps),o.tension=ft(n.lineTension,a.tension),o.steppedLine=dt([r.steppedLine,n.steppedLine,a.stepped]),o.clip=gt(ft(n.clip,mt(t._xScale,t._yScale,o.borderWidth))),o},calculatePointY:function(e,t,n){var r,i,a,o,s,u,l,c=this,h=c.chart,f=c._yScale,d=0,p=0;if(f.options.stacked){for(s=+f.getRightValue(e),l=(u=h._getSortedVisibleDatasetMetas()).length,r=0;r<l&&(a=u[r]).index!==n;++r)i=h.data.datasets[a.index],"line"===a.type&&a.yAxisID===f.id&&((o=+f.getRightValue(i.data[t]))<0?p+=o||0:d+=o||0);return s<0?f.getPixelForValue(p+s):f.getPixelForValue(d+s)}return f.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,r,i=this,a=i.chart,o=i.getMeta(),s=o.dataset._model,u=a.chartArea,l=o.data||[];function c(e,t,n){return Math.max(Math.min(e,n),t)}if(s.spanGaps&&(l=l.filter((function(e){return!e._model.skip}))),"monotone"===s.cubicInterpolationMode)oe.splineCurveMonotone(l);else for(e=0,t=l.length;e<t;++e)n=l[e]._model,r=oe.splineCurve(oe.previousItem(l,e)._model,n,oe.nextItem(l,e)._model,s.tension),n.controlPointPreviousX=r.previous.x,n.controlPointPreviousY=r.previous.y,n.controlPointNextX=r.next.x,n.controlPointNextY=r.next.y;if(a.options.elements.line.capBezierPoints)for(e=0,t=l.length;e<t;++e)n=l[e]._model,pt(n,u)&&(e>0&&pt(l[e-1]._model,u)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,u.left,u.right),n.controlPointPreviousY=c(n.controlPointPreviousY,u.top,u.bottom)),e<l.length-1&&pt(l[e+1]._model,u)&&(n.controlPointNextX=c(n.controlPointNextX,u.left,u.right),n.controlPointNextY=c(n.controlPointNextY,u.top,u.bottom)))},draw:function(){var e,t=this,n=t.chart,r=t.getMeta(),i=r.data||[],a=n.chartArea,o=n.canvas,s=0,u=i.length;for(t._showLine&&(e=r.dataset._model.clip,oe.canvas.clipArea(n.ctx,{left:!1===e.left?0:a.left-e.left,right:!1===e.right?o.width:a.right+e.right,top:!1===e.top?0:a.top-e.top,bottom:!1===e.bottom?o.height:a.bottom+e.bottom}),r.dataset.draw(),oe.canvas.unclipArea(n.ctx));s<u;++s)i[s].draw(a)},setHoverStyle:function(e){var t=e._model,n=e._options,r=oe.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=ft(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=ft(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=ft(n.hoverBorderWidth,n.borderWidth),t.radius=ft(n.hoverRadius,n.radius)}}),_t=oe.options.resolve;Q._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,r,i=document.createElement("ul"),a=e.data,o=a.datasets,s=a.labels;if(i.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(r=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&r.appendChild(document.createTextNode(s[t]));return i.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,r){var i=e.getDatasetMeta(0),a=i.controller.getStyle(r);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(t.datasets[0].data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,r,i,a=t.index,o=this.chart;for(n=0,r=(o.data.datasets||[]).length;n<r;++n)(i=o.getDatasetMeta(n)).data[a].hidden=!i.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var bt=xe.extend({dataElementType:Ge.Arc,linkScales:oe.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,r,i=this,a=i.getDataset(),o=i.getMeta(),s=i.chart.options.startAngle||0,u=i._starts=[],l=i._angles=[],c=o.data;for(i._updateRadius(),o.count=i.countVisibleElements(),t=0,n=a.data.length;t<n;t++)u[t]=s,r=i._computeAngle(t),l[t]=r,s+=r;for(t=0,n=c.length;t<n;++t)c[t]._options=i._resolveDataElementOptions(c[t],t),i.updateElement(c[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(i/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var r=this,i=r.chart,a=r.getDataset(),o=i.options,s=o.animation,u=i.scale,l=i.data.labels,c=u.xCenter,h=u.yCenter,f=o.startAngle,d=e.hidden?0:u.getDistanceFromCenterForValue(a.data[t]),p=r._starts[t],v=p+(e.hidden?0:r._angles[t]),m=s.animateScale?0:u.getDistanceFromCenterForValue(a.data[t]),g=e._options||{};oe.extend(e,{_datasetIndex:r.index,_index:t,_scale:u,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:c,y:h,innerRadius:0,outerRadius:n?m:d,startAngle:n&&s.animateRotate?f:p,endAngle:n&&s.animateRotate?f:v,label:oe.valueAtIndexOrDefault(l,t,l[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return oe.each(t.data,(function(t,r){isNaN(e.data[r])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,r=oe.getHoverColor,i=oe.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=i(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=i(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=i(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,r=t.getDataset(),i=t.getMeta();if(isNaN(r.data[e])||i.data[e].hidden)return 0;var a={chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index};return _t([t.chart.options.elements.arc.angle,2*Math.PI/n],a,e)}});Q._set("pie",oe.clone(Q.doughnut)),Q._set("pie",{cutoutPercentage:0});var kt=ct,wt=oe.valueOrDefault;Q._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var xt=xe.extend({datasetElementType:Ge.Line,dataElementType:Ge.Point,linkScales:oe.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,r=this,i=r.getMeta(),a=i.dataset,o=i.data||[],s=r.chart.scale,u=r._config;for(void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),a._scale=s,a._datasetIndex=r.index,a._children=o,a._loop=!0,a._model=r._resolveDatasetElementOptions(a),a.pivot(),t=0,n=o.length;t<n;++t)r.updateElement(o[t],t,e);for(r.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var r=this,i=e.custom||{},a=r.getDataset(),o=r.chart.scale,s=o.getPointPositionForValue(t,a.data[t]),u=r._resolveDataElementOptions(e,t),l=r.getMeta().dataset._model,c=n?o.xCenter:s.x,h=n?o.yCenter:s.y;e._scale=o,e._options=u,e._datasetIndex=r.index,e._index=t,e._model={x:c,y:h,skip:i.skip||isNaN(c)||isNaN(h),radius:u.radius,pointStyle:u.pointStyle,rotation:u.rotation,backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,tension:wt(i.tension,l?l.tension:0),hitRadius:u.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,r=xe.prototype._resolveDatasetElementOptions.apply(e,arguments);return r.spanGaps=wt(t.spanGaps,n.spanGaps),r.tension=wt(t.lineTension,n.elements.line.tension),r},updateBezierControlPoints:function(){var e,t,n,r,i=this,a=i.getMeta(),o=i.chart.chartArea,s=a.data||[];function u(e,t,n){return Math.max(Math.min(e,n),t)}for(a.dataset._model.spanGaps&&(s=s.filter((function(e){return!e._model.skip}))),e=0,t=s.length;e<t;++e)n=s[e]._model,r=oe.splineCurve(oe.previousItem(s,e,!0)._model,n,oe.nextItem(s,e,!0)._model,n.tension),n.controlPointPreviousX=u(r.previous.x,o.left,o.right),n.controlPointPreviousY=u(r.previous.y,o.top,o.bottom),n.controlPointNextX=u(r.next.x,o.left,o.right),n.controlPointNextY=u(r.next.y,o.top,o.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,r=oe.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=wt(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=wt(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=wt(n.hoverBorderWidth,n.borderWidth),t.radius=wt(n.hoverRadius,n.radius)}});Q._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),Q._set("global",{datasets:{scatter:{showLine:!1}}});var St={bar:nt,bubble:at,doughnut:ct,horizontalBar:ht,line:yt,polarArea:bt,pie:kt,radar:xt,scatter:yt};function Tt(e,t){return e.native?{x:e.x,y:e.y}:oe.getRelativePosition(e,t)}function It(e,t){var n,r,i,a,o,s,u=e._getSortedVisibleDatasetMetas();for(r=0,a=u.length;r<a;++r)for(i=0,o=(n=u[r].data).length;i<o;++i)(s=n[i])._view.skip||t(s)}function Et(e,t){var n=[];return It(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function Ct(e,t,n,r){var i=Number.POSITIVE_INFINITY,a=[];return It(e,(function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),s=r(t,o);s<i?(a=[e],i=s):s===i&&a.push(e)}})),a}function Pt(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Mt(e,t,n){var r=Tt(t,e);n.axis=n.axis||"x";var i=Pt(n.axis),a=n.intersect?Et(e,r):Ct(e,r,!1,i),o=[];return a.length?(e._getSortedVisibleDatasetMetas().forEach((function(e){var t=e.data[a[0]._index];t&&!t._view.skip&&o.push(t)})),o):[]}var At={modes:{single:function(e,t){var n=Tt(t,e),r=[];return It(e,(function(e){if(e.inRange(n.x,n.y))return r.push(e),r})),r.slice(0,1)},label:Mt,index:Mt,dataset:function(e,t,n){var r=Tt(t,e);n.axis=n.axis||"xy";var i=Pt(n.axis),a=n.intersect?Et(e,r):Ct(e,r,!1,i);return a.length>0&&(a=e.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(e,t){return Mt(e,t,{intersect:!1})},point:function(e,t){return Et(e,Tt(t,e))},nearest:function(e,t,n){var r=Tt(t,e);n.axis=n.axis||"xy";var i=Pt(n.axis);return Ct(e,r,n.intersect,i)},x:function(e,t,n){var r=Tt(t,e),i=[],a=!1;return It(e,(function(e){e.inXRange(r.x)&&i.push(e),e.inRange(r.x,r.y)&&(a=!0)})),n.intersect&&!a&&(i=[]),i},y:function(e,t,n){var r=Tt(t,e),i=[],a=!1;return It(e,(function(e){e.inYRange(r.y)&&i.push(e),e.inRange(r.x,r.y)&&(a=!0)})),n.intersect&&!a&&(i=[]),i}}},Dt=oe.extend;function Lt(e,t){return oe.where(e,(function(e){return e.pos===t}))}function Nt(e,t){return e.sort((function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Ot(e){var t,n,r,i=[];for(t=0,n=(e||[]).length;t<n;++t)r=e[t],i.push({index:t,box:r,pos:r.position,horizontal:r.isHorizontal(),weight:r.weight});return i}function Rt(e,t){var n,r,i;for(n=0,r=e.length;n<r;++n)(i=e[n]).width=i.horizontal?i.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,i.height=i.horizontal&&t.hBoxMaxHeight}function Ft(e){var t=Ot(e),n=Nt(Lt(t,"left"),!0),r=Nt(Lt(t,"right")),i=Nt(Lt(t,"top"),!0),a=Nt(Lt(t,"bottom"));return{leftAndTop:n.concat(i),rightAndBottom:r.concat(a),chartArea:Lt(t,"chartArea"),vertical:n.concat(r),horizontal:i.concat(a)}}function zt(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Vt(e,t,n){var r,i,a=n.box,o=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?a.height:a.width,e[n.pos]+=n.size,a.getPadding){var s=a.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(r=t.outerWidth-zt(o,e,"left","right"),i=t.outerHeight-zt(o,e,"top","bottom"),r!==e.w||i!==e.h){e.w=r,e.h=i;var u=n.horizontal?[r,e.w]:[i,e.h];return u[0]!==u[1]&&(!isNaN(u[0])||!isNaN(u[1]))}}function Bt(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function jt(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Ut(e,t,n){var r,i,a,o,s,u,l=[];for(r=0,i=e.length;r<i;++r)(o=(a=e[r]).box).update(a.width||t.w,a.height||t.h,jt(a.horizontal,t)),Vt(t,n,a)&&(u=!0,l.length&&(s=!0)),o.fullWidth||l.push(a);return s&&Ut(l,t,n)||u}function Wt(e,t,n){var r,i,a,o,s=n.padding,u=t.x,l=t.y;for(r=0,i=e.length;r<i;++r)o=(a=e[r]).box,a.horizontal?(o.left=o.fullWidth?s.left:t.left,o.right=o.fullWidth?n.outerWidth-s.right:t.left+t.w,o.top=l,o.bottom=l+o.height,o.width=o.right-o.left,l=o.bottom):(o.left=u,o.right=u+o.width,o.top=t.top,o.bottom=t.top+t.h,o.height=o.bottom-o.top,u=o.right);t.x=u,t.y=l}Q._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var qt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,i=["fullWidth","position","weight"],a=i.length,o=0;o<a;++o)r=i[o],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,t,n){if(e){var r=e.options.layout||{},i=oe.options.toPadding(r.padding),a=t-i.width,o=n-i.height,s=Ft(e.boxes),u=s.vertical,l=s.horizontal,c=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,vBoxMaxWidth:a/2/u.length,hBoxMaxHeight:o/2}),h=Dt({maxPadding:Dt({},i),w:a,h:o,x:i.left,y:i.top},i);Rt(u.concat(l),c),Ut(u,h,c),Ut(l,h,c)&&Ut(u,h,c),Bt(h),Wt(s.leftAndTop,h,c),h.x+=h.w,h.y+=h.h,Wt(s.rightAndBottom,h,c),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h},oe.each(s.chartArea,(function(t){var n=t.box;Dt(n,e.chartArea),n.update(h.w,h.h)}))}}},Ht={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},Gt="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n",Yt=n(Object.freeze({__proto__:null,default:Gt})),Kt="$chartjs",Zt="chartjs-",$t=Zt+"size-monitor",Qt=Zt+"render-monitor",Xt=Zt+"render-animation",Jt=["animationstart","webkitAnimationStart"],en={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function tn(e,t){var n=oe.getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function nn(e,t){var n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Kt]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===i||""===i){var a=tn(e,"width");void 0!==a&&(e.width=a)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var o=tn(e,"height");void 0!==a&&(e.height=o)}return e}var rn=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}(),an=!!rn&&{passive:!0};function on(e,t,n){e.addEventListener(t,n,an)}function sn(e,t,n){e.removeEventListener(t,n,an)}function un(e,t,n,r,i){return{type:e,chart:t,native:i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function ln(e,t){var n=en[e.type]||e.type,r=oe.getRelativePosition(e,t);return un(n,t,r.x,r.y,e)}function cn(e,t){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,oe.requestAnimFrame.call(window,(function(){n=!1,e.apply(t,r)})))}}function hn(e){var t=document.createElement("div");return t.className=e||"",t}function fn(e){var t=1e6,n=hn($t),r=hn($t+"-expand"),i=hn($t+"-shrink");r.appendChild(hn()),i.appendChild(hn()),n.appendChild(r),n.appendChild(i),n._reset=function(){r.scrollLeft=t,r.scrollTop=t,i.scrollLeft=t,i.scrollTop=t};var a=function(){n._reset(),e()};return on(r,"scroll",a.bind(r,"expand")),on(i,"scroll",a.bind(i,"shrink")),n}function dn(e,t){var n=e[Kt]||(e[Kt]={}),r=n.renderProxy=function(e){e.animationName===Xt&&t()};oe.each(Jt,(function(t){on(e,t,r)})),n.reflow=!!e.offsetParent,e.classList.add(Qt)}function pn(e){var t=e[Kt]||{},n=t.renderProxy;n&&(oe.each(Jt,(function(t){sn(e,t,n)})),delete t.renderProxy),e.classList.remove(Qt)}function vn(e,t,n){var r=e[Kt]||(e[Kt]={}),i=r.resizer=fn(cn((function(){if(r.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,a=i?i.clientWidth:0;t(un("resize",n)),i&&i.clientWidth<a&&n.canvas&&t(un("resize",n))}})));dn(e,(function(){if(r.resizer){var t=e.parentNode;t&&t!==i.parentNode&&t.insertBefore(i,t.firstChild),i._reset()}}))}function mn(e){var t=e[Kt]||{},n=t.resizer;delete t.resizer,pn(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function gn(e,t){var n=e[Kt]||(e[Kt]={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(t)),e.appendChild(r)}}var yn={disableCSSInjection:!1,_enabled:"undefined"!==typeof window&&"undefined"!==typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;gn(t.host?t:document.head,Yt)}},acquireContext:function(e,t){"string"===typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),nn(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[Kt]){var n=t[Kt].initial;["height","width"].forEach((function(e){var r=n[e];oe.isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)})),oe.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t[Kt]}},addEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var i=n[Kt]||(n[Kt]={});on(r,t,(i.proxies||(i.proxies={}))[e.id+"_"+t]=function(t){n(ln(t,e))})}else vn(r,n,e)},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var i=((n[Kt]||{}).proxies||{})[e.id+"_"+t];i&&sn(r,t,i)}else mn(r)}};oe.addEvent=on,oe.removeEvent=sn;var _n=yn._enabled?yn:Ht,bn=oe.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},_n);Q._set("global",{plugins:{}});var kn={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,i,a,o,s,u=this.descriptors(e),l=u.length;for(r=0;r<l;++r)if("function"===typeof(s=(a=(i=u[r]).plugin)[t])&&((o=[e].concat(n||[])).push(i.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],r=[],i=e&&e.config||{},a=i.options&&i.options.plugins||{};return this._plugins.concat(i.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,i=a[t];!1!==i&&(!0===i&&(i=oe.clone(Q.global.plugins[t])),n.push(e),r.push({plugin:e,options:i||{}}))}})),t.descriptors=r,t.id=this._cacheId,r},_invalidate:function(e){delete e.$plugins}},wn={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=oe.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?oe.merge(Object.create(null),[Q.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=oe.extend(n.defaults[e],t))},addScalesToLayout:function(e){oe.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,qt.addBox(e,t)}))}},xn=oe.valueOrDefault,Sn=oe.rtl.getRtlAdapter;Q._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:oe.noop,title:function(e,t){var n="",r=t.labels,i=r?r.length:0;if(e.length>0){var a=e[0];a.label?n=a.label:a.xLabel?n=a.xLabel:i>0&&a.index<i&&(n=r[a.index])}return n},afterTitle:oe.noop,beforeBody:oe.noop,beforeLabel:oe.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),oe.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:oe.noop,afterBody:oe.noop,beforeFooter:oe.noop,footer:oe.noop,afterFooter:oe.noop}}});var Tn={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:r/a,y:i/a}},nearest:function(e,t){var n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n];if(u&&u.hasValue()){var l=u.getCenterPoint(),c=oe.distanceBetweenPoints(t,l);c<s&&(s=c,i=u)}}if(i){var h=i.tooltipPosition();a=h.x,o=h.y}return{x:a,y:o}}};function In(e,t){return t&&(oe.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function En(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Cn(e){var t=e._xScale,n=e._yScale||e._scale,r=e._index,i=e._datasetIndex,a=e._chart.getDatasetMeta(i).controller,o=a._getIndexScale(),s=a._getValueScale();return{xLabel:t?t.getLabelForIndex(r,i):"",yLabel:n?n.getLabelForIndex(r,i):"",label:o?""+o.getLabelForIndex(r,i):"",value:s?""+s.getLabelForIndex(r,i):"",index:r,datasetIndex:i,x:e._model.x,y:e._model.y}}function Pn(e){var t=Q.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:xn(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:xn(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:xn(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:xn(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:xn(e.titleFontStyle,t.defaultFontStyle),titleFontSize:xn(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:xn(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:xn(e.footerFontStyle,t.defaultFontStyle),footerFontSize:xn(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Mn(e,t){var n=e._chart.ctx,r=2*t.yPadding,i=0,a=t.body,o=a.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);o+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,u=t.footer.length,l=t.titleFontSize,c=t.bodyFontSize,h=t.footerFontSize;r+=s*l,r+=s?(s-1)*t.titleSpacing:0,r+=s?t.titleMarginBottom:0,r+=o*c,r+=o?(o-1)*t.bodySpacing:0,r+=u?t.footerMarginTop:0,r+=u*h,r+=u?(u-1)*t.footerSpacing:0;var f=0,d=function(e){i=Math.max(i,n.measureText(e).width+f)};return n.font=oe.fontString(l,t._titleFontStyle,t._titleFontFamily),oe.each(t.title,d),n.font=oe.fontString(c,t._bodyFontStyle,t._bodyFontFamily),oe.each(t.beforeBody.concat(t.afterBody),d),f=t.displayColors?c+2:0,oe.each(a,(function(e){oe.each(e.before,d),oe.each(e.lines,d),oe.each(e.after,d)})),f=0,n.font=oe.fontString(h,t._footerFontStyle,t._footerFontFamily),oe.each(t.footer,d),{width:i+=2*t.xPadding,height:r}}function An(e,t){var n,r,i,a,o,s=e._model,u=e._chart,l=e._chart.chartArea,c="center",h="center";s.y<t.height?h="top":s.y>u.height-t.height&&(h="bottom");var f=(l.left+l.right)/2,d=(l.top+l.bottom)/2;"center"===h?(n=function(e){return e<=f},r=function(e){return e>f}):(n=function(e){return e<=t.width/2},r=function(e){return e>=u.width-t.width/2}),i=function(e){return e+t.width+s.caretSize+s.caretPadding>u.width},a=function(e){return e-t.width-s.caretSize-s.caretPadding<0},o=function(e){return e<=d?"top":"bottom"},n(s.x)?(c="left",i(s.x)&&(c="center",h=o(s.y))):r(s.x)&&(c="right",a(s.x)&&(c="center",h=o(s.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:h}}function Dn(e,t,n,r){var i=e.x,a=e.y,o=e.caretSize,s=e.caretPadding,u=e.cornerRadius,l=n.xAlign,c=n.yAlign,h=o+s,f=u+s;return"right"===l?i-=t.width:"center"===l&&((i-=t.width/2)+t.width>r.width&&(i=r.width-t.width),i<0&&(i=0)),"top"===c?a+=h:a-="bottom"===c?t.height+h:t.height/2,"center"===c?"left"===l?i+=h:"right"===l&&(i-=h):"left"===l?i-=f:"right"===l&&(i+=f),{x:i,y:a}}function Ln(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Nn(e){return In([],En(e))}var On=pe.extend({initialize:function(){this._model=Pn(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options.callbacks,n=t.beforeTitle.apply(e,arguments),r=t.title.apply(e,arguments),i=t.afterTitle.apply(e,arguments),a=[];return a=In(a,En(n)),a=In(a,En(r)),a=In(a,En(i))},getBeforeBody:function(){return Nn(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,r=n._options.callbacks,i=[];return oe.each(e,(function(e){var a={before:[],lines:[],after:[]};In(a.before,En(r.beforeLabel.call(n,e,t))),In(a.lines,r.label.call(n,e,t)),In(a.after,En(r.afterLabel.call(n,e,t))),i.push(a)})),i},getAfterBody:function(){return Nn(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),i=t.afterFooter.apply(e,arguments),a=[];return a=In(a,En(n)),a=In(a,En(r)),a=In(a,En(i))},update:function(e){var t,n,r=this,i=r._options,a=r._model,o=r._model=Pn(i),s=r._active,u=r._data,l={xAlign:a.xAlign,yAlign:a.yAlign},c={x:a.x,y:a.y},h={width:a.width,height:a.height},f={x:a.caretX,y:a.caretY};if(s.length){o.opacity=1;var d=[],p=[];f=Tn[i.position].call(r,s,r._eventPosition);var v=[];for(t=0,n=s.length;t<n;++t)v.push(Cn(s[t]));i.filter&&(v=v.filter((function(e){return i.filter(e,u)}))),i.itemSort&&(v=v.sort((function(e,t){return i.itemSort(e,t,u)}))),oe.each(v,(function(e){d.push(i.callbacks.labelColor.call(r,e,r._chart)),p.push(i.callbacks.labelTextColor.call(r,e,r._chart))})),o.title=r.getTitle(v,u),o.beforeBody=r.getBeforeBody(v,u),o.body=r.getBody(v,u),o.afterBody=r.getAfterBody(v,u),o.footer=r.getFooter(v,u),o.x=f.x,o.y=f.y,o.caretPadding=i.caretPadding,o.labelColors=d,o.labelTextColors=p,o.dataPoints=v,c=Dn(o,h=Mn(this,o),l=An(this,h),r._chart)}else o.opacity=0;return o.xAlign=l.xAlign,o.yAlign=l.yAlign,o.x=c.x,o.y=c.y,o.width=h.width,o.height=h.height,o.caretX=f.x,o.caretY=f.y,r._model=o,e&&i.custom&&i.custom.call(r,o),r},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,i=this.getCaretPosition(e,t,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var r,i,a,o,s,u,l=n.caretSize,c=n.cornerRadius,h=n.xAlign,f=n.yAlign,d=e.x,p=e.y,v=t.width,m=t.height;if("center"===f)s=p+m/2,"left"===h?(i=(r=d)-l,a=r,o=s+l,u=s-l):(i=(r=d+v)+l,a=r,o=s-l,u=s+l);else if("left"===h?(r=(i=d+c+l)-l,a=i+l):"right"===h?(r=(i=d+v-c-l)-l,a=i+l):(r=(i=n.caretX)-l,a=i+l),"top"===f)s=(o=p)-l,u=o;else{s=(o=p+m)+l,u=o;var g=a;a=r,r=g}return{x1:r,x2:i,x3:a,y1:o,y2:s,y3:u}},drawTitle:function(e,t,n){var r,i,a,o=t.title,s=o.length;if(s){var u=Sn(t.rtl,t.x,t.width);for(e.x=Ln(t,t._titleAlign),n.textAlign=u.textAlign(t._titleAlign),n.textBaseline="middle",r=t.titleFontSize,i=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=oe.fontString(r,t._titleFontStyle,t._titleFontFamily),a=0;a<s;++a)n.fillText(o[a],u.x(e.x),e.y+r/2),e.y+=r+i,a+1===s&&(e.y+=t.titleMarginBottom-i)}},drawBody:function(e,t,n){var r,i,a,o,s,u,l,c,h=t.bodyFontSize,f=t.bodySpacing,d=t._bodyAlign,p=t.body,v=t.displayColors,m=0,g=v?Ln(t,"left"):0,y=Sn(t.rtl,t.x,t.width),_=function(t){n.fillText(t,y.x(e.x+m),e.y+h/2),e.y+=h+f},b=y.textAlign(d);for(n.textAlign=d,n.textBaseline="middle",n.font=oe.fontString(h,t._bodyFontStyle,t._bodyFontFamily),e.x=Ln(t,b),n.fillStyle=t.bodyFontColor,oe.each(t.beforeBody,_),m=v&&"right"!==b?"center"===d?h/2+1:h+2:0,s=0,l=p.length;s<l;++s){for(r=p[s],i=t.labelTextColors[s],a=t.labelColors[s],n.fillStyle=i,oe.each(r.before,_),u=0,c=(o=r.lines).length;u<c;++u){if(v){var k=y.x(g);n.fillStyle=t.legendColorBackground,n.fillRect(y.leftForLtr(k,h),e.y,h,h),n.lineWidth=1,n.strokeStyle=a.borderColor,n.strokeRect(y.leftForLtr(k,h),e.y,h,h),n.fillStyle=a.backgroundColor,n.fillRect(y.leftForLtr(y.xPlus(k,1),h-2),e.y+1,h-2,h-2),n.fillStyle=i}_(o[u])}oe.each(r.after,_)}m=0,oe.each(t.afterBody,_),e.y-=f},drawFooter:function(e,t,n){var r,i,a=t.footer,o=a.length;if(o){var s=Sn(t.rtl,t.x,t.width);for(e.x=Ln(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",r=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=oe.fontString(r,t._footerFontStyle,t._footerFontFamily),i=0;i<o;++i)n.fillText(a[i],s.x(e.x),e.y+r/2),e.y+=r+t.footerSpacing}},drawBackground:function(e,t,n,r){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var i=t.xAlign,a=t.yAlign,o=e.x,s=e.y,u=r.width,l=r.height,c=t.cornerRadius;n.beginPath(),n.moveTo(o+c,s),"top"===a&&this.drawCaret(e,r),n.lineTo(o+u-c,s),n.quadraticCurveTo(o+u,s,o+u,s+c),"center"===a&&"right"===i&&this.drawCaret(e,r),n.lineTo(o+u,s+l-c),n.quadraticCurveTo(o+u,s+l,o+u-c,s+l),"bottom"===a&&this.drawCaret(e,r),n.lineTo(o+c,s+l),n.quadraticCurveTo(o,s+l,o,s+l-c),"center"===a&&"left"===i&&this.drawCaret(e,r),n.lineTo(o,s+c),n.quadraticCurveTo(o,s,o+c,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},i=Math.abs(t.opacity<.001)?0:t.opacity,a=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,t,e,n),r.y+=t.yPadding,oe.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),oe.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t=this,n=t._options,r=!1;return t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:(t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),n.reverse&&t._active.reverse()),(r=!oe.arrayEquals(t._active,t._lastActive))&&(t._lastActive=t._active,(n.enabled||n.custom)&&(t._eventPosition={x:e.x,y:e.y},t.update(!0),t.pivot())),r}}),Rn=Tn,Fn=On;Fn.positioners=Rn;var zn=oe.valueOrDefault;function Vn(){return oe.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,r){if("xAxes"===e||"yAxes"===e){var i,a,o,s=n[e].length;for(t[e]||(t[e]=[]),i=0;i<s;++i)o=n[e][i],a=zn(o.type,"xAxes"===e?"category":"linear"),i>=t[e].length&&t[e].push({}),!t[e][i].type||o.type&&o.type!==t[e][i].type?oe.merge(t[e][i],[wn.getScaleDefaults(a),o]):oe.merge(t[e][i],o)}else oe._merger(e,t,n,r)}})}function Bn(){return oe.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,r){var i=t[e]||Object.create(null),a=n[e];"scales"===e?t[e]=Vn(i,a):"scale"===e?t[e]=oe.merge(i,[wn.getScaleDefaults(a.type),a]):oe._merger(e,t,n,r)}})}function jn(e){var t=(e=e||Object.create(null)).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Bn(Q.global,Q[e.type],e.options||{}),e}function Un(e){var t=e.options;oe.each(e.scales,(function(t){qt.removeBox(e,t)})),t=Bn(Q.global,Q[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Wn(e,t,n){var r,i=function(e){return e.id===r};do{r=t+n++}while(oe.findIndex(e,i)>=0);return r}function qn(e){return"top"===e||"bottom"===e}function Hn(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}Q._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Gn=function(e,t){return this.construct(e,t),this};oe.extend(Gn.prototype,{construct:function(e,t){var n=this;t=jn(t);var r=bn.acquireContext(e,t),i=r&&r.canvas,a=i&&i.height,o=i&&i.width;n.id=oe.uid(),n.ctx=r,n.canvas=i,n.config=t,n.width=o,n.height=a,n.aspectRatio=a?o/a:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Gn.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),r&&i?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return kn.notify(e,"beforeInit"),oe.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),kn.notify(e,"afterInit"),e},clear:function(){return oe.canvas.clear(this),this},stop:function(){return ge.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,i=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(oe.getMaximumWidth(r))),o=Math.max(0,Math.floor(i?a/i:oe.getMaximumHeight(r)));if((t.width!==a||t.height!==o)&&(r.width=t.width=a,r.height=t.height=o,r.style.width=a+"px",r.style.height=o+"px",oe.retinaScale(t,n.devicePixelRatio),!e)){var s={width:a,height:o};kn.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;oe.each(t.xAxes,(function(e,n){e.id||(e.id=Wn(t.xAxes,"x-axis-",n))})),oe.each(t.yAxes,(function(e,n){e.id||(e.id=Wn(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},r=[],i=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(r=r.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&r.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),oe.each(r,(function(t){var r=t.options,a=r.id,o=zn(r.type,t.dtype);qn(r.position)!==qn(t.dposition)&&(r.position=t.dposition),i[a]=!0;var s=null;if(a in n&&n[a].type===o)(s=n[a]).options=r,s.ctx=e.ctx,s.chart=e;else{var u=wn.getScaleConstructor(o);if(!u)return;s=new u({id:a,type:o,options:r,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)})),oe.each(i,(function(e,t){e||delete n[t]})),e.scales=n,wn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,r=[],i=n.data.datasets;for(e=0,t=i.length;e<t;e++){var a=i[e],o=n.getDatasetMeta(e),s=a.type||n.config.type;if(o.type&&o.type!==s&&(n.destroyDatasetMeta(e),o=n.getDatasetMeta(e)),o.type=s,o.order=a.order||0,o.index=e,o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var u=St[o.type];if(void 0===u)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new u(n,e),r.push(o.controller)}}return r},resetElements:function(){var e=this;oe.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,r=this;if(e&&"object"===typeof e||(e={duration:e,lazy:arguments[1]}),Un(r),kn._invalidate(r),!1!==kn.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var i=r.buildOrUpdateControllers();for(t=0,n=r.data.datasets.length;t<n;t++)r.getDatasetMeta(t).controller.buildOrUpdateElements();r.updateLayout(),r.options.animation&&r.options.animation.duration&&oe.each(i,(function(e){e.reset()})),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],kn.notify(r,"afterUpdate"),r._layers.sort(Hn("z","_idx")),r._bufferedRender?r._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:r.render(e)}},updateLayout:function(){var e=this;!1!==kn.notify(e,"beforeLayout")&&(qt.update(this,this.width,this.height),e._layers=[],oe.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),kn.notify(e,"afterScaleUpdate"),kn.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==kn.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);kn.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),r={meta:n,index:e};!1!==kn.notify(t,"beforeDatasetUpdate",[r])&&(n.controller._update(),kn.notify(t,"afterDatasetUpdate",[r]))},render:function(e){var t=this;e&&"object"===typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,r=zn(e.duration,n&&n.duration),i=e.lazy;if(!1!==kn.notify(t,"beforeRender")){var a=function(e){kn.notify(t,"afterRender"),oe.callback(n&&n.onComplete,[e],t)};if(n&&r){var o=new me({numSteps:r/16.66,easing:e.easing||n.easing,render:function(e,t){var n=oe.easing.effects[t.easing],r=t.currentStep,i=r/t.numSteps;e.draw(n(i),i,r)},onAnimationProgress:n.onProgress,onAnimationComplete:a});ge.addAnimation(t,o,r,i)}else t.draw(),a(new me({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,r=this;if(r.clear(),oe.isNullOrUndef(e)&&(e=1),r.transition(e),!(r.width<=0||r.height<=0)&&!1!==kn.notify(r,"beforeDraw",[e])){for(n=r._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(r.chartArea);for(r.drawDatasets(e);t<n.length;++t)n[t].draw(r.chartArea);r._drawTooltip(e),kn.notify(r,"afterDraw",[e])}},transition:function(e){for(var t=this,n=0,r=(t.data.datasets||[]).length;n<r;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,r=this,i=[];for(t=0,n=(r.data.datasets||[]).length;t<n;++t)e&&!r.isDatasetVisible(t)||i.push(r.getDatasetMeta(t));return i.sort(Hn("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n,r=this;if(!1!==kn.notify(r,"beforeDatasetsDraw",[e])){for(n=(t=r._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)r.drawDataset(t[n],e);kn.notify(r,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,r={meta:e,index:e.index,easingValue:t};!1!==kn.notify(n,"beforeDatasetDraw",[r])&&(e.controller.draw(t),kn.notify(n,"afterDatasetDraw",[r]))},_drawTooltip:function(e){var t=this,n=t.tooltip,r={tooltip:n,easingValue:e};!1!==kn.notify(t,"beforeTooltipDraw",[r])&&(n.draw(),kn.notify(t,"afterTooltipDraw",[r]))},getElementAtEvent:function(e){return At.modes.single(this,e)},getElementsAtEvent:function(e){return At.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return At.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=At.modes[t];return"function"===typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return At.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var r=n._meta[t.id];return r||(r=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:e}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"===typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,r=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);r&&(n.unbindEvents(),oe.canvas.clear(n),bn.releaseContext(n.ctx),n.canvas=null,n.ctx=null),kn.notify(n,"destroy"),delete Gn.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Fn({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};oe.each(e.options.events,(function(r){bn.addEventListener(e,r,n),t[r]=n})),e.options.responsive&&(n=function(){e.resize()},bn.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,oe.each(t,(function(t,n){bn.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var r,i,a,o=n?"set":"remove";for(i=0,a=e.length;i<a;++i)(r=e[i])&&this.getDatasetMeta(r._datasetIndex).controller[o+"HoverStyle"](r);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==kn.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);n&&(r=n._start?n.handleEvent(e):r|n.handleEvent(e)),kn.notify(t,"afterEvent",[e]);var i=t._bufferedRequest;return i?t.render(i):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,n=t.options||{},r=n.hover,i=!1;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,r.mode,r),oe.callback(n.onHover||n.hover.onHover,[e.native,t.active],t),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,r.mode,!1),t.active.length&&r.mode&&t.updateHoverStyle(t.active,r.mode,!0),i=!oe.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,i}}),Gn.instances={};var Yn=Gn;Gn.Controller=Gn,Gn.types={},oe.configMerge=Bn,oe.scaleMerge=Vn;var Kn=function(){function e(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function t(e){return void 0!==e&&null!==e&&"none"!==e}function n(n,r,i){var a=document.defaultView,o=oe._getParentNode(n),s=a.getComputedStyle(n)[r],u=a.getComputedStyle(o)[r],l=t(s),c=t(u),h=Number.POSITIVE_INFINITY;return l||c?Math.min(l?e(s,n,i):h,c?e(u,o,i):h):"none"}oe.where=function(e,t){if(oe.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return oe.each(e,(function(e){t(e)&&n.push(e)})),n},oe.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,i=e.length;r<i;++r)if(t.call(n,e[r],r,e))return r;return-1},oe.findNextWhere=function(e,t,n){oe.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},oe.findPreviousWhere=function(e,t,n){oe.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},oe.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe.almostEquals=function(e,t,n){return Math.abs(e-t)<n},oe.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},oe.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},oe.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},oe.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},oe.toRadians=function(e){return e*(Math.PI/180)},oe.toDegrees=function(e){return e*(180/Math.PI)},oe._decimalPlaces=function(e){if(oe.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},oe.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:i}},oe.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},oe.aliasPixel=function(e){return e%2===0?0:.5},oe._alignPixel=function(e,t,n){var r=e.currentDevicePixelRatio,i=n/2;return Math.round((t-i)*r)/r+i},oe.splineCurve=function(e,t,n,r){var i=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)),u=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=s/(s+u),c=u/(s+u),h=r*(l=isNaN(l)?0:l),f=r*(c=isNaN(c)?0:c);return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}},oe.EPSILON=Number.EPSILON||1e-14,oe.splineCurveMonotone=function(e){var t,n,r,i,a,o,s,u,l,c=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),h=c.length;for(t=0;t<h;++t)if(!(r=c[t]).model.skip){if(n=t>0?c[t-1]:null,(i=t<h-1?c[t+1]:null)&&!i.model.skip){var f=i.model.x-r.model.x;r.deltaK=0!==f?(i.model.y-r.model.y)/f:0}!n||n.model.skip?r.mK=r.deltaK:!i||i.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}for(t=0;t<h-1;++t)r=c[t],i=c[t+1],r.model.skip||i.model.skip||(oe.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(a=r.mK/r.deltaK,o=i.mK/r.deltaK,(u=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(u),r.mK=a*s*r.deltaK,i.mK=o*s*r.deltaK)));for(t=0;t<h;++t)(r=c[t]).model.skip||(n=t>0?c[t-1]:null,i=t<h-1?c[t+1]:null,n&&!n.model.skip&&(l=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-l,r.model.controlPointPreviousY=r.model.y-l*r.mK),i&&!i.model.skip&&(l=(i.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+l,r.model.controlPointNextY=r.model.y+l*r.mK))},oe.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},oe.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},oe.niceNum=function(e,t){var n=Math.floor(oe.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},oe.requestAnimFrame="undefined"===typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},oe.getRelativePosition=function(e,t){var n,r,i=e.originalEvent||e,a=e.target||e.srcElement,o=a.getBoundingClientRect(),s=i.touches;s&&s.length>0?(n=s[0].clientX,r=s[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(oe.getStyle(a,"padding-left")),l=parseFloat(oe.getStyle(a,"padding-top")),c=parseFloat(oe.getStyle(a,"padding-right")),h=parseFloat(oe.getStyle(a,"padding-bottom")),f=o.right-o.left-u-c,d=o.bottom-o.top-l-h;return{x:n=Math.round((n-o.left-u)/f*a.width/t.currentDevicePixelRatio),y:r=Math.round((r-o.top-l)/d*a.height/t.currentDevicePixelRatio)}},oe.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},oe.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},oe._calculatePadding=function(e,t,n){return(t=oe.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},oe._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},oe.getMaximumWidth=function(e){var t=oe._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,r=n-oe._calculatePadding(t,"padding-left",n)-oe._calculatePadding(t,"padding-right",n),i=oe.getConstraintWidth(e);return isNaN(i)?r:Math.min(r,i)},oe.getMaximumHeight=function(e){var t=oe._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,r=n-oe._calculatePadding(t,"padding-top",n)-oe._calculatePadding(t,"padding-bottom",n),i=oe.getConstraintHeight(e);return isNaN(i)?r:Math.min(r,i)},oe.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},oe.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!==typeof window&&window.devicePixelRatio||1;if(1!==n){var r=e.canvas,i=e.height,a=e.width;r.height=i*n,r.width=a*n,e.ctx.scale(n,n),r.style.height||r.style.width||(r.style.height=i+"px",r.style.width=a+"px")}},oe.fontString=function(e,t,n){return t+" "+e+"px "+n},oe.longestText=function(e,t,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.font=t;var o,s,u,l,c,h=0,f=n.length;for(o=0;o<f;o++)if(void 0!==(l=n[o])&&null!==l&&!0!==oe.isArray(l))h=oe.measureText(e,i,a,h,l);else if(oe.isArray(l))for(s=0,u=l.length;s<u;s++)void 0===(c=l[s])||null===c||oe.isArray(c)||(h=oe.measureText(e,i,a,h,c));var d=a.length/2;if(d>n.length){for(o=0;o<d;o++)delete i[a[o]];a.splice(0,d)}return h},oe.measureText=function(e,t,n,r,i){var a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r},oe.numberOfLabelLines=function(e){var t=1;return oe.each(e,(function(e){oe.isArray(e)&&e.length>t&&(t=e.length)})),t},oe.color=R?function(e){return e instanceof CanvasGradient&&(e=Q.global.defaultColor),R(e)}:function(e){return console.error("Color.js not found!"),e},oe.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:oe.color(e).saturate(.5).darken(.1).rgbString()}};function Zn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function $n(e){this.options=e||{}}oe.extend($n.prototype,{formats:Zn,parse:Zn,format:Zn,add:Zn,diff:Zn,startOf:Zn,endOf:Zn,_create:function(e){return e}}),$n.override=function(e){oe.extend($n.prototype,e)};var Qn={_date:$n},Xn={formatters:{values:function(e){return oe.isArray(e)?e:""+e},linear:function(e,t,n){var r=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var i=oe.log10(Math.abs(r)),a="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=oe.log10(Math.abs(e)),s=Math.floor(o)-Math.floor(i);s=Math.max(Math.min(s,20),0),a=e.toExponential(s)}else{var u=-1*Math.floor(i);u=Math.max(Math.min(u,20),0),a=e.toFixed(u)}else a="0";return a},logarithmic:function(e,t,n){var r=e/Math.pow(10,Math.floor(oe.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===t||t===n.length-1?e.toExponential():""}}},Jn=oe.isArray,er=oe.isNullOrUndef,tr=oe.valueOrDefault,nr=oe.valueAtIndexOrDefault;function rr(e,t){for(var n=[],r=e.length/t,i=0,a=e.length;i<a;i+=r)n.push(e[Math.floor(i)]);return n}function ir(e,t,n){var r,i=e.getTicks().length,a=Math.min(t,i-1),o=e.getPixelForTick(a),s=e._startPixel,u=e._endPixel,l=1e-6;if(!(n&&(r=1===i?Math.max(o-s,u-o):0===t?(e.getPixelForTick(1)-o)/2:(o-e.getPixelForTick(a-1))/2,(o+=a<t?r:-r)<s-l||o>u+l)))return o}function ar(e,t){oe.each(e,(function(e){var n,r=e.gc,i=r.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[r[n]];r.splice(0,i)}}))}function or(e,t,n,r){var i,a,o,s,u,l,c,h,f,d,p,v,m,g=n.length,y=[],_=[],b=[],k=0,w=0;for(i=0;i<g;++i){if(s=n[i].label,u=n[i].major?t.major:t.minor,e.font=l=u.string,c=r[l]=r[l]||{data:{},gc:[]},h=u.lineHeight,f=d=0,er(s)||Jn(s)){if(Jn(s))for(a=0,o=s.length;a<o;++a)p=s[a],er(p)||Jn(p)||(f=oe.measureText(e,c.data,c.gc,f,p),d+=h)}else f=oe.measureText(e,c.data,c.gc,f,s),d=h;y.push(f),_.push(d),b.push(h/2),k=Math.max(f,k),w=Math.max(d,w)}function x(e){return{width:y[e]||0,height:_[e]||0,offset:b[e]||0}}return ar(r,g),v=y.indexOf(k),m=_.indexOf(w),{first:x(0),last:x(g-1),widest:x(v),highest:x(m)}}function sr(e){return e.drawTicks?e.tickMarkLength:0}function ur(e){var t,n;return e.display?(t=oe.options._parseFont(e),n=oe.options.toPadding(e.padding),t.lineHeight+n.height):0}function lr(e,t){return oe.extend(oe.options._parseFont({fontFamily:tr(t.fontFamily,e.fontFamily),fontSize:tr(t.fontSize,e.fontSize),fontStyle:tr(t.fontStyle,e.fontStyle),lineHeight:tr(t.lineHeight,e.lineHeight)}),{color:oe.options.resolve([t.fontColor,e.fontColor,Q.global.defaultFontColor])})}function cr(e){var t=lr(e,e.minor);return{minor:t,major:e.major.enabled?lr(e,e.major):t}}function hr(e){var t,n,r,i=[];for(n=0,r=e.length;n<r;++n)"undefined"!==typeof(t=e[n])._index&&i.push(t);return i}function fr(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}function dr(e,t,n,r){var i,a,o,s,u=fr(e),l=(t.length-1)/r;if(!u)return Math.max(l,1);for(o=0,s=(i=oe.math._factorize(u)).length-1;o<s;o++)if((a=i[o])>l)return a;return Math.max(l,1)}function pr(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}function vr(e,t,n){var r,i,a=0,o=t[0];for(n=Math.ceil(n),r=0;r<e.length;r++)i=e[r],r===o?(i._index=r,o=t[++a*n]):delete i.label}function mr(e,t,n,r){var i,a,o,s,u=tr(n,0),l=Math.min(tr(r,e.length),e.length),c=0;for(t=Math.ceil(t),r&&(t=(i=r-n)/Math.floor(i/t)),s=u;s<0;)c++,s=Math.round(u+c*t);for(a=Math.max(u,0);a<l;a++)o=e[a],a===s?(o._index=a,c++,s=Math.round(u+c*t)):delete o.label}Q._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Xn.formatters.values,minor:{},major:{}}});var gr=pe.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){oe.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,i,a,o,s,u=this,l=u.options.ticks,c=l.sampleSize;if(u.beforeUpdate(),u.maxWidth=e,u.maxHeight=t,u.margins=oe.extend({left:0,right:0,top:0,bottom:0},n),u._ticks=null,u.ticks=null,u._labelSizes=null,u._maxLabelLines=0,u.longestLabelWidth=0,u.longestTextCache=u.longestTextCache||{},u._gridLineItems=null,u._labelItems=null,u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),o=u.buildTicks()||[],(!(o=u.afterBuildTicks(o)||o)||!o.length)&&u.ticks)for(o=[],r=0,i=u.ticks.length;r<i;++r)o.push({value:u.ticks[r],major:!1});return u._ticks=o,s=c<o.length,a=u._convertTicksToLabels(s?rr(o,c):o),u._configure(),u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u._ticksToDraw=l.display&&(l.autoSkip||"auto"===l.source)?u._autoSkip(o):o,s&&(a=u._convertTicksToLabels(u._ticksToDraw)),u.ticks=a,u.afterUpdate(),u.minSize},_configure:function(){var e,t,n=this,r=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,r=!r),n._startPixel=e,n._endPixel=t,n._reversePixels=r,n._length=t-e},afterUpdate:function(){oe.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){oe.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){oe.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){oe.callback(this.options.beforeDataLimits,[this])},determineDataLimits:oe.noop,afterDataLimits:function(){oe.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){oe.callback(this.options.beforeBuildTicks,[this])},buildTicks:oe.noop,afterBuildTicks:function(e){var t=this;return Jn(e)&&e.length?oe.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=oe.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){oe.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){oe.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){oe.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,r,i,a,o,s=this,u=s.options,l=u.ticks,c=s.getTicks().length,h=l.minRotation||0,f=l.maxRotation,d=h;!s._isVisible()||!l.display||h>=f||c<=1||!s.isHorizontal()?s.labelRotation=h:(t=(e=s._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,r=Math.min(s.maxWidth,s.chart.width-t),t+6>(i=u.offset?s.maxWidth/c:r/(c-1))&&(i=r/(c-(u.offset?.5:1)),a=s.maxHeight-sr(u.gridLines)-l.padding-ur(u.scaleLabel),o=Math.sqrt(t*t+n*n),d=oe.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/i,1)),Math.asin(Math.min(a/o,1))-Math.asin(n/o))),d=Math.max(h,Math.min(f,d))),s.labelRotation=d)},afterCalculateTickRotation:function(){oe.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){oe.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,r=e.options,i=r.ticks,a=r.scaleLabel,o=r.gridLines,s=e._isVisible(),u="bottom"===r.position,l=e.isHorizontal();if(l?t.width=e.maxWidth:s&&(t.width=sr(o)+ur(a)),l?s&&(t.height=sr(o)+ur(a)):t.height=e.maxHeight,i.display&&s){var c=cr(i),h=e._getLabelSizes(),f=h.first,d=h.last,p=h.widest,v=h.highest,m=.4*c.minor.lineHeight,g=i.padding;if(l){var y=0!==e.labelRotation,_=oe.toRadians(e.labelRotation),b=Math.cos(_),k=Math.sin(_),w=k*p.width+b*(v.height-(y?v.offset:0))+(y?0:m);t.height=Math.min(e.maxHeight,t.height+w+g);var x,S,T=e.getPixelForTick(0)-e.left,I=e.right-e.getPixelForTick(e.getTicks().length-1);y?(x=u?b*f.width+k*f.offset:k*(f.height-f.offset),S=u?k*(d.height-d.offset):b*d.width+k*d.offset):(x=f.width/2,S=d.width/2),e.paddingLeft=Math.max((x-T)*e.width/(e.width-T),0)+3,e.paddingRight=Math.max((S-I)*e.width/(e.width-I),0)+3}else{var E=i.mirror?0:p.width+g+m;t.width=Math.min(e.maxWidth,t.width+E),e.paddingTop=f.height/2,e.paddingBottom=d.height/2}}e.handleMargins(),l?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){oe.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(er(e))return NaN;if(("number"===typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,r,i=this;for(i.ticks=e.map((function(e){return e.value})),i.beforeTickToLabelConversion(),t=i.convertTicksToLabels(e)||i.ticks,i.afterTickToLabelConversion(),n=0,r=e.length;n<r;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=or(e.ctx,cr(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,r,i;return Jn(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),r=Math.min(t,n),i=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),r=e,i=e),{min:r,max:i,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:oe.noop,getPixelForValue:oe.noop,getValueForPixel:oe.noop,getPixelForTick:function(e){var t=this,n=t.options.offset,r=t._ticks.length,i=1/Math.max(r-(n?0:1),1);return e<0||e>r-1?null:t.getPixelForDecimal(e*i+(n?i/2:0))},getPixelForDecimal:function(e){var t=this;return t._reversePixels&&(e=1-e),t._startPixel+e*t._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,r,i,a=this,o=a.options.ticks,s=a._length,u=o.maxTicksLimit||s/a._tickSize()+1,l=o.major.enabled?pr(e):[],c=l.length,h=l[0],f=l[c-1];if(c>u)return vr(e,l,c/u),hr(e);if(r=dr(l,e,s,u),c>0){for(t=0,n=c-1;t<n;t++)mr(e,r,l[t],l[t+1]);return i=c>1?(f-h)/(c-1):null,mr(e,r,oe.isNullOrUndef(i)?0:h-i,h),mr(e,r,f,oe.isNullOrUndef(i)?e.length:f+i),hr(e)}return mr(e,r),hr(e)},_tickSize:function(){var e=this,t=e.options.ticks,n=oe.toRadians(e.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=e._getLabelSizes(),o=t.autoSkipPadding||0,s=a?a.widest.width+o:0,u=a?a.highest.height+o:0;return e.isHorizontal()?u*r>s*i?s/r:u/i:u*i<s*r?u/r:s/i},_isVisible:function(){var e,t,n,r=this,i=r.chart,a=r.options.display;if("auto"!==a)return!!a;for(e=0,t=i.data.datasets.length;e<t;++e)if(i.isDatasetVisible(e)&&((n=i.getDatasetMeta(e)).xAxisID===r.id||n.yAxisID===r.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,r,i,a,o,s,u,l,c,h,f,d,p,v,m,g,y=this,_=y.chart,b=y.options,k=b.gridLines,w=b.position,x=k.offsetGridLines,S=y.isHorizontal(),T=y._ticksToDraw,I=T.length+(x?1:0),E=sr(k),C=[],P=k.drawBorder?nr(k.lineWidth,0,0):0,M=P/2,A=oe._alignPixel,D=function(e){return A(_,e,P)};for("top"===w?(t=D(y.bottom),s=y.bottom-E,l=t-M,h=D(e.top)+M,d=e.bottom):"bottom"===w?(t=D(y.top),h=e.top,d=D(e.bottom)-M,s=t+M,l=y.top+E):"left"===w?(t=D(y.right),o=y.right-E,u=t-M,c=D(e.left)+M,f=e.right):(t=D(y.left),c=e.left,f=D(e.right)-M,o=t+M,u=y.left+E),n=0;n<I;++n)r=T[n]||{},er(r.label)&&n<T.length||(n===y.zeroLineIndex&&b.offset===x?(p=k.zeroLineWidth,v=k.zeroLineColor,m=k.zeroLineBorderDash||[],g=k.zeroLineBorderDashOffset||0):(p=nr(k.lineWidth,n,1),v=nr(k.color,n,"rgba(0,0,0,0.1)"),m=k.borderDash||[],g=k.borderDashOffset||0),void 0!==(i=ir(y,r._index||n,x))&&(a=A(_,i,p),S?o=u=c=f=a:s=l=h=d=a,C.push({tx1:o,ty1:s,tx2:u,ty2:l,x1:c,y1:h,x2:f,y2:d,width:p,color:v,borderDash:m,borderDashOffset:g})));return C.ticksLength=I,C.borderValue=t,C},_computeLabelItems:function(){var e,t,n,r,i,a,o,s,u,l,c,h,f=this,d=f.options,p=d.ticks,v=d.position,m=p.mirror,g=f.isHorizontal(),y=f._ticksToDraw,_=cr(p),b=p.padding,k=sr(d.gridLines),w=-oe.toRadians(f.labelRotation),x=[];for("top"===v?(a=f.bottom-k-b,o=w?"left":"center"):"bottom"===v?(a=f.top+k+b,o=w?"right":"center"):"left"===v?(i=f.right-(m?0:k)-b,o=m?"left":"right"):(i=f.left+(m?0:k)+b,o=m?"right":"left"),e=0,t=y.length;e<t;++e)r=(n=y[e]).label,er(r)||(s=f.getPixelForTick(n._index||e)+p.labelOffset,l=(u=n.major?_.major:_.minor).lineHeight,c=Jn(r)?r.length:1,g?(i=s,h="top"===v?((w?1:.5)-c)*l:(w?0:.5)*l):(a=s,h=(1-c)*l/2),x.push({x:i,y:a,rotation:w,label:r,font:u,textOffset:h,textAlign:o}));return x},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var r,i,a,o,s,u=t.ctx,l=t.chart,c=oe._alignPixel,h=n.drawBorder?nr(n.lineWidth,0,0):0,f=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(a=0,o=f.length;a<o;++a)r=(s=f[a]).width,i=s.color,r&&i&&(u.save(),u.lineWidth=r,u.strokeStyle=i,u.setLineDash&&(u.setLineDash(s.borderDash),u.lineDashOffset=s.borderDashOffset),u.beginPath(),n.drawTicks&&(u.moveTo(s.tx1,s.ty1),u.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(u.moveTo(s.x1,s.y1),u.lineTo(s.x2,s.y2)),u.stroke(),u.restore());if(h){var d,p,v,m,g=h,y=nr(n.lineWidth,f.ticksLength-1,1),_=f.borderValue;t.isHorizontal()?(d=c(l,t.left,g)-g/2,p=c(l,t.right,y)+y/2,v=m=_):(v=c(l,t.top,g)-g/2,m=c(l,t.bottom,y)+y/2,d=p=_),u.lineWidth=h,u.strokeStyle=nr(n.color,0),u.beginPath(),u.moveTo(d,v),u.lineTo(p,m),u.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,r,i,a,o,s,u,l=e.ctx,c=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,r=c.length;t<r;++t){if(o=(a=c[t]).font,l.save(),l.translate(a.x,a.y),l.rotate(a.rotation),l.font=o.string,l.fillStyle=o.color,l.textBaseline="middle",l.textAlign=a.textAlign,s=a.label,u=a.textOffset,Jn(s))for(n=0,i=s.length;n<i;++n)l.fillText(""+s[n],0,u),u+=o.lineHeight;else l.fillText(s,0,u);l.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,r=n.scaleLabel;if(r.display){var i,a,o=tr(r.fontColor,Q.global.defaultFontColor),s=oe.options._parseFont(r),u=oe.options.toPadding(r.padding),l=s.lineHeight/2,c=n.position,h=0;if(e.isHorizontal())i=e.left+e.width/2,a="bottom"===c?e.bottom-l-u.bottom:e.top+l+u.top;else{var f="left"===c;i=f?e.left+l+u.top:e.right-l-u.top,a=e.top+e.height/2,h=f?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(i,a),t.rotate(h),t.textAlign="center",t.textBaseline="middle",t.fillStyle=o,t.font=s.string,t.fillText(r.labelString,0,0),t.restore()}},draw:function(e){var t=this;t._isVisible()&&(t._drawGrid(e),t._drawTitle(),t._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==r&&e.draw===e._draw?[{z:r,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(r){return(!e||r.type===e)&&(n?r.xAxisID===t.id:r.yAxisID===t.id)}))}});gr.prototype._draw=gr.prototype.draw;var yr=gr,_r=oe.isNullOrUndef,br={position:"bottom"},kr=yr.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),r=t.options.ticks,i=r.min,a=r.max,o=0,s=n.length-1;void 0!==i&&(e=n.indexOf(i))>=0&&(o=e),void 0!==a&&(e=n.indexOf(a))>=0&&(s=e),t.minIndex=o,t.maxIndex=s,t.min=n[o],t.max=n[s]},buildTicks:function(){var e=this,t=e._getLabels(),n=e.minIndex,r=e.maxIndex;e.ticks=0===n&&r===t.length-1?t:t.slice(n,r+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart;return r.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(r.data.datasets[t].data[e]):n._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;yr.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var r,i,a,o=this;return _r(t)||_r(n)||(e=o.chart.data.datasets[n].data[t]),_r(e)||(r=o.isHorizontal()?e.x:e.y),(void 0!==r||void 0!==e&&isNaN(t))&&(i=o._getLabels(),e=oe.valueOrDefault(r,e),t=-1!==(a=i.indexOf(e))?a:t,isNaN(t)&&(t=e)),o.getPixelForDecimal((t-o._startValue)/o._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=this,n=Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange);return Math.min(Math.max(n,0),t.ticks.length-1)},getBasePixel:function(){return this.bottom}}),wr=br;kr._defaults=wr;var xr=oe.noop,Sr=oe.isNullOrUndef;function Tr(e,t){var n,r,i,a,o=[],s=1e-14,u=e.stepSize,l=u||1,c=e.maxTicks-1,h=e.min,f=e.max,d=e.precision,p=t.min,v=t.max,m=oe.niceNum((v-p)/c/l)*l;if(m<s&&Sr(h)&&Sr(f))return[p,v];(a=Math.ceil(v/m)-Math.floor(p/m))>c&&(m=oe.niceNum(a*m/c/l)*l),u||Sr(d)?n=Math.pow(10,oe._decimalPlaces(m)):(n=Math.pow(10,d),m=Math.ceil(m*n)/n),r=Math.floor(p/m)*m,i=Math.ceil(v/m)*m,u&&(!Sr(h)&&oe.almostWhole(h/m,m/1e3)&&(r=h),!Sr(f)&&oe.almostWhole(f/m,m/1e3)&&(i=f)),a=(i-r)/m,a=oe.almostEquals(a,Math.round(a),m/1e3)?Math.round(a):Math.ceil(a),r=Math.round(r*n)/n,i=Math.round(i*n)/n,o.push(Sr(h)?r:h);for(var g=1;g<a;++g)o.push(Math.round((r+g*m)*n)/n);return o.push(Sr(f)?i:f),o}var Ir=yr.extend({getRightValue:function(e){return"string"===typeof e?+e:yr.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=oe.sign(e.min),r=oe.sign(e.max);n<0&&r<0?e.max=0:n>0&&r>0&&(e.min=0)}var i=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),i!==a&&e.min>=e.max&&(i?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this,n=t.options.ticks,r=n.stepSize,i=n.maxTicksLimit;return r?e=Math.ceil(t.max/r)-Math.floor(t.min/r)+1:(e=t._computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:xr,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),r={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:oe.valueOrDefault(t.fixedStepSize,t.stepSize)},i=e.ticks=Tr(r,e);e.handleDirectionalChanges(),e.max=oe.max(i),e.min=oe.min(i),t.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),yr.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),r=t.min,i=t.max;yr.prototype._configure.call(t),t.options.offset&&n.length&&(r-=e=(i-r)/Math.max(n.length-1,1)/2,i+=e),t._startValue=r,t._endValue=i,t._valueRange=i-r}}),Er={position:"left",ticks:{callback:Xn.formatters.linear}},Cr=0,Pr=1;function Mr(e,t,n){var r=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[r]&&(e[r]={pos:[],neg:[]}),e[r]}function Ar(e,t,n,r){var i,a,o=e.options,s=Mr(t,o.stacked,n),u=s.pos,l=s.neg,c=r.length;for(i=0;i<c;++i)a=e._parseValue(r[i]),isNaN(a.min)||isNaN(a.max)||n.data[i].hidden||(u[i]=u[i]||0,l[i]=l[i]||0,o.relativePoints?u[i]=100:a.min<0||a.max<0?l[i]+=a.min:u[i]+=a.max)}function Dr(e,t,n){var r,i,a=n.length;for(r=0;r<a;++r)i=e._parseValue(n[r]),isNaN(i.min)||isNaN(i.max)||t.data[r].hidden||(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}var Lr=Ir.extend({determineDataLimits:function(){var e,t,n,r,i=this,a=i.options,o=i.chart.data.datasets,s=i._getMatchingVisibleMetas(),u=a.stacked,l={},c=s.length;if(i.min=Number.POSITIVE_INFINITY,i.max=Number.NEGATIVE_INFINITY,void 0===u)for(e=0;!u&&e<c;++e)u=void 0!==(t=s[e]).stack;for(e=0;e<c;++e)n=o[(t=s[e]).index].data,u?Ar(i,l,t,n):Dr(i,t,n);oe.each(l,(function(e){r=e.pos.concat(e.neg),i.min=Math.min(i.min,oe.min(r)),i.max=Math.max(i.max,oe.max(r))})),i.min=oe.isFinite(i.min)&&!isNaN(i.min)?i.min:Cr,i.max=oe.isFinite(i.max)&&!isNaN(i.max)?i.max:Pr,i.handleTickRangeOptions()},_computeTickLimit:function(){var e,t=this;return t.isHorizontal()?Math.ceil(t.width/40):(e=oe.options._parseFont(t.options.ticks),Math.ceil(t.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this;return t.getPixelForDecimal((+t.getRightValue(e)-t._startValue)/t._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),Nr=Er;Lr._defaults=Nr;var Or=oe.valueOrDefault,Rr=oe.math.log10;function Fr(e,t){var n,r,i=[],a=Or(e.min,Math.pow(10,Math.floor(Rr(t.min)))),o=Math.floor(Rr(t.max)),s=Math.ceil(t.max/Math.pow(10,o));0===a?(n=Math.floor(Rr(t.minNotZero)),r=Math.floor(t.minNotZero/Math.pow(10,n)),i.push(a),a=r*Math.pow(10,n)):(n=Math.floor(Rr(a)),r=Math.floor(a/Math.pow(10,n)));var u=n<0?Math.pow(10,Math.abs(n)):1;do{i.push(a),10===++r&&(r=1,u=++n>=0?1:u),a=Math.round(r*Math.pow(10,n)*u)/u}while(n<o||n===o&&r<s);var l=Or(e.max,a);return i.push(l),i}var zr={position:"left",ticks:{callback:Xn.formatters.logarithmic}};function Vr(e,t){return oe.isFinite(e)&&e>=0?e:t}var Br=yr.extend({determineDataLimits:function(){var e,t,n,r,i,a,o=this,s=o.options,u=o.chart,l=u.data.datasets,c=o.isHorizontal();function h(e){return c?e.xAxisID===o.id:e.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var f=s.stacked;if(void 0===f)for(e=0;e<l.length;e++)if(t=u.getDatasetMeta(e),u.isDatasetVisible(e)&&h(t)&&void 0!==t.stack){f=!0;break}if(s.stacked||f){var d={};for(e=0;e<l.length;e++){var p=[(t=u.getDatasetMeta(e)).type,void 0===s.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(u.isDatasetVisible(e)&&h(t))for(void 0===d[p]&&(d[p]=[]),i=0,a=(r=l[e].data).length;i<a;i++){var v=d[p];n=o._parseValue(r[i]),isNaN(n.min)||isNaN(n.max)||t.data[i].hidden||n.min<0||n.max<0||(v[i]=v[i]||0,v[i]+=n.max)}}oe.each(d,(function(e){if(e.length>0){var t=oe.min(e),n=oe.max(e);o.min=Math.min(o.min,t),o.max=Math.max(o.max,n)}}))}else for(e=0;e<l.length;e++)if(t=u.getDatasetMeta(e),u.isDatasetVisible(e)&&h(t))for(i=0,a=(r=l[e].data).length;i<a;i++)n=o._parseValue(r[i]),isNaN(n.min)||isNaN(n.max)||t.data[i].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=oe.isFinite(o.min)?o.min:null,o.max=oe.isFinite(o.max)?o.max:null,o.minNotZero=oe.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks,n=1,r=10;e.min=Vr(t.min,e.min),e.max=Vr(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(Rr(e.min))-1),e.max=Math.pow(10,Math.floor(Rr(e.max))+1)):(e.min=n,e.max=r)),null===e.min&&(e.min=Math.pow(10,Math.floor(Rr(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(Rr(e.min))+1):r),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(Rr(e.max))):e.minNotZero=n)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),r={min:Vr(t.min),max:Vr(t.max)},i=e.ticks=Fr(r,e);e.max=oe.max(i),e.min=oe.min(i),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&i.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),yr.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(Rr(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;yr.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=Or(e.options.ticks.fontSize,Q.global.defaultFontSize)/e._length),e._startValue=Rr(t),e._valueOffset=n,e._valueRange=(Rr(e.max)-Rr(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(Rr(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),jr=zr;Br._defaults=jr;var Ur=oe.valueOrDefault,Wr=oe.valueAtIndexOrDefault,qr=oe.options.resolve,Hr={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Xn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Gr(e){var t=e.ticks;return t.display&&e.display?Ur(t.fontSize,Q.global.defaultFontSize)+2*t.backdropPaddingY:0}function Yr(e,t,n){return oe.isArray(n)?{w:oe.longestText(e,e.font,n),h:n.length*t}:{w:e.measureText(n).width,h:t}}function Kr(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Zr(e){var t,n,r,i=oe.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=i.string,e._pointLabelSizes=[];var s=e.chart.data.labels.length;for(t=0;t<s;t++){r=e.getPointPosition(t,e.drawingArea+5),n=Yr(e.ctx,i.lineHeight,e.pointLabels[t]),e._pointLabelSizes[t]=n;var u=e.getIndexAngle(t),l=oe.toDegrees(u)%360,c=Kr(l,r.x,n.w,0,180),h=Kr(l,r.y,n.h,90,270);c.start<a.l&&(a.l=c.start,o.l=u),c.end>a.r&&(a.r=c.end,o.r=u),h.start<a.t&&(a.t=h.start,o.t=u),h.end>a.b&&(a.b=h.end,o.b=u)}e.setReductions(e.drawingArea,a,o)}function $r(e){return 0===e||180===e?"center":e<180?"left":"right"}function Qr(e,t,n,r){var i,a,o=n.y+r/2;if(oe.isArray(t))for(i=0,a=t.length;i<a;++i)e.fillText(t[i],n.x,o),o+=r;else e.fillText(t,n.x,o)}function Xr(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Jr(e){var t=e.ctx,n=e.options,r=n.pointLabels,i=Gr(n),a=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),o=oe.options._parseFont(r);t.save(),t.font=o.string,t.textBaseline="middle";for(var s=e.chart.data.labels.length-1;s>=0;s--){var u=0===s?i/2:0,l=e.getPointPosition(s,a+u+5),c=Wr(r.fontColor,s,Q.global.defaultFontColor);t.fillStyle=c;var h=e.getIndexAngle(s),f=oe.toDegrees(h);t.textAlign=$r(f),Xr(f,e._pointLabelSizes[s],l),Qr(t,e.pointLabels[s],l,o.lineHeight)}t.restore()}function ei(e,t,n,r){var i,a=e.ctx,o=t.circular,s=e.chart.data.labels.length,u=Wr(t.color,r-1),l=Wr(t.lineWidth,r-1);if((o||s)&&u&&l){if(a.save(),a.strokeStyle=u,a.lineWidth=l,a.setLineDash&&(a.setLineDash(t.borderDash||[]),a.lineDashOffset=t.borderDashOffset||0),a.beginPath(),o)a.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{i=e.getPointPosition(0,n),a.moveTo(i.x,i.y);for(var c=1;c<s;c++)i=e.getPointPosition(c,n),a.lineTo(i.x,i.y)}a.closePath(),a.stroke(),a.restore()}}function ti(e){return oe.isNumber(e)?e:0}var ni=Ir.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Gr(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;oe.each(t.data.datasets,(function(i,a){if(t.isDatasetVisible(a)){var o=t.getDatasetMeta(a);oe.each(i.data,(function(t,i){var a=+e.getRightValue(t);isNaN(a)||o.data[i].hidden||(n=Math.min(a,n),r=Math.max(a,r))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Gr(this.options))},convertTicksToLabels:function(){var e=this;Ir.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var t=oe.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?Zr(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var r=this,i=t.l/Math.sin(n.l),a=Math.max(t.r-r.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),s=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(n.b);i=ti(i),a=ti(a),o=ti(o),s=ti(s),r.drawingArea=Math.min(Math.floor(e-(i+a)/2),Math.floor(e-(o+s)/2)),r.setCenterPoint(i,a,o,s)},setCenterPoint:function(e,t,n,r){var i=this,a=i.width-t-i.drawingArea,o=e+i.drawingArea,s=n+i.drawingArea,u=i.height-i.paddingTop-r-i.drawingArea;i.xCenter=Math.floor((o+a)/2+i.left),i.yCenter=Math.floor((s+u)/2+i.top+i.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(oe.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,r=n.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(r)*t+n.xCenter,y:Math.sin(r)*t+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this,n=t.min,r=t.max;return t.getPointPositionForValue(e||0,t.beginAtZero?0:n<0&&r<0?r:n>0&&r>0?n:0)},_drawGrid:function(){var e,t,n,r=this,i=r.ctx,a=r.options,o=a.gridLines,s=a.angleLines,u=Ur(s.lineWidth,o.lineWidth),l=Ur(s.color,o.color);if(a.pointLabels.display&&Jr(r),o.display&&oe.each(r.ticks,(function(e,n){0!==n&&(t=r.getDistanceFromCenterForValue(r.ticksAsNumbers[n]),ei(r,o,t,n))})),s.display&&u&&l){for(i.save(),i.lineWidth=u,i.strokeStyle=l,i.setLineDash&&(i.setLineDash(qr([s.borderDash,o.borderDash,[]])),i.lineDashOffset=qr([s.borderDashOffset,o.borderDashOffset,0])),e=r.chart.data.labels.length-1;e>=0;e--)t=r.getDistanceFromCenterForValue(a.ticks.reverse?r.min:r.max),n=r.getPointPosition(e,t),i.beginPath(),i.moveTo(r.xCenter,r.yCenter),i.lineTo(n.x,n.y),i.stroke();i.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var r,i,a=e.getIndexAngle(0),o=oe.options._parseFont(n),s=Ur(n.fontColor,Q.global.defaultFontColor);t.save(),t.font=o.string,t.translate(e.xCenter,e.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",oe.each(e.ticks,(function(a,u){(0!==u||n.reverse)&&(r=e.getDistanceFromCenterForValue(e.ticksAsNumbers[u]),n.showLabelBackdrop&&(i=t.measureText(a).width,t.fillStyle=n.backdropColor,t.fillRect(-i/2-n.backdropPaddingX,-r-o.size/2-n.backdropPaddingY,i+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),t.fillStyle=s,t.fillText(a,0,-r))})),t.restore()}},_drawTitle:oe.noop}),ri=Hr;ni._defaults=ri;var ii=oe._deprecated,ai=oe.options.resolve,oi=oe.valueOrDefault,si=Number.MIN_SAFE_INTEGER||-9007199254740991,ui=Number.MAX_SAFE_INTEGER||9007199254740991,li={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ci=Object.keys(li);function hi(e,t){return e-t}function fi(e){var t,n,r,i={},a=[];for(t=0,n=e.length;t<n;++t)i[r=e[t]]||(i[r]=!0,a.push(r));return a}function di(e){return oe.valueOrDefault(e.time.min,e.ticks.min)}function pi(e){return oe.valueOrDefault(e.time.max,e.ticks.max)}function vi(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,a,o,s,u,l=[],c=[t];for(i=0,a=e.length;i<a;++i)(s=e[i])>t&&s<n&&c.push(s);for(c.push(n),i=0,a=c.length;i<a;++i)u=c[i+1],o=c[i-1],s=c[i],void 0!==o&&void 0!==u&&Math.round((u+o)/2)===s||l.push({time:s,pos:i/(a-1)});return l}function mi(e,t,n){for(var r,i,a,o=0,s=e.length-1;o>=0&&o<=s;){if(i=e[(r=o+s>>1)-1]||null,a=e[r],!i)return{lo:null,hi:a};if(a[t]<n)o=r+1;else{if(!(i[t]>n))return{lo:i,hi:a};s=r-1}}return{lo:a,hi:null}}function gi(e,t,n,r){var i=mi(e,t,n),a=i.lo?i.hi?i.lo:e[e.length-2]:e[0],o=i.lo?i.hi?i.hi:e[e.length-1]:e[1],s=o[t]-a[t],u=s?(n-a[t])/s:0,l=(o[r]-a[r])*u;return a[r]+l}function yi(e,t){var n=e._adapter,r=e.options.time,i=r.parser,a=i||r.format,o=t;return"function"===typeof i&&(o=i(o)),oe.isFinite(o)||(o="string"===typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(i||"function"!==typeof a||(o=a(t),oe.isFinite(o)||(o=n.parse(o))),o)}function _i(e,t){if(oe.isNullOrUndef(t))return null;var n=e.options.time,r=yi(e,e.getRightValue(t));return null===r||n.round&&(r=+e._adapter.startOf(r,n.round)),r}function bi(e,t,n,r){var i,a,o,s=ci.length;for(i=ci.indexOf(e);i<s-1;++i)if(o=(a=li[ci[i]]).steps?a.steps:ui,a.common&&Math.ceil((n-t)/(o*a.size))<=r)return ci[i];return ci[s-1]}function ki(e,t,n,r,i){var a,o;for(a=ci.length-1;a>=ci.indexOf(n);a--)if(o=ci[a],li[o].common&&e._adapter.diff(i,r,o)>=t-1)return o;return ci[n?ci.indexOf(n):0]}function wi(e){for(var t=ci.indexOf(e)+1,n=ci.length;t<n;++t)if(li[ci[t]].common)return ci[t]}function xi(e,t,n,r){var i,a=e._adapter,o=e.options,s=o.time,u=s.unit||bi(s.minUnit,t,n,r),l=ai([s.stepSize,s.unitStepSize,1]),c="week"===u&&s.isoWeekday,h=t,f=[];if(c&&(h=+a.startOf(h,"isoWeek",c)),h=+a.startOf(h,c?"day":u),a.diff(n,t,u)>1e5*l)throw t+" and "+n+" are too far apart with stepSize of "+l+" "+u;for(i=h;i<n;i=+a.add(i,l,u))f.push(i);return i!==n&&"ticks"!==o.bounds||f.push(i),f}function Si(e,t,n,r,i){var a,o,s=0,u=0;return i.offset&&t.length&&(a=gi(e,"time",t[0],"pos"),s=1===t.length?1-a:(gi(e,"time",t[1],"pos")-a)/2,o=gi(e,"time",t[t.length-1],"pos"),u=1===t.length?o:(o-gi(e,"time",t[t.length-2],"pos"))/2),{start:s,end:u,factor:1/(s+1+u)}}function Ti(e,t,n,r){var i,a,o=e._adapter,s=+o.startOf(t[0].value,r),u=t[t.length-1].value;for(i=s;i<=u;i=+o.add(i,1,r))(a=n[i])>=0&&(t[a].major=!0);return t}function Ii(e,t,n){var r,i,a=[],o={},s=t.length;for(r=0;r<s;++r)o[i=t[r]]=r,a.push({value:i,major:!1});return 0!==s&&n?Ti(e,a,o,n):a}var Ei={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Ci=yr.extend({initialize:function(){this.mergeTicksOptions(),yr.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),r=e._adapter=new Qn._date(t.adapters.date);return ii("time scale",n.format,"time.format","time.parser"),ii("time scale",n.min,"time.min","ticks.min"),ii("time scale",n.max,"time.max","ticks.max"),oe.mergeIf(n.displayFormats,r.formats()),yr.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),yr.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,r,i,a,o,s=this,u=s.chart,l=s._adapter,c=s.options,h=c.time.unit||"day",f=ui,d=si,p=[],v=[],m=[],g=s._getLabels();for(e=0,n=g.length;e<n;++e)m.push(_i(s,g[e]));for(e=0,n=(u.data.datasets||[]).length;e<n;++e)if(u.isDatasetVisible(e))if(i=u.data.datasets[e].data,oe.isObject(i[0]))for(v[e]=[],t=0,r=i.length;t<r;++t)a=_i(s,i[t]),p.push(a),v[e][t]=a;else v[e]=m.slice(0),o||(p=p.concat(m),o=!0);else v[e]=[];m.length&&(f=Math.min(f,m[0]),d=Math.max(d,m[m.length-1])),p.length&&(p=n>1?fi(p).sort(hi):p.sort(hi),f=Math.min(f,p[0]),d=Math.max(d,p[p.length-1])),f=_i(s,di(c))||f,d=_i(s,pi(c))||d,f=f===ui?+l.startOf(Date.now(),h):f,d=d===si?+l.endOf(Date.now(),h)+1:d,s.min=Math.min(f,d),s.max=Math.max(f+1,d),s._table=[],s._timestamps={data:p,datasets:v,labels:m}},buildTicks:function(){var e,t,n,r=this,i=r.min,a=r.max,o=r.options,s=o.ticks,u=o.time,l=r._timestamps,c=[],h=r.getLabelCapacity(i),f=s.source,d=o.distribution;for(l="data"===f||"auto"===f&&"series"===d?l.data:"labels"===f?l.labels:xi(r,i,a,h),"ticks"===o.bounds&&l.length&&(i=l[0],a=l[l.length-1]),i=_i(r,di(o))||i,a=_i(r,pi(o))||a,e=0,t=l.length;e<t;++e)(n=l[e])>=i&&n<=a&&c.push(n);return r.min=i,r.max=a,r._unit=u.unit||(s.autoSkip?bi(u.minUnit,r.min,r.max,h):ki(r,c.length,u.minUnit,r.min,r.max)),r._majorUnit=s.major.enabled&&"year"!==r._unit?wi(r._unit):void 0,r._table=vi(r._timestamps.data,i,a,d),r._offsets=Si(r._table,c,i,a,o),s.reverse&&c.reverse(),Ii(r,c,r._majorUnit)},getLabelForIndex:function(e,t){var n=this,r=n._adapter,i=n.chart.data,a=n.options.time,o=i.labels&&e<i.labels.length?i.labels[e]:"",s=i.datasets[t].data[e];return oe.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?r.format(yi(n,o),a.tooltipFormat):"string"===typeof o?o:r.format(yi(n,o),a.displayFormats.datetime)},tickFormatFunction:function(e,t,n,r){var i=this,a=i._adapter,o=i.options,s=o.time.displayFormats,u=s[i._unit],l=i._majorUnit,c=s[l],h=n[t],f=o.ticks,d=l&&c&&h&&h.major,p=a.format(e,r||(d?c:u)),v=d?f.major:f.minor,m=ai([v.callback,v.userCallback,f.callback,f.userCallback]);return m?m(p,t,n):p},convertTicksToLabels:function(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(this.tickFormatFunction(e[t].value,t,e));return r},getPixelForOffset:function(e){var t=this,n=t._offsets,r=gi(t._table,"time",e,"pos");return t.getPixelForDecimal((n.start+r)*n.factor)},getPixelForValue:function(e,t,n){var r=this,i=null;if(void 0!==t&&void 0!==n&&(i=r._timestamps.datasets[n][t]),null===i&&(i=_i(r,e)),null!==i)return r.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._offsets,r=t.getDecimalForPixel(e)/n.factor-n.end,i=gi(t._table,"pos",r,"time");return t._adapter._create(i)},_getLabelSize:function(e){var t=this,n=t.options.ticks,r=t.ctx.measureText(e).width,i=oe.toRadians(t.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),o=Math.sin(i),s=oi(n.fontSize,Q.global.defaultFontSize);return{w:r*a+s*o,h:r*o+s*a}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=t.tickFormatFunction(e,0,Ii(t,[e],t._majorUnit),i),o=t._getLabelSize(a),s=Math.floor(t.isHorizontal()?t.width/o.w:t.height/o.h);return t.options.offset&&s--,s>0?s:1}}),Pi=Ei;Ci._defaults=Pi;var Mi={category:kr,linear:Lr,logarithmic:Br,radialLinear:ni,time:Ci},Ai={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Qn._date.override("function"===typeof e?{_id:"moment",formats:function(){return Ai},parse:function(t,n){return"string"===typeof t&&"string"===typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,r){return e(t).add(n,r).valueOf()},diff:function(t,n,r){return e(t).diff(e(n),r)},startOf:function(t,n,r){return t=e(t),"isoWeek"===n?t.isoWeekday(r).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),Q._set("global",{plugins:{filler:{propagate:!0}}});var Di={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),i=r&&n.isDatasetVisible(t)&&r.dataset._children||[],a=i.length||0;return a?function(e,t){return t<a&&i[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return oe.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}};function Li(e,t,n){var r,i=e._model||{},a=i.fill;if(void 0===a&&(a=!!i.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(r=parseFloat(a,10),isFinite(r)&&Math.floor(r)===r)return"-"!==a[0]&&"+"!==a[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function Ni(e){var t,n=e.el._model||{},r=e.el._scale||{},i=e.fill,a=null;if(isFinite(i))return null;if("start"===i?a=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===i?a=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:r.getBasePixel&&(a=r.getBasePixel()),void 0!==a&&null!==a){if(void 0!==a.x&&void 0!==a.y)return a;if(oe.isFinite(a))return{x:(t=r.isHorizontal())?a:null,y:t?null:a}}return null}function Oi(e){var t,n,r,i,a,o=e.el._scale,s=o.options,u=o.chart.data.labels.length,l=e.fill,c=[];if(!u)return null;for(t=s.ticks.reverse?o.max:o.min,n=s.ticks.reverse?o.min:o.max,r=o.getPointPositionForValue(0,t),i=0;i<u;++i)a="start"===l||"end"===l?o.getPointPositionForValue(i,"start"===l?t:n):o.getBasePosition(i),s.gridLines.circular&&(a.cx=r.x,a.cy=r.y,a.angle=o.getIndexAngle(i)-Math.PI/2),c.push(a);return c}function Ri(e){return(e.el._scale||{}).getPointPositionForValue?Oi(e):Ni(e)}function Fi(e,t,n){var r,i=e[t].fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!isFinite(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function zi(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),Di[n](e))}function Vi(e){return e&&!e.skip}function Bi(e,t,n,r,i){var a,o,s,u;if(r&&i){for(e.moveTo(t[0].x,t[0].y),a=1;a<r;++a)oe.canvas.lineTo(e,t[a-1],t[a]);if(void 0===n[0].angle)for(e.lineTo(n[i-1].x,n[i-1].y),a=i-1;a>0;--a)oe.canvas.lineTo(e,n[a],n[a-1],!0);else for(o=n[0].cx,s=n[0].cy,u=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),a=i-1;a>0;--a)e.arc(o,s,u,n[a].angle,n[a-1].angle,!0)}}function ji(e,t,n,r,i,a){var o,s,u,l,c,h,f,d,p=t.length,v=r.spanGaps,m=[],g=[],y=0,_=0;for(e.beginPath(),o=0,s=p;o<s;++o)c=n(l=t[u=o%p]._view,u,r),h=Vi(l),f=Vi(c),a&&void 0===d&&h&&(s=p+(d=o+1)),h&&f?(y=m.push(l),_=g.push(c)):y&&_&&(v?(h&&m.push(l),f&&g.push(c)):(Bi(e,m,g,y,_),y=_=0,m=[],g=[]));Bi(e,m,g,y,_),e.closePath(),e.fillStyle=i,e.fill()}var Ui={id:"filler",afterDatasetsUpdate:function(e,t){var n,r,i,a,o=(e.data.datasets||[]).length,s=t.propagate,u=[];for(r=0;r<o;++r)a=null,(i=(n=e.getDatasetMeta(r)).dataset)&&i._model&&i instanceof Ge.Line&&(a={visible:e.isDatasetVisible(r),fill:Li(i,r,o),chart:e,el:i}),n.$filler=a,u.push(a);for(r=0;r<o;++r)(a=u[r])&&(a.fill=Fi(u,r,s),a.boundary=Ri(a),a.mapper=zi(a))},beforeDatasetsDraw:function(e){var t,n,r,i,a,o,s,u=e._getSortedVisibleDatasetMetas(),l=e.ctx;for(n=u.length-1;n>=0;--n)(t=u[n].$filler)&&t.visible&&(i=(r=t.el)._view,a=r._children||[],o=t.mapper,s=i.backgroundColor||Q.global.defaultColor,o&&s&&a.length&&(oe.canvas.clipArea(l,e.chartArea),ji(l,a,o,i,s,r._loop),oe.canvas.unclipArea(l)))}},Wi=oe.rtl.getRtlAdapter,qi=oe.noop,Hi=oe.valueOrDefault;function Gi(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}Q._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},r=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(n){var i=n.controller.getStyle(r?0:void 0);return{text:t[n.index].label,fillStyle:i.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:i.borderCapStyle,lineDash:i.borderDash,lineDashOffset:i.borderDashOffset,lineJoin:i.borderJoinStyle,lineWidth:i.borderWidth,strokeStyle:i.borderColor,pointStyle:i.pointStyle,rotation:i.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(e){var t,n,r,i=document.createElement("ul"),a=e.data.datasets;for(i.setAttribute("class",e.id+"-legend"),t=0,n=a.length;t<n;t++)(r=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[t].backgroundColor,a[t].label&&r.appendChild(document.createTextNode(a[t].label));return i.outerHTML}});var Yi=pe.extend({initialize:function(e){var t=this;oe.extend(t,e),t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1},beforeUpdate:qi,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:qi,beforeSetDimensions:qi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:qi,beforeBuildLabels:qi,buildLabels:function(){var e=this,t=e.options.labels||{},n=oe.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:qi,beforeFit:qi,fit:function(){var e=this,t=e.options,n=t.labels,r=t.display,i=e.ctx,a=oe.options._parseFont(n),o=a.size,s=e.legendHitBoxes=[],u=e.minSize,l=e.isHorizontal();if(l?(u.width=e.maxWidth,u.height=r?10:0):(u.width=r?10:0,u.height=e.maxHeight),r){if(i.font=a.string,l){var c=e.lineWidths=[0],h=0;i.textAlign="left",i.textBaseline="middle",oe.each(e.legendItems,(function(e,t){var r=Gi(n,o)+o/2+i.measureText(e.text).width;(0===t||c[c.length-1]+r+2*n.padding>u.width)&&(h+=o+n.padding,c[c.length-(t>0?0:1)]=0),s[t]={left:0,top:0,width:r,height:o},c[c.length-1]+=r+n.padding})),u.height+=h}else{var f=n.padding,d=e.columnWidths=[],p=e.columnHeights=[],v=n.padding,m=0,g=0;oe.each(e.legendItems,(function(e,t){var r=Gi(n,o)+o/2+i.measureText(e.text).width;t>0&&g+o+2*f>u.height&&(v+=m+n.padding,d.push(m),p.push(g),m=0,g=0),m=Math.max(m,r),g+=o+f,s[t]={left:0,top:0,width:r,height:o}})),v+=m,d.push(m),p.push(g),u.width+=v}e.width=u.width,e.height=u.height}else e.width=u.width=e.height=u.height=0},afterFit:qi,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,r=Q.global,i=r.defaultColor,a=r.elements.line,o=e.height,s=e.columnHeights,u=e.width,l=e.lineWidths;if(t.display){var c,h=Wi(t.rtl,e.left,e.minSize.width),f=e.ctx,d=Hi(n.fontColor,r.defaultFontColor),p=oe.options._parseFont(n),v=p.size;f.textAlign=h.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.strokeStyle=d,f.fillStyle=d,f.font=p.string;var m=Gi(n,v),g=e.legendHitBoxes,y=function(e,t,r){if(!(isNaN(m)||m<=0)){f.save();var o=Hi(r.lineWidth,a.borderWidth);if(f.fillStyle=Hi(r.fillStyle,i),f.lineCap=Hi(r.lineCap,a.borderCapStyle),f.lineDashOffset=Hi(r.lineDashOffset,a.borderDashOffset),f.lineJoin=Hi(r.lineJoin,a.borderJoinStyle),f.lineWidth=o,f.strokeStyle=Hi(r.strokeStyle,i),f.setLineDash&&f.setLineDash(Hi(r.lineDash,a.borderDash)),n&&n.usePointStyle){var s=m*Math.SQRT2/2,u=h.xPlus(e,m/2),l=t+v/2;oe.canvas.drawPoint(f,r.pointStyle,s,u,l,r.rotation)}else f.fillRect(h.leftForLtr(e,m),t,m,v),0!==o&&f.strokeRect(h.leftForLtr(e,m),t,m,v);f.restore()}},_=function(e,t,n,r){var i=v/2,a=h.xPlus(e,m+i),o=t+i;f.fillText(n.text,a,o),n.hidden&&(f.beginPath(),f.lineWidth=2,f.moveTo(a,o),f.lineTo(h.xPlus(a,r),o),f.stroke())},b=function(e,r){switch(t.align){case"start":return n.padding;case"end":return e-r;default:return(e-r+n.padding)/2}},k=e.isHorizontal();c=k?{x:e.left+b(u,l[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+b(o,s[0]),line:0},oe.rtl.overrideTextDirection(e.ctx,t.textDirection);var w=v+n.padding;oe.each(e.legendItems,(function(t,r){var i=f.measureText(t.text).width,a=m+v/2+i,d=c.x,p=c.y;h.setWidth(e.minSize.width),k?r>0&&d+a+n.padding>e.left+e.minSize.width&&(p=c.y+=w,c.line++,d=c.x=e.left+b(u,l[c.line])):r>0&&p+w>e.top+e.minSize.height&&(d=c.x=d+e.columnWidths[c.line]+n.padding,c.line++,p=c.y=e.top+b(o,s[c.line]));var x=h.x(d);y(x,p,t),g[r].left=h.leftForLtr(x,g[r].width),g[r].top=p,_(x,p,t,i),k?c.x+=a+n.padding:c.y+=w})),oe.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,r,i,a=this;if(e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom)for(i=a.legendHitBoxes,n=0;n<i.length;++n)if(e>=(r=i[n]).left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height)return a.legendItems[n];return null},handleEvent:function(e){var t,n=this,r=n.options,i="mouseup"===e.type?"click":e.type;if("mousemove"===i){if(!r.onHover&&!r.onLeave)return}else{if("click"!==i)return;if(!r.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===i?t&&r.onClick&&r.onClick.call(n,e.native,t):(r.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&r.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),r.onHover&&t&&r.onHover.call(n,e.native,t))}});function Ki(e,t){var n=new Yi({ctx:e.ctx,options:t,chart:e});qt.configure(e,n,t),qt.addBox(e,n),e.legend=n}var Zi={id:"legend",_element:Yi,beforeInit:function(e){var t=e.options.legend;t&&Ki(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(oe.mergeIf(t,Q.global.legend),n?(qt.configure(e,n,t),n.options=t):Ki(e,t)):n&&(qt.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},$i=oe.noop;Q._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Qi=pe.extend({initialize:function(e){var t=this;oe.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:$i,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:$i,beforeSetDimensions:$i,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:$i,beforeBuildLabels:$i,buildLabels:$i,afterBuildLabels:$i,beforeFit:$i,fit:function(){var e,t=this,n=t.options,r=t.minSize={},i=t.isHorizontal();n.display?(e=(oe.isArray(n.text)?n.text.length:1)*oe.options._parseFont(n).lineHeight+2*n.padding,t.width=r.width=i?t.maxWidth:e,t.height=r.height=i?e:t.maxHeight):t.width=r.width=t.height=r.height=0},afterFit:$i,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var r,i,a,o=oe.options._parseFont(n),s=o.lineHeight,u=s/2+n.padding,l=0,c=e.top,h=e.left,f=e.bottom,d=e.right;t.fillStyle=oe.valueOrDefault(n.fontColor,Q.global.defaultFontColor),t.font=o.string,e.isHorizontal()?(i=h+(d-h)/2,a=c+u,r=d-h):(i="left"===n.position?h+u:d-u,a=c+(f-c)/2,r=f-c,l=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(i,a),t.rotate(l),t.textAlign="center",t.textBaseline="middle";var p=n.text;if(oe.isArray(p))for(var v=0,m=0;m<p.length;++m)t.fillText(p[m],0,v,r),v+=s;else t.fillText(p,0,0,r);t.restore()}}});function Xi(e,t){var n=new Qi({ctx:e.ctx,options:t,chart:e});qt.configure(e,n,t),qt.addBox(e,n),e.titleBlock=n}var Ji={},ea=Ui,ta=Zi,na={id:"title",_element:Qi,beforeInit:function(e){var t=e.options.title;t&&Xi(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(oe.mergeIf(t,Q.global.title),n?(qt.configure(e,n,t),n.options=t):Xi(e,t)):n&&(qt.removeBox(e,n),delete e.titleBlock)}};for(var ra in Ji.filler=ea,Ji.legend=ta,Ji.title=na,Yn.helpers=oe,Kn(),Yn._adapters=Qn,Yn.Animation=me,Yn.animationService=ge,Yn.controllers=St,Yn.DatasetController=xe,Yn.defaults=Q,Yn.Element=pe,Yn.elements=Ge,Yn.Interaction=At,Yn.layouts=qt,Yn.platform=bn,Yn.plugins=kn,Yn.Scale=yr,Yn.scaleService=wn,Yn.Ticks=Xn,Yn.Tooltip=Fn,Yn.helpers.each(Mi,(function(e,t){Yn.scaleService.registerScaleType(t,e,e._defaults)})),Ji)Ji.hasOwnProperty(ra)&&Yn.plugins.register(Ji[ra]);Yn.platform.initialize();var ia=Yn;return"undefined"!==typeof window&&(window.Chart=Yn),Yn.Chart=Yn,Yn.Legend=Ji.legend._element,Yn.Title=Ji.title._element,Yn.pluginService=Yn.plugins,Yn.PluginBase=Yn.Element.extend({}),Yn.canvasHelpers=Yn.helpers.canvas,Yn.layoutService=Yn.layouts,Yn.LinearScaleBase=Ir,Yn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){Yn[e]=function(t,n){return new Yn(t,Yn.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),ia}(function(){try{return n(2426)}catch(e){}}())},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{l(t,g,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||k(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g)},t.typeOf=k},8309:function(e,t,n){"use strict";e.exports=n(746)},8559:function(e,t){!function(e){"use strict";var t="1.6.0",n=Object.freeze;function r(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}Object.freeze=function(e){return e};var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function a(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function s(e){return e._leaflet_id=e._leaflet_id||++o,e._leaflet_id}function u(e,t,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function l(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function c(){return!1}function h(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function f(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return f(e).split(/\s+/)}function p(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function v(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_-]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function _(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||k("RequestAnimationFrame")||x,T=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function I(e,t,n){if(!n||S!==x)return S.call(window,a(e,t));e.call(t)}function E(e){e&&T.call(window,e)}var C=(Object.freeze||Object)({freeze:n,extend:r,create:i,bind:a,lastId:o,stamp:s,throttle:u,wrapNum:l,falseFn:c,formatNum:h,trim:f,splitWords:d,setOptions:p,getParamString:v,template:g,isArray:y,indexOf:_,emptyImageUrl:b,requestFn:S,cancelFn:T,requestAnimFrame:I,cancelAnimFrame:E});function P(){}function M(e){if("undefined"!==typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,a=i(n);for(var o in a.constructor=t,t.prototype=a,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&(r(t,e.statics),delete e.statics),e.includes&&(M(e.includes),r.apply(null,[a].concat(e.includes)),delete e.includes),a.options&&(e.options=r(i(a.options),e.options)),r(a,e),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},P.include=function(e){return r(this.prototype,e),this},P.mergeOptions=function(e){return r(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,a=(e=d(e)).length;i<a;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(e)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else for(var i=0,a=(e=d(e)).length;i<a;i++)this._off(e[i],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},a=r,o=0,s=a.length;o<s;o++)if(a[o].fn===t&&a[o].ctx===n)return;a.push(i)},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e]))if(t){if(n===this&&(n=void 0),r)for(i=0,a=r.length;i<a;i++){var o=r[i];if(o.ctx===n&&o.fn===t)return o.fn=c,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,a=r.length;i<a;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var i=r({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var u=a[o];u.fn.call(u.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"===typeof e){for(var r in e)this.once(r,e[r],t);return this}var i=a((function(){this.off(e,t,n).off(e,i,n)}),this);return this.on(e,t,n).on(e,i,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,r({layer:e.target,propagatedFrom:e.target},e),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var D=P.extend(A);function N(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var O=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof N?e:y(e)?new N(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new N(e.x,e.y):new N(e,t,n)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(e,t){return!e||e instanceof F?e:new F(e,t)}function V(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(e,t){return e instanceof V?e:new V(e,t)}function j(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function U(e,t,n){return e instanceof j?e:y(e)&&"object"!==typeof e[0]?3===e.length?new j(e[0],e[1],e[2]):2===e.length?new j(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new j(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new j(e,t,n)}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new N(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new N(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},F.prototype={extend:function(e){return e=R(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new N(this.min.x,this.max.y)},getTopRight:function(){return new N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof N?R(e):z(e))instanceof F?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=z(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)}},V.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof j)t=e,n=e;else{if(!(e instanceof V))return e?this.extend(U(e)||B(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new j(t.lat,t.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new V(new j(t.lat-r,t.lng-i),new j(n.lat+r,n.lng+i))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof j||"lat"in e?U(e):B(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof V?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=B(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=B(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(e,t){return!!e&&(e=U(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+h(this.lat,e)+", "+h(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,U(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var W={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new F(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new j(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new V(new j(a.lat-r,a.lng-i),new j(o.lat-r,o.lng-i))}},q=r({},W,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),H=6378137,G={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new N(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new j((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=H*Math.PI;return new F([-e,-e],[e,e])}()};function Y(e,t,n,r){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function K(e,t,n,r){return new Y(e,t,n,r)}Y.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new N((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=r({},q,{code:"EPSG:3857",projection:G,transformation:function(){var e=.5/(Math.PI*G.R);return K(e,.5,-e,.5)}()}),$=r({},Z,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var n,r,i,a,o,s,u="";for(n=0,i=e.length;n<i;n++){for(r=0,a=(o=e[n]).length;r<a;r++)u+=(r?"L":"M")+(s=o[r]).x+" "+s.y;u+=t?Me?"z":"x":""}return u||"M0 0"}var J=document.documentElement.style,ee="ActiveXObject"in window,te=ee&&!document.addEventListener,ne="msLaunchUri"in navigator&&!("documentMode"in document),re=De("webkit"),ie=De("android"),ae=De("android 2")||De("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=ie&&De("Google")&&oe<537&&!("AudioNode"in window),ue=!!window.opera,le=De("chrome"),ce=De("gecko")&&!re&&!ue&&!ee,he=!le&&De("safari"),fe=De("phantom"),de="OTransition"in J,pe=0===navigator.platform.indexOf("Win"),ve=ee&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ae,ge="MozPerspective"in J,ye=!window.L_DISABLE_3D&&(ve||me||ge)&&!de&&!fe,_e="undefined"!==typeof orientation||De("mobile"),be=_e&&re,ke=_e&&me,we=!window.PointerEvent&&window.MSPointerEvent,xe=!re&&!(!window.PointerEvent&&!we),Se=!window.L_NO_TOUCH&&(xe||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Te=_e&&ue,Ie=_e&&ce,Ee=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ce=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e},Pe=!!document.createElement("canvas").getContext,Me=!(!document.createElementNS||!Q("svg").createSVGRect),Ae=!Me&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}();function De(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Le=(Object.freeze||Object)({ie:ee,ielt9:te,edge:ne,webkit:re,android:ie,android23:ae,androidStock:se,opera:ue,chrome:le,gecko:ce,safari:he,phantom:fe,opera12:de,win:pe,ie3d:ve,webkit3d:me,gecko3d:ge,any3d:ye,mobile:_e,mobileWebkit:be,mobileWebkit3d:ke,msPointer:we,pointer:xe,touch:Se,mobileOpera:Te,mobileGecko:Ie,retina:Ee,passiveEvents:Ce,canvas:Pe,svg:Me,vml:Ae}),Ne=we?"MSPointerDown":"pointerdown",Oe=we?"MSPointerMove":"pointermove",Re=we?"MSPointerUp":"pointerup",Fe=we?"MSPointerCancel":"pointercancel",ze=["INPUT","SELECT","OPTION"],Ve={},Be=!1,je=0;function Ue(e,t,n,r){return"touchstart"===t?qe(e,n,r):"touchmove"===t?Ze(e,n,r):"touchend"===t&&$e(e,n,r),this}function We(e,t,n){var r=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(Ne,r,!1):"touchmove"===t?e.removeEventListener(Oe,r,!1):"touchend"===t&&(e.removeEventListener(Re,r,!1),e.removeEventListener(Fe,r,!1)),this}function qe(e,t,n){var r=a((function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(ze.indexOf(e.target.tagName)<0))return;qt(e)}Ke(e,t)}));e["_leaflet_touchstart"+n]=r,e.addEventListener(Ne,r,!1),Be||(document.documentElement.addEventListener(Ne,He,!0),document.documentElement.addEventListener(Oe,Ge,!0),document.documentElement.addEventListener(Re,Ye,!0),document.documentElement.addEventListener(Fe,Ye,!0),Be=!0)}function He(e){Ve[e.pointerId]=e,je++}function Ge(e){Ve[e.pointerId]&&(Ve[e.pointerId]=e)}function Ye(e){delete Ve[e.pointerId],je--}function Ke(e,t){for(var n in e.touches=[],Ve)e.touches.push(Ve[n]);e.changedTouches=[e],t(e)}function Ze(e,t,n){var r=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Ke(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(Oe,r,!1)}function $e(e,t,n){var r=function(e){Ke(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(Re,r,!1),e.addEventListener(Fe,r,!1)}var Qe=we?"MSPointerDown":xe?"pointerdown":"touchstart",Xe=we?"MSPointerUp":xe?"pointerup":"touchend",Je="_leaflet_";function et(e,t,n){var r,i,a=!1,o=250;function s(e){var t;if(xe){if(!ne||"mouse"===e.pointerType)return;t=je}else t=e.touches.length;if(!(t>1)){var n=Date.now(),s=n-(r||n);i=e.touches?e.touches[0]:e,a=s>0&&s<=o,r=n}}function u(e){if(a&&!i.cancelBubble){if(xe){if(!ne||"mouse"===e.pointerType)return;var n,o,s={};for(o in i)n=i[o],s[o]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",i.button=0,t(i),r=null}}return e[Je+Qe+n]=s,e[Je+Xe+n]=u,e[Je+"dblclick"+n]=t,e.addEventListener(Qe,s,!!Ce&&{passive:!1}),e.addEventListener(Xe,u,!!Ce&&{passive:!1}),e.addEventListener("dblclick",t,!1),this}function tt(e,t){var n=e[Je+Qe+t],r=e[Je+Xe+t],i=e[Je+"dblclick"+t];return e.removeEventListener(Qe,n,!!Ce&&{passive:!1}),e.removeEventListener(Xe,r,!!Ce&&{passive:!1}),ne||e.removeEventListener("dblclick",i,!1),this}var nt,rt,it,at,ot,st=St(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ut=St(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lt="webkitTransition"===ut||"OTransition"===ut?ut+"End":"transitionend";function ct(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ft(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function dt(e){var t=e.parentNode;t&&t.removeChild(e)}function pt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function vt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function mt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function gt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=kt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function yt(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!gt(e,t)){var a=kt(e);bt(e,(a?a+" ":"")+t)}}function _t(e,t){void 0!==e.classList?e.classList.remove(t):bt(e,f((" "+kt(e)+" ").replace(" "+t+" "," ")))}function bt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function kt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function wt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&xt(e,t)}function xt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function St(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Tt(e,t,n){var r=t||new N(0,0);e.style[st]=(ve?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function It(e,t){e._leaflet_pos=t,ye?Tt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Et(e){return e._leaflet_pos||new N(0,0)}if("onselectstart"in document)nt=function(){Rt(window,"selectstart",qt)},rt=function(){zt(window,"selectstart",qt)};else{var Ct=St(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nt=function(){if(Ct){var e=document.documentElement.style;it=e[Ct],e[Ct]="none"}},rt=function(){Ct&&(document.documentElement.style[Ct]=it,it=void 0)}}function Pt(){Rt(window,"dragstart",qt)}function Mt(){zt(window,"dragstart",qt)}function At(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Dt(),at=e,ot=e.style.outline,e.style.outline="none",Rt(window,"keydown",Dt))}function Dt(){at&&(at.style.outline=ot,at=void 0,ot=void 0,zt(window,"keydown",Dt))}function Lt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Nt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ot=(Object.freeze||Object)({TRANSFORM:st,TRANSITION:ut,TRANSITION_END:lt,get:ct,getStyle:ht,create:ft,remove:dt,empty:pt,toFront:vt,toBack:mt,hasClass:gt,addClass:yt,removeClass:_t,setClass:bt,getClass:kt,setOpacity:wt,testProp:St,setTransform:Tt,setPosition:It,getPosition:Et,disableTextSelection:nt,enableTextSelection:rt,disableImageDrag:Pt,enableImageDrag:Mt,preventOutline:At,restoreOutline:Dt,getSizedParentNode:Lt,getScale:Nt});function Rt(e,t,n,r){if("object"===typeof t)for(var i in t)Vt(e,i,t[i],n);else for(var a=0,o=(t=d(t)).length;a<o;a++)Vt(e,t[a],n,r);return this}var Ft="_leaflet_events";function zt(e,t,n,r){if("object"===typeof t)for(var i in t)Bt(e,i,t[i],n);else if(t)for(var a=0,o=(t=d(t)).length;a<o;a++)Bt(e,t[a],n,r);else{for(var s in e[Ft])Bt(e,s,e[Ft][s]);delete e[Ft]}return this}function Vt(e,t,n,r){var i=t+s(n)+(r?"_"+s(r):"");if(e[Ft]&&e[Ft][i])return this;var a=function(t){return n.call(r||e,t||window.event)},o=a;xe&&0===t.indexOf("touch")?Ue(e,t,a,i):!Se||"dblclick"!==t||!et||xe&&le?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!!Ce&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,Jt(e,t)&&o(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1)):("click"===t&&ie&&(a=function(e){en(e,o)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):et(e,a,i),e[Ft]=e[Ft]||{},e[Ft][i]=a}function Bt(e,t,n,r){var i=t+s(n)+(r?"_"+s(r):""),a=e[Ft]&&e[Ft][i];if(!a)return this;xe&&0===t.indexOf("touch")?We(e,t,i):!Se||"dblclick"!==t||!tt||xe&&le?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",a,!!Ce&&{passive:!1}):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,a,!1):"detachEvent"in e&&e.detachEvent("on"+t,a):tt(e,i),e[Ft][i]=null}function jt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Xt(e),this}function Ut(e){return Vt(e,"mousewheel",jt),this}function Wt(e){return Rt(e,"mousedown touchstart dblclick",jt),Vt(e,"click",Qt),this}function qt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Ht(e){return qt(e),jt(e),this}function Gt(e,t){if(!t)return new N(e.clientX,e.clientY);var n=Nt(t),r=n.boundingClientRect;return new N((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Yt=pe&&le?2*window.devicePixelRatio:ce?window.devicePixelRatio:1;function Kt(e){return ne?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Zt,$t={};function Qt(e){$t[e.type]=!0}function Xt(e){var t=$t[e.type];return $t[e.type]=!1,t}function Jt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}function en(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,r=Zt&&n-Zt;r&&r>100&&r<500||e.target._simulatedClick&&!e._simulated?Ht(e):(Zt=n,t(e))}var tn=(Object.freeze||Object)({on:Rt,off:zt,stopPropagation:jt,disableScrollPropagation:Ut,disableClickPropagation:Wt,preventDefault:qt,stop:Ht,getMousePosition:Gt,getWheelDelta:Kt,fakeStop:Qt,skipped:Xt,isExternalTarget:Jt,addListener:Rt,removeListener:zt}),nn=D.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Et(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),It(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),rn=D.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(U(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ut&&ye&&!Te&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,lt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(U(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=r({animate:n.animate},n.zoom),n.pan=r({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ye?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ye?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof N?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){yt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!ye)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=U(e),t=void 0===t?o:t;var s=Math.max(a.x,a.y),u=s*this.getZoomScale(o,t),l=i.distanceTo(r)||1,c=1.42,h=c*c;function f(e){var t=(u*u-s*s+(e?-1:1)*h*h*l*l)/(2*(e?u:s)*h*l),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function v(e){return d(e)/p(e)}var m=f(0);function g(e){return s*(p(m)/p(m+c*e))}function y(e){return s*(p(m)*v(m+c*e)-d(m))/h}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),k=(f(1)-m)/c,w=n.duration?1e3*n.duration:1e3*k*.8;function x(){var n=(Date.now()-b)/w,a=_(n)*k;n<=1?(this._flyToFrame=I(x,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(a)/l)),o),this.getScaleZoom(s/g(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),x.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=B(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,B(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getCenter(),a=this.project(i),o=this.project(e),s=this.getPixelBounds(),u=s.getSize().divideBy(2),l=z([s.min.add(n),s.max.subtract(r)]);if(!l.contains(o)){this._enforcingBounds=!0;var c=a.subtract(o),h=R(o.x+c.x,o.y+c.y);(o.x<l.min.x||o.x>l.max.x)&&(h.x=a.x-c.x,c.x>0?h.x+=u.x-n.x:h.x-=u.x-r.x),(o.y<l.min.y||o.y>l.max.y)&&(h.y=a.y-c.y,c.y>0?h.y+=u.y-n.y:h.y-=u.y-r.y),this.panTo(this.unproject(h),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=r({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=t.divideBy(2).round(),o=n.divideBy(2).round(),s=i.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=r({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=a(this._handleGeolocationResponse,this),n=a(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new j(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)dt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ft("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new V(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=B(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),l=z(this.project(s,r),this.project(o,r)).getSize(),c=ye?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=t?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(d,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(U(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(U(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(U(e),U(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return Gt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ct(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Rt(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ye,yt(e,"leaflet-container"+(Se?" leaflet-touch":"")+(Ee?" leaflet-retina":"")+(te?" leaflet-oldie":"")+(he?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(e.markerPane,"leaflet-zoom-hide"),yt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){It(this._mapPane,new N(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){It(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?zt:Rt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),ye&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=I((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,o=!1;a;){if((n=this._targets[s(a)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(i&&!Jt(a,e))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||o||i||!Jt(a,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!Xt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||At(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type){var i=r({},e);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,t))).length){var a=n[0];"contextmenu"===t&&a.listens(t,!0)&&qt(e);var o={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var s=a.getLatLng&&(!a._radius||a._radius<=10);o.containerPoint=s?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(e),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=s?a.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var u=0;u<n.length;u++)if(n[u].fire(t,o,!0),o.originalEvent._stopped||!1===n[u].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Et(this._mapPane)||new N(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return z([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new F(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return o.round().equals([0,0])?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new F(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=z(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new N(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=ye?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=st,n=this._proxy.style[t];Tt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Tt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(I((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),I((function(){this._moveEnd(!0)}),this))}});function an(e,t){return new rn(e,t)}var on=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return yt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),sn=function(e){return new on(e)};rn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ft("div",t+"control-container",this._container);function r(r,i){var a=t+r+" "+t+i;e[r+i]=ft("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)dt(this._controlCorners[e]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var un=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ft("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Wt(t),Ut(t);var r=this._section=ft("section",e+"-list");n&&(this._map.on("click",this.collapse,this),ie||Rt(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=ft("a",e+"-toggle",t);i.href="#",i.title="Layers",Se?(Rt(i,"click",Ht),Rt(i,"click",this.expand,this)):Rt(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ft("div",e+"-base",r),this._separator=ft("div",e+"-separator",r),this._overlaysList=ft("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(a((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pt(this._baseLayersList),pt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+s(this),r),this._layerControlInputs.push(t),t.layerId=s(e.layer),Rt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(t),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ln=function(e,t,n){return new un(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ft("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=ft("a",n,r);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Wt(a),Rt(a,"click",Ht),Rt(a,"click",i,this),Rt(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";_t(this._zoomInButton,t),_t(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&yt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&yt(this._zoomInButton,t)}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var hn=function(e){return new cn(e)},fn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ft("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ft("div",t,n)),e.imperial&&(this._iScale=ft("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new fn(e)},pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Wt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var vn=function(e){return new pn(e)};on.Layers=un,on.Zoom=cn,on.Scale=fn,on.Attribution=pn,sn.layers=ln,sn.zoom=hn,sn.scale=dn,sn.attribution=vn;var mn=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(e,t){return e.addHandler(t,this),this};var gn,yn={Events:A},_n=Se?"touchstart mousedown":"mousedown",bn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},kn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},wn=D.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Rt(this._dragStartTarget,_n,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(),zt(this._dragStartTarget,_n,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!gt(this._element,"leaflet-zoom-anim")&&!(wn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(wn._dragging=this,this._preventOutline&&At(this._element),Pt(),nt(),!this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=Lt(this._element);this._startPoint=new N(t.clientX,t.clientY),this._parentScale=Nt(n),Rt(document,kn[e.type],this._onMove,this),Rt(document,bn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new N(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,qt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Et(this._element).subtract(n),yt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,E(this._animRequest),this._lastEvent=e,this._animRequest=I(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),It(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in _t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kn)zt(document,kn[e],this._onMove,this),zt(document,bn[e],this._onUp,this);Mt(),rt(),this._moved&&this._moving&&(E(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,wn._dragging=!1}});function xn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=In(e=Cn(e,n),n)}function Sn(e,t,n){return Math.sqrt(Ln(e,t,n,!0))}function Tn(e,t,n){return Ln(e,t,n)}function In(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,En(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function En(e,t,n,r,i){var a,o,s,u=0;for(o=r+1;o<=i-1;o++)(s=Ln(e[o],e[r],e[i],!0))>u&&(a=o,u=s);u>n&&(t[a]=1,En(e,t,n,r,a),En(e,t,n,a,i))}function Cn(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Dn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}function Pn(e,t,n,r,i){var a,o,s,u=r?gn:An(e,n),l=An(t,n);for(gn=l;;){if(!(u|l))return[e,t];if(u&l)return!1;s=An(o=Mn(e,t,a=u||l,n,i),n),a===u?(e=o,u=s):(t=o,l=s)}}function Mn(e,t,n,r,i){var a,o,s=t.x-e.x,u=t.y-e.y,l=r.min,c=r.max;return 8&n?(a=e.x+s*(c.y-e.y)/u,o=c.y):4&n?(a=e.x+s*(l.y-e.y)/u,o=l.y):2&n?(a=c.x,o=e.y+u*(c.x-e.x)/s):1&n&&(a=l.x,o=e.y+u*(l.x-e.x)/s),new N(a,o,i)}function An(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Dn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Ln(e,t,n,r){var i,a=t.x,o=t.y,s=n.x-a,u=n.y-o,l=s*s+u*u;return l>0&&((i=((e.x-a)*s+(e.y-o)*u)/l)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=u*i)),s=e.x-a,u=e.y-o,r?s*s+u*u:new N(a,o)}function Nn(e){return!y(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function On(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nn(e)}var Rn=(Object.freeze||Object)({simplify:xn,pointToSegmentDistance:Sn,closestPointOnSegment:Tn,clipSegment:Pn,_getEdgeIntersection:Mn,_getBitCode:An,_sqClosestPointOnSegment:Ln,isFlat:Nn,_flat:On});function Fn(e,t,n){var r,i,a,o,s,u,l,c,h,f=[1,4,2,8];for(i=0,l=e.length;i<l;i++)e[i]._code=An(e[i],t);for(o=0;o<4;o++){for(c=f[o],r=[],i=0,a=(l=e.length)-1;i<l;a=i++)s=e[i],u=e[a],s._code&c?u._code&c||((h=Mn(u,s,c,t,n))._code=An(h,t),r.push(h)):(u._code&c&&((h=Mn(u,s,c,t,n))._code=An(h,t),r.push(h)),r.push(s));e=r}return e}var zn=(Object.freeze||Object)({clipPolygon:Fn}),Vn={project:function(e){return new N(e.lng,e.lat)},unproject:function(e){return new j(e.y,e.x)},bounds:new F([-180,-90],[180,90])},Bn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new N(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(o),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=l=Math.PI/2-2*Math.atan(o*t)-s;return new j(s*n,e.x*n/r)}},jn=(Object.freeze||Object)({LonLat:Vn,Mercator:Bn,SphericalMercator:G}),Un=r({},q,{code:"EPSG:3395",projection:Bn,transformation:function(){var e=.5/(Math.PI*Bn.R);return K(e,.5,-e,.5)}()}),Wn=r({},q,{code:"EPSG:4326",projection:Vn,transformation:K(1/180,1,-1/180,.5)}),qn=r({},W,{projection:Vn,transformation:K(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});W.Earth=q,W.EPSG3395=Un,W.EPSG3857=Z,W.EPSG900913=$,W.EPSG4326=Wn,W.Simple=qn;var Hn=D.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&s(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Hn.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),Yn=function(e,t){return new Gn(e,t)},Kn=Gn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Gn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Gn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new V;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Zn=function(e){return new Kn(e)},$n=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),a=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Ee&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Qn(e){return new $n(e)}var Xn=$n.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Xn.imagePath||(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+$n.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Jn=mn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new wn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=Et(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),u=z(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!u.contains(a)){var l=R((Math.max(u.max.x,a.x)-u.max.x)/(o.max.x-u.max.x)-(Math.min(u.min.x,a.x)-u.min.x)/(o.min.x-u.min.x),(Math.max(u.max.y,a.y)-u.max.y)/(o.max.y-u.max.y)-(Math.min(u.min.y,a.y)-u.min.y)/(o.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),It(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=I(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Et(t._icon),i=t._map.layerPointToLatLng(r);n&&It(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),er=Hn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),yt(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(yt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&It(this._icon,e),this._shadow&&It(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&wt(this._icon,e),this._shadow&&wt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tr(e,t){return new er(e,t)}var nr=Hn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&e.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),rr=nr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return nr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new F(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ir(e,t){return new rr(e,t)}var ar=rr.extend({initialize:function(e,t,n){if("number"===typeof t&&(t=r({},n,{radius:t})),p(this,t),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:nr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===q.distance){var i=Math.PI/180,a=this._mRadius/q.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),u=o.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,e-c]).x,this._radiusY=u.y-o.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function or(e,t,n){return new ar(e,t,n)}var sr=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,a=Ln,o=0,s=this._parts.length;o<s;o++)for(var u=this._parts[o],l=1,c=u.length;l<c;l++){var h=a(e,t=u[l-1],n=u[l],!0);h<r&&(r=h,i=a(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,a,o,s=this._rings[0],u=s.length;if(!u)return null;for(e=0,t=0;e<u-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<u-1;e++)if(i=s[e],a=s[e+1],(r+=n=i.distanceTo(a))>t)return o=(r-t)/n,this._map.layerPointToLatLng([a.x-o*(a.x-i.x),a.y-o*(a.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=U(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new V,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Nn(e),r=0,i=e.length;r<i;r++)n?(t[r]=U(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new N(e,e);this._pxBounds=new F([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,n){var r,i,a=e[0]instanceof j,o=e.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,a,o,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=Pn(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(u[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=xn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((t||0!==r)&&Sn(e,s[i],s[r])<=u)return!0;return!1}});function ur(e,t){return new sr(e,t)}sr._flat=On;var lr=sr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,a,o,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(a=o=s=0,e=0,t=c-1;e<c;t=e++)n=l[e],r=l[t],i=n.y*r.x-r.y*n.x,o+=(n.x+r.x)*i,s+=(n.y+r.y)*i,a+=3*i;return u=0===a?l[0]:[o/a,s/a],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var t=sr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof j&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){sr.prototype._setLatLngs.call(this,e),Nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new N(t,t);if(e=new F(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=Fn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,a,o,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(u=(t=this._parts[i]).length)-1;a<u;o=a++)n=t[a],r=t[o],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||sr.prototype._containsPoint.call(this,e,!0)}});function cr(e,t){return new lr(e,t)}var hr=Kn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=y(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=fr(e,a);return o?(o.feature=_r(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=r({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function fr(e,t){var n,r,i,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,u=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||pr;if(!s&&!o)return null;switch(o.type){case"Point":return dr(l,e,n=c(s),t);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=c(s[i]),u.push(dr(l,e,n,t));return new Kn(u);case"LineString":case"MultiLineString":return r=vr(s,"LineString"===o.type?0:1,c),new sr(r,t);case"Polygon":case"MultiPolygon":return r=vr(s,"Polygon"===o.type?1:2,c),new lr(r,t);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var h=fr({geometry:o.geometries[i],type:"Feature",properties:e.properties},t);h&&u.push(h)}return new Kn(u);default:throw new Error("Invalid GeoJSON object.")}}function dr(e,t,n,r){return e?e(t,n):new er(n,r&&r.markersInheritOptions&&r)}function pr(e){return new j(e[1],e[0],e[2])}function vr(e,t,n){for(var r,i=[],a=0,o=e.length;a<o;a++)r=t?vr(e[a],t-1,n):(n||pr)(e[a]),i.push(r);return i}function mr(e,t){return t="number"===typeof t?t:6,void 0!==e.alt?[h(e.lng,t),h(e.lat,t),h(e.alt,t)]:[h(e.lng,t),h(e.lat,t)]}function gr(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?gr(e[a],t-1,n,r):mr(e[a],r));return!t&&n&&i.push(i[0]),i}function yr(e,t){return e.feature?r({},e.feature,{geometry:t}):_r(t)}function _r(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var br={toGeoJSON:function(e){return yr(this,{type:"Point",coordinates:mr(this.getLatLng(),e)})}};function kr(e,t){return new hr(e,t)}er.include(br),ar.include(br),rr.include(br),sr.include({toGeoJSON:function(e){var t=!Nn(this._latlngs);return yr(this,{type:(t?"Multi":"")+"LineString",coordinates:gr(this._latlngs,t?1:0,!1,e)})}}),lr.include({toGeoJSON:function(e){var t=!Nn(this._latlngs),n=t&&!Nn(this._latlngs[0]),r=gr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),yr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Gn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),yr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=_r(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}})),n?yr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var wr=kr,xr=Hn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=B(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&vt(this._image),this},bringToBack:function(){return this._map&&mt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ft("img");yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=a(this.fire,this,"load"),t.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Tt(this._image,n,t)},_reset:function(){var e=this._image,t=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();It(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Sr=function(e,t,n){return new xr(e,t,n)},Tr=xr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ft("video");if(yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=a(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],i=0;i<n.length;i++)r.push(n[i].src);this._url=n.length>0?r:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&t.style.hasOwnProperty("objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var o=0;o<this._url.length;o++){var s=ft("source");s.src=this._url[o],t.appendChild(s)}}}});function Ir(e,t,n){return new Tr(e,t,n)}var Er=xr.extend({_initImage:function(){var e=this._image=this._url;yt(e,"leaflet-image-layer"),this._zoomAnimated&&yt(e,"leaflet-zoom-animated"),this.options.className&&yt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Cr(e,t,n){return new Er(e,t,n)}var Pr=Hn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){p(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&wt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(a(dt,void 0,this._container),200)):dt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vt(this._container),this},bringToBack:function(){return this._map&&mt(this._container),this},_prepareOpen:function(e,t,n){if(t instanceof Hn||(n=t,t=e),t instanceof Kn)for(var r in e._layers){t=e._layers[r];break}if(!n)if(t.getCenter)n=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");n=t.getLatLng()}return this._source=t,this.update(),n},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?It(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Mr=Pr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Pr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",jt))},onRemove:function(e){Pr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",jt))},getEvents:function(){var e=Pr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ft("div",e+"-content-wrapper",t);if(this._contentNode=ft("div",e+"-content",n),Wt(n),Ut(this._contentNode),Rt(n,"contextmenu",jt),this._tipContainer=ft("div",e+"-tip-container",t),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ft("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",Rt(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,a="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",yt(e,a)):_t(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();It(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new N(this._containerLeft,-n-this._containerBottom);i._add(Et(this._container));var a=e.layerPointToContainerPoint(i),o=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||o),u=R(this.options.autoPanPaddingBottomRight||o),l=e.getSize(),c=0,h=0;a.x+r+u.x>l.x&&(c=a.x+r-l.x+u.x),a.x-c-s.x<0&&(c=a.x-s.x),a.y+n+u.y>l.y&&(h=a.y+n-l.y+u.y),a.y-h-s.y<0&&(h=a.y-s.y),(c||h)&&e.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(e){this._close(),Ht(e)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ar=function(e,t){return new Mr(e,t)};rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(e,t,n){return e instanceof Mr||(e=new Mr(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),Hn.include({bindPopup:function(e,t){return e instanceof Mr?(p(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Mr(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(Ht(e),t instanceof nr?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Dr=Pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Pr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Pr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Pr.prototype.getEvents.call(this);return Se&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,r=t.latLngToContainerPoint(t.getCenter()),i=t.layerPointToContainerPoint(e),a=this.options.direction,o=n.offsetWidth,s=n.offsetHeight,u=R(this.options.offset),l=this._getAnchor();"top"===a?e=e.add(R(-o/2+u.x,-s+u.y+l.y,!0)):"bottom"===a?e=e.subtract(R(o/2-u.x,-u.y,!0)):"center"===a?e=e.subtract(R(o/2+u.x,s/2-l.y+u.y,!0)):"right"===a||"auto"===a&&i.x<r.x?(a="right",e=e.add(R(u.x+l.x,l.y-s/2+u.y,!0))):(a="left",e=e.subtract(R(o+l.x-u.x,s/2-l.y-u.y,!0))),_t(n,"leaflet-tooltip-right"),_t(n,"leaflet-tooltip-left"),_t(n,"leaflet-tooltip-top"),_t(n,"leaflet-tooltip-bottom"),yt(n,"leaflet-tooltip-"+a),It(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&wt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lr=function(e,t){return new Dr(e,t)};rn.include({openTooltip:function(e,t,n){return e instanceof Dr||(e=new Dr(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),Hn.include({bindTooltip:function(e,t){return e instanceof Dr?(p(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Dr(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Se&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(yt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(_t(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Nr=$n.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(pt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Or(e){return new Nr(e)}$n.Default=Xn;var Rr=Hn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_e,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),dt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof N?e:new N(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,a=n.length;i<a;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!te){wt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(e-i.loaded)/200);wt(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(E(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(dt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)dt(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new N(+i,+a);s.z=+o;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new N(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();ye?Tt(e.el,i,r):It(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*r);return new F(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,u=new F(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new N(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var d=new N(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:o.push(d)}}if(o.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],v);this._level.el.appendChild(v)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new V(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new N(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(dt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){yt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,te&&this.options.opacity<1&&wt(e,this.options.opacity),ie&&!ae&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),i=this.createTile(this._wrapCoords(e),a(this._tileReady,this,e));this._initTile(i),this.createTile.length<2&&I(a(this._tileReady,this,e,null,i)),It(i,n),this._tiles[r]={el:i,coords:e,current:!0},t.appendChild(i),this.fire("tileloadstart",{tile:i,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(wt(n.el,0),E(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(yt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),te||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new N(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new F(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new Rr(e)}var zr=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Ee&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ie||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Rt(n,"load",a(this._tileOnLoad,this,t,n)),Rt(n,"error",a(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Ee?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return g(this._url,r(t,this.options))},_tileOnLoad:function(e,t){te?setTimeout(a(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,t.complete||(t.src=b,dt(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return se||t.el.setAttribute("src",b),Rr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Rr.prototype._tileReady.call(this,e,t,n)}});function Vr(e,t){return new zr(e,t)}var Br=zr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=r({},this.defaultWmsParams);for(var i in t)i in this.options||(n[i]=t[i]);var a=(t=p(this,t)).detectRetina&&Ee?2:1,o=this.getTileSize();n.width=o.x*a,n.height=o.y*a,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,zr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=z(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===Wn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=zr.prototype.getTileUrl.call(this,e);return s+v(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return r(this.wmsParams,e),t||this.redraw(),this}});function jr(e,t){return new Br(e,t)}zr.WMS=Br,Vr.wms=jr;var Ur=Hn.extend({options:{padding:.1,tolerance:0},initialize:function(e){p(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=Et(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,t),o=this._map.project(e,t).subtract(a),s=i.multiplyBy(-n).add(r).add(i).subtract(o);ye?Tt(this._container,s,n):It(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new F(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wr=Ur.extend({getEvents:function(){var e=Ur.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Rt(e,"mousemove",this._onMouseMove,this),Rt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,dt(this._container),zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Ee?2:1;It(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Ee&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],u[r?"lineTo":"moveTo"](a.x,a.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(Qt(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(_t(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(yt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return Pe?new Wr(e):null}var Hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Gr={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ur.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Hr("shape");yt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Hr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;dt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Hr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Hr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){vt(e._container)},_bringToBack:function(e){mt(e._container)}},Yr=Ae?Hr:Q,Kr=Ur.extend({getEvents:function(){var e=Ur.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Yr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),It(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Yr("path");e.options.className&&yt(t,e.options.className),e.options.interactive&&yt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){dt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){vt(e._path)},_bringToBack:function(e){mt(e._path)}});function Zr(e){return Me||Ae?new Kr(e):null}Ae&&Kr.include(Gr),rn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||Zr(e)}});var $r=lr.extend({initialize:function(e,t){lr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Qr(e,t){return new $r(e,t)}Kr.create=Yr,Kr.pointsToPath=X,hr.geometryToLayer=fr,hr.coordsToLatLng=pr,hr.coordsToLatLngs=vr,hr.latLngToCoords=mr,hr.latLngsToCoords=gr,hr.getFeature=yr,hr.asFeature=_r,rn.mergeOptions({boxZoom:!0});var Xr=mn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),nt(),Pt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Rt(document,{contextmenu:Ht,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new F(this._point,this._startPoint),n=t.getSize();It(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(dt(this._box),_t(this._container,"leaflet-crosshair")),rt(),Mt(),zt(document,{contextmenu:Ht,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var t=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});rn.addInitHook("addHandler","boxZoom",Xr),rn.mergeOptions({doubleClickZoom:!0});var Jr=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});rn.addInitHook("addHandler","doubleClickZoom",Jr),rn.mergeOptions({dragging:!0,inertia:!ae,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=mn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new wn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*o),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=t._limitOffset(f,t.options.maxBounds),I((function(){t.panBy(f,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});rn.addInitHook("addHandler","dragging",ei),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ti=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Rt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Ht(e)}}});rn.addInitHook("addHandler","keyboard",ti),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=mn.extend({addHooks:function(){Rt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Kt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),r),Ht(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});rn.addInitHook("addHandler","scrollWheelZoom",ni),rn.mergeOptions({tap:!0,tapTolerance:15});var ri=mn.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(qt(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new N(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&yt(n,"leaflet-active"),this._holdTimeout=setTimeout(a((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Rt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),zt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&_t(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new N(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});Se&&!xe&&rn.addInitHook("addHandler","tap",ri),rn.mergeOptions({touchZoom:Se&&!ae,bounceAtZoomLimits:!0});var ii=mn.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend",this._onTouchEnd,this),qt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),i=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(i,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&i<1||this._zoom>t.getMaxZoom()&&i>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=a(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=I(s,this,!0),qt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),zt(document,"touchmove",this._onTouchMove),zt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",ii),rn.BoxZoom=Xr,rn.DoubleClickZoom=Jr,rn.Drag=ei,rn.Keyboard=ti,rn.ScrollWheelZoom=ni,rn.Tap=ri,rn.TouchZoom=ii,Object.freeze=n,e.version=t,e.Control=on,e.control=sn,e.Browser=Le,e.Evented=D,e.Mixin=yn,e.Util=C,e.Class=P,e.Handler=mn,e.extend=r,e.bind=a,e.stamp=s,e.setOptions=p,e.DomEvent=tn,e.DomUtil=Ot,e.PosAnimation=nn,e.Draggable=wn,e.LineUtil=Rn,e.PolyUtil=zn,e.Point=N,e.point=R,e.Bounds=F,e.bounds=z,e.Transformation=Y,e.transformation=K,e.Projection=jn,e.LatLng=j,e.latLng=U,e.LatLngBounds=V,e.latLngBounds=B,e.CRS=W,e.GeoJSON=hr,e.geoJSON=kr,e.geoJson=wr,e.Layer=Hn,e.LayerGroup=Gn,e.layerGroup=Yn,e.FeatureGroup=Kn,e.featureGroup=Zn,e.ImageOverlay=xr,e.imageOverlay=Sr,e.VideoOverlay=Tr,e.videoOverlay=Ir,e.SVGOverlay=Er,e.svgOverlay=Cr,e.DivOverlay=Pr,e.Popup=Mr,e.popup=Ar,e.Tooltip=Dr,e.tooltip=Lr,e.Icon=$n,e.icon=Qn,e.DivIcon=Nr,e.divIcon=Or,e.Marker=er,e.marker=tr,e.TileLayer=zr,e.tileLayer=Vr,e.GridLayer=Rr,e.gridLayer=Fr,e.SVG=Kr,e.svg=Zr,e.Renderer=Ur,e.Canvas=Wr,e.canvas=qr,e.Path=nr,e.CircleMarker=rr,e.circleMarker=ir,e.Circle=ar,e.circle=or,e.Polyline=sr,e.polyline=ur,e.Polygon=lr,e.polygon=cr,e.Rectangle=$r,e.rectangle=Qr,e.Map=rn,e.map=an;var ai=window.L;e.noConflict=function(){return window.L=ai,this},window.L=e}(t)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},1211:function(e){e.exports=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),h=!n&&!c&&o(e),f=!n&&!c&&!h&&u(e),d=n||c||h||f,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8430:function(e,t,n){var r=n(7927);e.exports=function(e,t,n,i){return r(e,(function(e,r,a){t(i,e,n(e),a)})),i}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(9102),h="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var y=u(e),_=u(t),b=y?f:s(e),k=_?f:s(t),w=(b=b==h?d:b)==d,x=(k=k==h?d:k)==d,S=b==k;if(S&&l(e)){if(!l(t))return!1;y=!0,w=!1}if(S&&!w)return g||(g=new r),y||c(e)?i(e,t,n,v,m,g):a(e,t,b,n,v,m,g);if(!(1&n)){var T=w&&p.call(e,"__wrapped__"),I=x&&p.call(t,"__wrapped__");if(T||I){var E=T?e.value():e,C=I?t.value():t;return g||(g=new r),m(E,C,n,v,g)}}return!!S&&(g||(g=new r),o(e,t,n,v,m,g))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var l=n[o];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],h=e[c],f=l[1];if(u&&l[2]){if(void 0===h&&!(c in e))return!1}else{var d=new r;if(a)var p=a(h,f,c,e,t,d);if(!(void 0===p?i(f,h,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?f:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),l=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(l(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},4629:function(e,t,n){var r=n(1211),i=n(8430),a=n(6025),o=n(3629);e.exports=function(e,t){return function(n,s){var u=o(n)?r:i,l=t?t():{};return u(n,e,a(s,2),l)}}},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var l=1&n,c=e.length,h=t.length;if(c!=h&&!(l&&h>c))return!1;var f=u.get(e),d=u.get(t);if(f&&d)return f==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var g=e[p],y=t[p];if(o)var _=l?o(y,g,p,t,e,u):o(g,y,p,e,t,u);if(void 0!==_){if(_)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(g===e||s(g,e,n,o,u)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,h,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var m=o(d(e),d(t),r,l,h,f);return f.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var h=c;h--;){var f=l[h];if(!(u?f in t:i.call(t,f)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++h<c;){var g=e[f=l[h]],y=t[f];if(a)var _=u?a(y,g,f,t,e,s):a(g,y,f,e,t,s);if(!(void 0===_?g===y||o(g,y,n,a,s):_)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var b=e.constructor,k=t.constructor;b==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof k&&k instanceof k||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",v=l(r),m=l(i),g=l(a),y=l(o),_=l(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||a&&b(a.resolve())!=h||o&&b(new o)!=f||s&&b(new s)!=d)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case m:return c;case g:return h;case y:return f;case _:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,h=!1;++l<c;){var f=u(t[l]);if(!(h=null!=e&&n(e,f)))break;e=e[f]}return h||++l!=c?h:!!(c=null==e?0:e.length)&&s(c)&&o(f,c)&&(a(e)||i(e))}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},6075:function(e,t,n){var r=n(2526),i=n(4629)((function(e,t,n){r(e,n,t)}));e.exports=i},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function g(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var _=r.momentProperties=[],b=!1;function k(e,t){var n,r,i,a=_.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=m(t)),l(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)l(i=t[r=_[n]])||(e[r]=i);return e}function w(e){k(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],l=arguments.length;for(a=0;a<l;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,E={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),E[e]||(S(t),E[e]=!0)}function P(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e){var t,n;for(n in e)s(e,n)&&(P(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function N(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return P(r)?r.call(t,n):r}function O(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},V={};function B(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(V[e]=i),t&&(V[t[0]]=function(){return O(i.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,r=e.match(R);for(t=0,n=r.length;t<n;t++)V[r[t]]?r[t]=V[r[t]]:r[t]=j(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=P(r[i])?r[i].call(t,e):r[i];return a}}function W(e,t){return e.isValid()?(t=q(t,e.localeData()),z[t]=z[t]||U(t),z[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(R).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function K(){return this._invalidDate}var Z="%d",$=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return P(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function he(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):fe(this,e)}}function fe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Je(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return P(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(P(this[e=re(e)]))return this[e](t);return this}var me,ge=/\d/,ye=/\d\d/,_e=/\d{3}/,be=/\d{4}/,ke=/[+-]?\d{6}/,we=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Te=/\d{1,3}/,Ie=/\d{1,4}/,Ee=/[+-]?\d{1,6}/,Ce=/\d+/,Pe=/[+-]?\d+/,Me=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ne(e,t,n){me[e]=P(t)?t:function(e,r){return e&&n?n:t}}function Oe(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Re(e))}function Re(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var ze={};function Ve(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)ze[e[n]]=i}function Be(e,t){Ve(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function je(e,t,n){null!=t&&s(ze,e)&&ze[e](t,n._a,n,e)}var Ue,We=0,qe=1,He=2,Ge=3,Ye=4,Ke=5,Ze=6,$e=7,Qe=8;function Xe(e,t){return(e%t+t)%t}function Je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ue=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Ne("M",we),Ne("MM",we,ye),Ne("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ne("MMMM",(function(e,t){return t.monthsRegex(e)})),Ve(["M","MM"],(function(e,t){t[qe]=ce(e)-1})),Ve(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[qe]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Le,it=Le;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ue.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ue.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ue.call(this._shortMonthsParse,o))||-1!==(i=Ue.call(this._longMonthsParse,o))?i:null:-1!==(i=Ue.call(this._longMonthsParse,o))||-1!==(i=Ue.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):fe(this,"Month")}function ht(){return Je(this.year(),this.month())}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Ne("Y",Pe),Ne("YY",we,ye),Ne("YYYY",Ie,be),Ne("YYYYY",Ee,ke),Ne("YYYYYY",Ee,ke),Ve(["YYYYY","YYYYYY"],We),Ve("YYYY",(function(e,t){t[We]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Ve("YY",(function(e,t){t[We]=r.parseTwoDigitYear(e)})),Ve("Y",(function(e,t){t[We]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var mt=he("FullYear",!0);function gt(){return ue(this.year())}function yt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function _t(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+_t(e,0,r).getUTCDay()-t)%7+r-1}function kt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function wt(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return wt(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Ne("w",we),Ne("ww",we,ye),Ne("W",we),Ne("WW",we,ye),Be(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var Tt={dow:0,doy:6};function It(){return this._week.dow}function Et(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Mt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Ne("d",we),Ne("e",we),Ne("E",we),Ne("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ne("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ne("dddd",(function(e,t){return t.weekdaysRegex(e)})),Be(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Be(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ot="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rt=Le,Ft=Le,zt=Le;function Vt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Bt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function jt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ue.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ue.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ue.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ue.call(this._weekdaysParse,o))||-1!==(i=Ue.call(this._shortWeekdaysParse,o))||-1!==(i=Ue.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ue.call(this._shortWeekdaysParse,o))||-1!==(i=Ue.call(this._weekdaysParse,o))||-1!==(i=Ue.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ue.call(this._minWeekdaysParse,o))||-1!==(i=Ue.call(this._weekdaysParse,o))||-1!==(i=Ue.call(this._shortWeekdaysParse,o))?i:null}function Wt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Ut.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Mt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Rt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),l.push(r),l.push(i),l.push(a);o.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Jt(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Qt),B("k",["kk",2],0,Xt),B("hmm",0,0,(function(){return""+Qt.apply(this)+O(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Qt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),ne("hour","h"),oe("hour",13),Ne("a",en),Ne("A",en),Ne("H",we),Ne("h",we),Ne("k",we),Ne("HH",we,ye),Ne("hh",we,ye),Ne("kk",we,ye),Ne("hmm",xe),Ne("hmmss",Se),Ne("Hmm",xe),Ne("Hmmss",Se),Ve(["H","HH"],Ge),Ve(["k","kk"],(function(e,t,n){var r=ce(e);t[Ge]=24===r?0:r})),Ve(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ve(["h","hh"],(function(e,t,n){t[Ge]=ce(e),m(n).bigHour=!0})),Ve("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r)),m(n).bigHour=!0})),Ve("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r,2)),t[Ke]=ce(e.substr(i)),m(n).bigHour=!0})),Ve("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r))})),Ve("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r,2)),t[Ke]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=he("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:L,longDateFormat:H,invalidDate:Y,ordinal:Z,dayOfMonthOrdinalParse:$,relativeTime:X,months:et,monthsShort:tt,week:Tt,weekdays:Lt,weekdaysMin:Ot,weekdaysShort:Nt,meridiemParse:nn},un={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=hn(e[a]).split("-")).length,n=(n=hn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=l(t)?yn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new D(A(r,t)),ln[e]&&ln[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function gn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(A(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=A(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return fn(e)}function _n(){return I(un)}function bn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[He]<1||n[He]>Je(n[We],n[qe])?He:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ye]||0!==n[Ke]||0!==n[Ze])?Ge:n[Ye]<0||n[Ye]>59?Ye:n[Ke]<0||n[Ke]>59?Ke:n[Ze]<0||n[Ze]>999?Ze:-1,m(e)._overflowDayOfYear&&(t<We||t>He)&&(t=He),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=Qe),m(e).overflow=t),e}var kn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pn(e){var t,n,r,i,a,o,s=e._i,u=kn.exec(s)||wn.exec(s),l=Sn.length,c=Tn.length;if(u){for(m(e).iso=!0,t=0,n=l;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=c;t<n;t++)if(Tn[t][1].exec(u[3])){a=(u[2]||" ")+Tn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!xn.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),jn(e)}else e._isValid=!1}function Mn(e,t,n,r,i,a){var o=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ln(e,t,n){return!e||Nt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Nn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function On(e){var t,n=En.exec(Dn(e._i));if(n){if(t=Mn(n[4],n[3],n[2],n[5],n[6],n[7]),!Ln(n[1],t,e))return;e._a=t,e._tzm=Nn(n[8],n[9],n[10]),e._d=_t.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=In.exec(e._i);null===t?(Pn(e),!1===e._isValid&&(delete e._isValid,On(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function zn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Vn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=zn(e),e._w&&null==e._a[He]&&null==e._a[qe]&&Bn(e),null!=e._dayOfYear&&(a=Fn(e._a[We],r[We]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=_t(a,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ye]&&0===e._a[Ke]&&0===e._a[Ze]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?_t:yt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Bn(e){var t,n,r,i,a,o,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Fn(t.GG,e._a[We],wt(Zn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,l=wt(Zn(),a,o),n=Fn(t.gg,e._a[We],l.year),r=Fn(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>xt(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=kt(n,r,i,a,o),e._a[We]=s.year,e._dayOfYear=s.dayOfYear)}function jn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u,l=""+e._i,c=l.length,h=0;for(u=(i=q(e._f,e._locale).match(R)||[]).length,t=0;t<u;t++)a=i[t],(n=(l.match(Oe(a,e))||[])[0])&&((o=l.substr(0,l.indexOf(n))).length>0&&m(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),h+=n.length),V[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),je(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-h,l.length>0&&m(e).unusedInput.push(l),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=Un(e._locale,e._a[Ge],e._meridiem),null!==(s=m(e).era)&&(e._a[We]=e._locale.erasConvertYear(s,e._a[We])),Vn(e),bn(e)}else On(e);else Pn(e)}function Un(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=k({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],jn(t),g(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function qn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Vn(e)}}function Hn(e){var t=new w(bn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new w(bn(t)):(h(t)?e._d=t:a(n)?Wn(e):n?jn(e):Yn(e),g(e)||(e._d=null),e))}function Yn(e){var t=e._i;l(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Rn(e):a(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),Vn(e)):o(t)?qn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Hn(s)}function Zn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Qn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Zn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Ue.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&o++;return o+a}function cr(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Ne("Z",Ae),Ne("ZZ",Ae),Ve(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ae,e)}));var hr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||h(e)?e.valueOf():Zn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Zn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Lr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function _r(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Me,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Zn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function kr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return k(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Zn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:ce(o[He])*n,h:ce(o[Ge])*n,m:ce(o[Ye])*n,s:ce(o[Ke])*n,ms:ce(ur(1e3*o[Ze]))*n}):(o=Er.exec(e))?(n="-"===o[1]?-1:1,a={y:Pr(o[2],n),M:Pr(o[3],n),w:Pr(o[4],n),d:Pr(o[5],n),h:Pr(o[6],n),m:Pr(o[7],n),s:Pr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Ar(Zn(a.from),Zn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Pr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Mr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Mr(e,t):((n=Mr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Lr(this,Cr(n,r),e),this}}function Lr(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&lt(e,fe(e,"Month")+s*n),o&&de(e,"Date",fe(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Cr.fn=or.prototype,Cr.invalid=ar;var Nr=Dr(1,"add"),Or=Dr(-1,"subtract");function Rr(e){return"string"===typeof e||e instanceof String}function Fr(e){return x(e)||h(e)||Rr(e)||c(e)||Vr(e)||zr(e)||null===e||void 0===e}function zr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=a.length;for(t=0;t<l;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Vr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Rr(e)})).length),t&&n}function Br(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function jr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Br(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Zn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(P(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Zn(n)))}function Wr(){return new w(this)}function qr(e,t){var n=x(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=x(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=x(e)?e:Zn(e),a=x(t)?t:Zn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yr(e,t){var n,r=x(e)?e:Zn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Qr(this,r)/12;break;case"month":a=Qr(this,r);break;case"quarter":a=Qr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:le(a)}function Qr(e,t){if(e.date()<t.date())return-Qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||Zn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Zn(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||Zn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Zn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var li=1e3,ci=60*li,hi=60*ci,fi=3506328*hi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*ci),hi);break;case"minute":t=this._d.valueOf(),t-=di(t,ci);break;case"second":t=this._d.valueOf(),t-=di(t,li)}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hi-di(t+(this._isUTC?0:this.utcOffset()*ci),hi)-1;break;case"minute":t=this._d.valueOf(),t+=ci-di(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=li-di(t,li)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function ki(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return g(this)}function Ti(){return d({},m(this))}function Ii(){return m(this).overflow}function Ei(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Pi(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Mi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Li(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ni(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Oi(e){return s(this,"_erasNameRegex")||Ui.call(this),e?this._erasNameRegex:this._erasRegex}function Ri(e){return s(this,"_erasAbbrRegex")||Ui.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return s(this,"_erasNarrowRegex")||Ui.call(this),e?this._erasNarrowRegex:this._erasRegex}function zi(e,t){return t.erasAbbrRegex(e)}function Vi(e,t){return t.erasNameRegex(e)}function Bi(e,t){return t.erasNarrowRegex(e)}function ji(e,t){return t._eraYearOrdinalRegex||Ce}function Ui(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Wi(e,t){B(0,[e,e.length],0,t)}function qi(e){return $i.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return xt(this.year(),1,4)}function Yi(){return xt(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Zi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var a;return null==e?wt(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),Qi.call(this,e,t,n,r,i))}function Qi(e,t,n,r,i){var a=kt(e,t,n,r,i),o=_t(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Ne("N",zi),Ne("NN",zi),Ne("NNN",zi),Ne("NNNN",Vi),Ne("NNNNN",Bi),Ve(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Ne("y",Ce),Ne("yy",Ce),Ne("yyy",Ce),Ne("yyyy",Ce),Ne("yo",ji),Ve(["y","yy","yyy","yyyy"],We),Ve(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[We]=n._locale.eraYearOrdinalParse(e,i):t[We]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wi("gggg","weekYear"),Wi("ggggg","weekYear"),Wi("GGGG","isoWeekYear"),Wi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Ne("G",Pe),Ne("g",Pe),Ne("GG",we,ye),Ne("gg",we,ye),Ne("GGGG",Ie,be),Ne("gggg",Ie,be),Ne("GGGGG",Ee,ke),Ne("ggggg",Ee,ke),Be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),Be(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Ne("Q",ge),Ve("Q",(function(e,t){t[qe]=3*(ce(e)-1)})),B("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Ne("D",we),Ne("DD",we,ye),Ne("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ve(["D","DD"],He),Ve("Do",(function(e,t){t[He]=ce(e.match(we)[0])}));var Ji=he("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Ne("DDD",Te),Ne("DDDD",_e),Ve(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),B("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Ne("m",we),Ne("mm",we,ye),Ve(["m","mm"],Ye);var ta=he("Minutes",!1);B("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Ne("s",we),Ne("ss",we,ye),Ve(["s","ss"],Ke);var na,ra,ia=he("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Ne("S",Te,ge),Ne("SS",Te,ye),Ne("SSS",Te,_e),na="SSSS";na.length<=9;na+="S")Ne(na,Ce);function aa(e,t){t[Ze]=ce(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ve(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=he("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ua=w.prototype;function la(e){return Zn(1e3*e)}function ca(){return Zn.apply(null,arguments).parseZone()}function ha(e){return e}ua.add=Nr,ua.calendar=Ur,ua.clone=Wr,ua.diff=$r,ua.endOf=gi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ii,ua.isAfter=qr,ua.isBefore=Hr,ua.isBetween=Gr,ua.isSame=Yr,ua.isSameOrAfter=Kr,ua.isSameOrBefore=Zr,ua.isValid=Si,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=Qn,ua.min=$n,ua.parsingFlags=Ti,ua.set=ve,ua.startOf=mi,ua.subtract=Or,ua.toArray=ki,ua.toObject=wi,ua.toDate=bi,ua.toISOString=Jr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=xi,ua.toString=Xr,ua.unix=_i,ua.valueOf=yi,ua.creationData=Ei,ua.eraName=Ai,ua.eraNarrow=Di,ua.eraAbbr=Li,ua.eraYear=Ni,ua.year=mt,ua.isLeapYear=gt,ua.weekYear=qi,ua.isoWeekYear=Hi,ua.quarter=ua.quarters=Xi,ua.month=ct,ua.daysInMonth=ht,ua.week=ua.weeks=Ct,ua.isoWeek=ua.isoWeeks=Pt,ua.weeksInYear=Ki,ua.weeksInWeekYear=Zi,ua.isoWeeksInYear=Gi,ua.isoWeeksInISOWeekYear=Yi,ua.date=Ji,ua.day=ua.days=qt,ua.weekday=Ht,ua.isoWeekday=Gt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=gr,ua.local=yr,ua.parseZone=_r,ua.hasAlignedHourOffset=br,ua.isDST=kr,ua.isLocal=xr,ua.isUtcOffset=Sr,ua.isUtc=Tr,ua.isUTC=Tr,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=T("dates accessor is deprecated. Use date instead.",Ji),ua.months=T("months accessor is deprecated. Use month instead",ct),ua.years=T("years accessor is deprecated. Use year instead",mt),ua.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ua.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fa=D.prototype;function da(e,t,n,r){var i=yn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,a=yn(),o=e?a._week.dow:0,s=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=da(t,(i+o)%7,r,"day");return s}function ma(e,t){return pa(e,t,"months")}function ga(e,t){return pa(e,t,"monthsShort")}function ya(e,t,n){return va(e,t,n,"weekdays")}function _a(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}fa.calendar=N,fa.longDateFormat=G,fa.invalidDate=K,fa.ordinal=Q,fa.preparse=ha,fa.postformat=ha,fa.relativeTime=J,fa.pastFuture=ee,fa.set=M,fa.eras=Ci,fa.erasParse=Pi,fa.erasConvertYear=Mi,fa.erasAbbrRegex=Ri,fa.erasNameRegex=Oi,fa.erasNarrowRegex=Fi,fa.months=at,fa.monthsShort=ot,fa.monthsParse=ut,fa.monthsRegex=dt,fa.monthsShortRegex=ft,fa.week=St,fa.firstDayOfYear=Et,fa.firstDayOfWeek=It,fa.weekdays=Vt,fa.weekdaysMin=jt,fa.weekdaysShort=Bt,fa.weekdaysParse=Wt,fa.weekdaysRegex=Yt,fa.weekdaysShortRegex=Kt,fa.weekdaysMinRegex=Zt,fa.isPM=tn,fa.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",yn);var ka=Math.abs;function wa(){var e=this._data;return this._milliseconds=ka(this._milliseconds),this._days=ka(this._days),this._months=ka(this._months),e.milliseconds=ka(e.milliseconds),e.seconds=ka(e.seconds),e.minutes=ka(e.minutes),e.hours=ka(e.hours),e.months=ka(e.months),e.years=ka(e.years),this}function xa(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return xa(this,e,t,1)}function Ta(e,t){return xa(this,e,t,-1)}function Ia(e){return e<0?Math.floor(e):Math.ceil(e)}function Ea(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ia(Pa(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=le(a/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,n=le(t/60),u.hours=n%24,o+=le(n/24),s+=i=le(Ca(o)),o-=Ia(Pa(i)),r=le(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ca(e){return 4800*e/146097}function Pa(e){return 146097*e/4800}function Ma(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pa(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Aa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var La=Da("ms"),Na=Da("s"),Oa=Da("m"),Ra=Da("h"),Fa=Da("d"),za=Da("w"),Va=Da("M"),Ba=Da("Q"),ja=Da("y");function Ua(){return Cr(this)}function Wa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ha=qa("milliseconds"),Ga=qa("seconds"),Ya=qa("minutes"),Ka=qa("hours"),Za=qa("days"),$a=qa("months"),Qa=qa("years");function Xa(){return le(this.days()/7)}var Ja=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Ja(i.as("s")),o=Ja(i.as("m")),s=Ja(i.as("h")),u=Ja(i.as("d")),l=Ja(i.as("M")),c=Ja(i.as("w")),h=Ja(i.as("y")),f=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,f[3]=+e>0,f[4]=r,to.apply(null,f)}function ro(e){return void 0===e?Ja:"function"===typeof e&&(Ja=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,l=oo(this._days),c=oo(this._months),h=this.asSeconds();return h?(e=le(u/60),t=le(e/60),u%=60,e%=60,n=le(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",a=so(this._months)!==so(h)?"-":"",o=so(this._days)!==so(h)?"-":"",s=so(this._milliseconds)!==so(h)?"-":"",i+"P"+(n?a+n+"Y":"")+(c?a+c+"M":"")+(l?o+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var lo=or.prototype;return lo.isValid=ir,lo.abs=wa,lo.add=Sa,lo.subtract=Ta,lo.as=Ma,lo.asMilliseconds=La,lo.asSeconds=Na,lo.asMinutes=Oa,lo.asHours=Ra,lo.asDays=Fa,lo.asWeeks=za,lo.asMonths=Va,lo.asQuarters=Ba,lo.asYears=ja,lo.valueOf=Aa,lo._bubble=Ea,lo.clone=Ua,lo.get=Wa,lo.milliseconds=Ha,lo.seconds=Ga,lo.minutes=Ya,lo.hours=Ka,lo.days=Za,lo.weeks=Xa,lo.months=$a,lo.years=Qa,lo.humanize=ao,lo.toISOString=uo,lo.toString=uo,lo.toJSON=uo,lo.locale=oi,lo.localeData=ui,lo.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),lo.lang=si,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Ne("x",Pe),Ne("X",De),Ve("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ve("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.2",i(Zn),r.fn=ua,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=la,r.months=ma,r.isDate=h,r.locale=vn,r.invalid=y,r.duration=Cr,r.isMoment=x,r.weekdays=ya,r.parseZone=ca,r.localeData=yn,r.isDuration=sr,r.monthsShort=ga,r.weekdaysMin=ba,r.defineLocale=mn,r.updateLocale=gn,r.locales=_n,r.weekdaysShort=_a,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=jr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},6098:function(e,t,n){var r,i;r=function(){var e,t,n="2.0.6",r={},i={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},o={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function s(e,t){this._input=e,this._value=t}return(e=function(n){var i,a,u,l;if(e.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"===typeof n)if(o.zeroFormat&&n===o.zeroFormat)i=0;else if(o.nullFormat&&n===o.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(a in r)if((l="function"===typeof r[a].regexps.unformat?r[a].regexps.unformat():r[a].regexps.unformat)&&n.match(l)){u=r[a].unformat;break}i=(u=u||e._.stringToNumber)(n)}else i=Number(n)||null;return new s(n,i)}).version=n,e.isNumeral=function(e){return e instanceof s},e._=t={numberToFormat:function(t,n,r){var a,o,s,u,l,c,h,f=i[e.options.currentLocale],d=!1,p=!1,v=0,m="",g=1e12,y=1e9,_=1e6,b=1e3,k="",w=!1;if(t=t||0,o=Math.abs(t),e._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(l=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(a=!!(a=n.match(/a(k|m|b|t)?/))&&a[1],e._.includes(n," a")&&(m=" "),n=n.replace(new RegExp(m+"a[kmbt]?"),""),o>=g&&!a||"t"===a?(m+=f.abbreviations.trillion,t/=g):o<g&&o>=y&&!a||"b"===a?(m+=f.abbreviations.billion,t/=y):o<y&&o>=_&&!a||"m"===a?(m+=f.abbreviations.million,t/=_):(o<_&&o>=b&&!a||"k"===a)&&(m+=f.abbreviations.thousand,t/=b)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),s=t.toString().split(".")[0],u=n.split(".")[1],c=n.indexOf(","),v=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(e._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),k=e._.toFixed(t,u[0].length+u[1].length,r,u[1].length)):k=e._.toFixed(t,u.length,r),s=k.split(".")[0],k=e._.includes(k,".")?f.delimiters.decimal+k.split(".")[1]:"",p&&0===Number(k.slice(1))&&(k="")):s=e._.toFixed(t,0,r),m&&!a&&Number(s)>=1e3&&m!==f.abbreviations.trillion)switch(s=String(Number(s)/1e3),m){case f.abbreviations.thousand:m=f.abbreviations.million;break;case f.abbreviations.million:m=f.abbreviations.billion;break;case f.abbreviations.billion:m=f.abbreviations.trillion}if(e._.includes(s,"-")&&(s=s.slice(1),w=!0),s.length<v)for(var x=v-s.length;x>0;x--)s="0"+s;return c>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===n.indexOf(".")&&(s=""),h=s+k+(m||""),d?h=(d&&w?"(":"")+h+(d&&w?")":""):l>=0?h=0===l?(w?"-":"+")+h:h+(w?"-":"+"):w&&(h="-"+h),h},stringToNumber:function(e){var t,n,r,a=i[o.currentLocale],s=e,u={thousand:3,million:6,billion:9,trillion:12};if(o.zeroFormat&&e===o.zeroFormat)n=0;else if(o.nullFormat&&e===o.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==a.delimiters.decimal&&(e=e.replace(/\./g,"").replace(a.delimiters.decimal,".")),u)if(r=new RegExp("[^a-zA-Z]"+a.abbreviations[t]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),s.match(r)){n*=Math.pow(10,u[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"number"===typeof e&&isNaN(e)})),includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,a=0;if(3===arguments.length)n=arguments[2];else{for(;a<i&&!(a in r);)a++;if(a>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[a++]}for(;a<i;a++)a in r&&(n=t(n,r[a],a,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,a,o,s,u=e.toString().split("."),l=t-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,l),t):l,o=Math.pow(10,i),s=(n(e+"e+"+i)/o).toFixed(i),r>t-i&&(a=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),s=s.replace(a,"")),s}},e.options=o,e.formats=r,e.locales=i,e.locale=function(e){return e&&(o.currentLocale=e.toLowerCase()),o.currentLocale},e.localeData=function(e){if(!e)return i[o.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in a)o[e]=a[e]},e.zeroFormat=function(e){o.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){o.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){o.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,a,o,s,u,l,c;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{l=e.localeData(n)}catch(h){l=e.localeData(e.locale())}return a=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=t.match(/^[^\d]+/))||(t=t.substr(1),c[0]===a))&&(null===(c=t.match(/[^\d]+$/))||(t=t.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(u=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((o=t.split(r)).length>2)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/)))},e.fn=s.prototype={clone:function(){return e(this)},format:function(t,n){var i,a,s,u=this._value,l=t||o.defaultFormat;if(n=n||Math.round,0===u&&null!==o.zeroFormat)a=o.zeroFormat;else if(null===u&&null!==o.nullFormat)a=o.nullFormat;else{for(i in r)if(l.match(r[i].regexps.format)){s=r[i].format;break}a=(s=s||e._.numberToFormat)(u,l,n)}return a},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],r,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e-Math.round(n*t)}return this._value=t.reduce([e],r,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,r,i){var a=t.correctionFactor(e,n);return Math.round(e*a)*Math.round(n*a)/Math.round(a*a)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,r,i){var a=t.correctionFactor(e,n);return Math.round(e*a)/Math.round(n*a)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,a=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,a+"BPS"),i=i.join("")):i=i+a+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,a){var o,s,u,l=e._.includes(i,"ib")?n:t,c=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),o=0;o<=l.suffixes.length;o++)if(s=Math.pow(l.base,o),u=Math.pow(l.base,o+1),null===r||0===r||r>=s&&r<u){c+=l.suffixes[o],s>0&&(r/=s);break}return e._.numberToFormat(r,i,a)+c},unformat:function(r){var i,a,o=e._.stringToNumber(r);if(o){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){a=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){a=Math.pow(n.base,i);break}}o*=a||1}return o}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,a,o=e.locales[e.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(s.before,"-")&&!e._.includes(s.before,"(")&&(s.before="-"+s.before),a=0;a<s.before.length;a++)switch(s.before[a]){case"$":i=e._.insert(i,o.currency.symbol,a);break;case" ":i=e._.insert(i," ",a+o.currency.symbol.length-1)}for(a=s.after.length-1;a>=0;a--)switch(s.after[a]){case"$":i=a===s.after.length-1?i+o.currency.symbol:e._.insert(i,o.currency.symbol,-(s.after.length-(1+a)));break;case" ":i=a===s.after.length-1?i+" ":e._.insert(i," ",-(s.after.length-(1+a)+o.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);function a(t,n,r,i){var a=e._.correctionFactor(t,n);return t*a*(n*a)/(a*a)}return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],a,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],a=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),a+=i.ordinal(t),e._.numberToFormat(t,n,r)+a}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,a=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,a+"%"),i=i.join("")):i=i+a+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),a=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8353:function(e,t,n){"use strict";t.x1=void 0;var r=u(n(2791)),i=u(n(2007)),a=u(n(6594)),o=u(n(8111)),s=u(n(6075));function u(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"production",T=function(e){g(n,e);var t=_(n);function n(){var e;return p(this,n),x(k(e=t.call(this)),"handleOnClick",(function(t){var n=e.chartInstance,r=e.props,i=r.getDatasetAtEvent,a=r.getElementAtEvent,o=r.getElementsAtEvent,s=r.onElementsClick;i&&i(n.getDatasetAtEvent(t),t),a&&a(n.getElementAtEvent(t),t),o&&o(n.getElementsAtEvent(t),t),s&&s(n.getElementsAtEvent(t),t)})),x(k(e),"ref",(function(t){e.element=t})),e.chartInstance=void 0,e}return m(n,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(){if(this.props.redraw)return this.destroyChart(),void this.renderChart();this.updateChart()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=(t.redraw,t.type),r=t.options,i=t.plugins,a=t.legend,s=t.height,u=t.width;if(!0===e.redraw)return!0;if(s!==e.height||u!==e.width)return!0;if(n!==e.type)return!0;if(!(0,o.default)(a,e.legend))return!0;if(!(0,o.default)(r,e.options))return!0;var l=this.transformDataProp(e);return!(0,o.default)(this.shadowDataProp,l)||!(0,o.default)(i,e.plugins)}},{key:"componentWillUnmount",value:function(){this.destroyChart()}},{key:"transformDataProp",value:function(e){var t=e.data;return"function"==typeof t?t(this.element):t}},{key:"memoizeDataProps",value:function(){if(this.props.data){var e=this.transformDataProp(this.props);return this.shadowDataProp=d(d({},e),{},{datasets:e.datasets&&e.datasets.map((function(e){return d({},e)}))}),this.saveCurrentDatasets(),e}}},{key:"checkDatasets",value:function(e){var t="production"!==S&&"prod"!==S,r=this.props.datasetKeyProvider!==n.getLabelAsKey,i=e.length>1;if(t&&i&&!r){var a=!1;e.forEach((function(e){e.label||(a=!0)})),a&&console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the "label" property on each dataset is used. Alternatively, you may provide a "datasetKeyProvider" as a prop that returns a unique key.')}}},{key:"getCurrentDatasets",value:function(){return this.chartInstance&&this.chartInstance.config.data&&this.chartInstance.config.data.datasets||[]}},{key:"saveCurrentDatasets",value:function(){var e=this;this.datasets=this.datasets||{},this.getCurrentDatasets().forEach((function(t){e.datasets[e.props.datasetKeyProvider(t)]=t}))}},{key:"updateChart",value:function(){var e=this,t=this.props.options,n=this.memoizeDataProps(this.props);if(this.chartInstance){t&&(this.chartInstance.options=a.default.helpers.configMerge(this.chartInstance.options,t));var r=this.getCurrentDatasets(),i=n.datasets||[];this.checkDatasets(r);var o=(0,s.default)(r,this.props.datasetKeyProvider);this.chartInstance.config.data.datasets=i.map((function(t){var n=o[e.props.datasetKeyProvider(t)];if(n&&n.type===t.type&&t.data){n.data.splice(t.data.length),t.data.forEach((function(e,r){n.data[r]=t.data[r]}));t.data;var r=h(t,["data"]);return d(d({},n),r)}return t}));n.datasets;var u=h(n,["datasets"]);this.chartInstance.config.data=d(d({},this.chartInstance.config.data),u),this.chartInstance.update()}}},{key:"renderChart",value:function(){var e=this.props,t=e.options,r=e.legend,i=e.type,s=e.plugins,u=this.element,l=this.memoizeDataProps();"undefined"===typeof r||(0,o.default)(n.defaultProps.legend,r)||(t.legend=r),this.chartInstance=new a.default(u,{type:i,data:l,options:t,plugins:s})}},{key:"destroyChart",value:function(){if(this.chartInstance){this.saveCurrentDatasets();var e=Object.values(this.datasets);this.chartInstance.config.data.datasets=e,this.chartInstance.destroy()}}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,i=e.id;return r.default.createElement("canvas",{ref:this.ref,height:t,width:n,id:i,onClick:this.handleOnClick})}}]),n}(r.default.Component);x(T,"getLabelAsKey",(function(e){return e.label})),x(T,"propTypes",{data:i.default.oneOfType([i.default.object,i.default.func]).isRequired,getDatasetAtEvent:i.default.func,getElementAtEvent:i.default.func,getElementsAtEvent:i.default.func,height:i.default.number,legend:i.default.object,onElementsClick:i.default.func,options:i.default.object,plugins:i.default.arrayOf(i.default.object),redraw:i.default.bool,type:function(e,t,n){if(!a.default.controllers[e[t]])return new Error("Invalid chart type `"+e[t]+"` supplied to `"+n+"`.")},width:i.default.number,datasetKeyProvider:i.default.func}),x(T,"defaultProps",{legend:{display:!0,position:"bottom"},type:"doughnut",height:150,width:300,redraw:!1,options:{},datasetKeyProvider:T.getLabelAsKey});var I=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"doughnut"}))}}]),n}(r.default.Component);var E=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"pie"}))}}]),n}(r.default.Component);var C=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"line"}))}}]),n}(r.default.Component);t.x1=C;var P=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"bar"}))}}]),n}(r.default.Component);var M=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"horizontalBar"}))}}]),n}(r.default.Component);var A=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"radar"}))}}]),n}(r.default.Component);var D=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"polarArea"}))}}]),n}(r.default.Component);var L=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"bubble"}))}}]),n}(r.default.Component);var N=function(e){g(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=this;return r.default.createElement(T,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"scatter"}))}}]),n}(r.default.Component);a.default.defaults},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var F,z=Object.assign;function V(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function j(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function U(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case T:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ne(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,fe=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Te=null;function Ie(e){if(e=gi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Pe(e,t){return e(t)}function Me(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==Se||null!==Te)&&(Me(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(he){Ne=!1}function Re(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Fe=!1,ze=null,Ve=!1,Be=null,je={onError:function(e){Fe=!0,ze=e}};function Ue(e,t,n,r,i,a,o,s,u){Fe=!1,ze=null,Re.apply(je,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,et=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,it=i.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/lt|0)|0},ut=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,xt,St,Tt,It=!1,Et=[],Ct=null,Pt=null,Mt=null,At=new Map,Dt=new Map,Lt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=mi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){zt(e)&&n.delete(t)}function Bt(){It=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==Mt&&zt(Mt)&&(Mt=null),At.forEach(Vt),Dt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==Pt&&jt(Pt,e),null!==Mt&&jt(Mt,e),At.forEach(t),Dt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Lt.shift()}var Wt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Wt.transition=a}}function Ht(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Wt.transition=a}}function Gt(e,t,n,r){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return Pt=Rt(Pt,e,t,n,r,i),!0;case"mouseover":return Mt=Rt(Mt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Rt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Rt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=gi(i);if(null!==a&&kt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=mi(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Qt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=rn(un),cn=z({},un,{view:0,detail:0}),hn=rn(cn),fn=z({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),dn=rn(fn),pn=rn(z({},fn,{dataTransfer:0})),vn=rn(z({},cn,{relatedTarget:0})),mn=rn(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(gn),_n=rn(z({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return xn}var Tn=z({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=rn(Tn),En=rn(z({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(z({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=rn(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=z({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(Mn),Dn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var On=c&&"TextEvent"in window&&!Nn,Rn=c&&(!Ln||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Yn(e){Fr(e,0)}function Kn(e){if(K(yi(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(c){var Qn;if(c){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Qn=Xn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",tr),Gn=Hn=null)}function tr(e){if("value"===e.propertyName&&Kn(Gn)){var t=[];qn(t,Gn,e,we(e)),De(Yn,t)}}function nr(e,t,n){"focusin"===e?(er(),Gn=n,(Hn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Gn)}function ir(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,gr=null,yr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==Z(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},xr={};function Sr(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Sr("animationend"),Ir=Sr("animationiteration"),Er=Sr("animationstart"),Cr=Sr("transitionend"),Pr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Mr.length;Dr++){var Lr=Mr[Dr];Ar(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=ze;Fe=!1,ze=null,Ve||(Ve=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Rr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Rr(i,s,l),a=u}}}if(Ve)throw e=Be,Ve=!1,Be=null,e}function zr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Zt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,l=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Tr:case Ir:case Er:u=mn;break;case Cr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Le(p,f))&&c.push(qr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[fi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(h=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=dn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:yi(u),d=null==l?s:yi(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,mi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Yr(o,s,u,c,!1),null!==l&&null!==h&&Yr(o,h,l,c,!0)}if("select"===(u=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Wn(s))if($n)m=ar;else{m=rr;var g=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?qn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&te(s,"number",s.value)),g=r?yi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(vr=g,mr=r,gr=null);break;case"focusout":gr=mr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,_r(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Rn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==_?"onCompositionEnd"===_&&jn&&(y=Jt()):(Qt="value"in($t=i)?$t.value:$t.textContent,jn=!0)),0<(g=Hr(r,_)).length&&(_=new _n(_,e,null,n,i),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=Bn(n))&&(_.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=Jt(),Xt=Qt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Le(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Le(n,a))&&o.unshift(qr(n,u,s)):i||null!=(u=Le(n,a))&&o.push(qr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"===typeof setTimeout?setTimeout:void 0,ni="function"===typeof clearTimeout?clearTimeout:void 0,ri="function"===typeof Promise?Promise:void 0,ii="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ri?function(e){return ri.resolve(null).then(e).catch(ai)}:ti;function ai(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,hi="__reactProps$"+li,fi="__reactContainer$"+li,di="__reactEvents$"+li,pi="__reactListeners$"+li,vi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[hi]||null}var bi=[],ki=-1;function wi(e){return{current:e}}function xi(e){0>ki||(e.current=bi[ki],bi[ki]=null,ki--)}function Si(e,t){ki++,bi[ki]=e.current,e.current=t}var Ti={},Ii=wi(Ti),Ei=wi(!1),Ci=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){xi(Ei),xi(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Si(Ii,t),Si(Ei,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return z({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ci=Ii.current,Si(Ii,e),Si(Ei,Ei.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Ii),Si(Ii,e)):xi(Ei),Si(Ei,n)}var Ri=null,Fi=!1,zi=!1;function Vi(e){null===Ri?Ri=[e]:Ri.push(e)}function Bi(){if(!zi&&null!==Ri){zi=!0;var e=0,t=_t;try{var n=Ri;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ri=null,Fi=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(e+1)),Ke(et,Bi),i}finally{_t=t,zi=!1}}return null}var ji=b.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=wi(null),qi=null,Hi=null,Gi=null;function Yi(){Gi=Hi=qi=null}function Ki(e){var t=Wi.current;xi(Wi),e._currentValue=t}function Zi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Gi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Qi(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(a(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Xi=null,Ji=!1;function ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ra(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==_u&&0!==(1&e.mode)&&0===(2&yu)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function aa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=z({},h,f);break e;case 2:Ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Iu|=o,e.lanes=o,e.memoizedState=h}}function sa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function la(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wu(),i=qu(e),a=na(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ra(e,a),null!==(t=Hu(e,i,r))&&ia(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wu(),i=qu(e),a=na(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ra(e,a),null!==(t=Hu(e,i,r))&&ia(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wu(),r=qu(e),i=na(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ra(e,i),null!==(t=Hu(e,r,n))&&ia(t,e,r)}};function ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function fa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Qi(a):(i=Mi(t)?Ci:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function da(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function pa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,ea(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Qi(a):(a=Mi(t)?Ci:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(la(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),oa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var va=[],ma=0,ga=null,ya=0,_a=[],ba=0,ka=null,wa=1,xa="";function Sa(e,t){va[ma++]=ya,va[ma++]=ga,ga=e,ya=t}function Ta(e,t,n){_a[ba++]=wa,_a[ba++]=xa,_a[ba++]=ka,ka=e;var r=wa;e=xa;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-st(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(Sa(e,1),Ta(e,1,0))}function Ea(e){for(;e===ga;)ga=va[--ma],va[ma]=null,ya=va[--ma],va[ma]=null;for(;e===ka;)ka=_a[--ba],_a[ba]=null,xa=_a[--ba],_a[ba]=null,wa=_a[--ba],_a[ba]=null}var Ca=null,Pa=null,Ma=!1,Aa=null;function Da(e,t){var n=kl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ca=e,Pa=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ca=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ca=e,Pa=null,!0);default:return!1}}function Na(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Ma){var t=Pa;if(t){var n=t;if(!La(e,t)){if(Na(e))throw Error(a(418));t=si(n.nextSibling);var r=Ca;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Ma=!1,Ca=e)}}else{if(Na(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ma=!1,Ca=e}}}function Ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ca=e}function Fa(e){if(e!==Ca)return!1;if(!Ma)return Ra(e),Ma=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=Pa)){if(Na(e)){for(e=Pa;e;)e=si(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=si(t.nextSibling)}if(Ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Ca?si(e.stateNode.nextSibling):null;return!0}function za(){Pa=Ca=null,Ma=!1}function Va(e){null===Aa?Aa=[e]:Aa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=El(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ua(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Sl(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Tl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=El(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Sl(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case w:return(t=Cl(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(ne(t)||R(t))return(t=Tl(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(ne(n)||R(n))return null!==i?null:h(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(i,h),Ma&&Sa(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return Ma&&Sa(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),Ma&&Sa(i,v),l}function m(i,s,u,l){var c=R(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=d(i,v,y.value,l);if(null===_){null===v&&(v=g);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===h?c=_:h.sibling=_,h=_,v=g}if(y.done)return n(i,v),Ma&&Sa(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return Ma&&Sa(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),Ma&&Sa(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Ua(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ba(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Tl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Sl(o.type,o.key,o.props,null,r.mode,u)).ref=Ba(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Cl(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(c=o._init)(o._payload),u)}if(ne(o))return v(r,a,o,u);if(R(o))return m(r,a,o,u);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=El(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var qa=Wa(!0),Ha=Wa(!1),Ga={},Ya=wi(Ga),Ka=wi(Ga),Za=wi(Ga);function $a(e){if(e===Ga)throw Error(a(174));return e}function Qa(e,t){switch(Si(Za,t),Si(Ka,e),Si(Ya,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ya),Si(Ya,t)}function Xa(){xi(Ya),xi(Ka),xi(Za)}function Ja(e){$a(Za.current);var t=$a(Ya.current),n=le(t,e.type);t!==n&&(Si(Ka,e),Si(Ya,n))}function eo(e){Ka.current===e&&(xi(Ya),xi(Ka))}var to=wi(0);function no(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=[];function io(){for(var e=0;e<ro.length;e++)ro[e]._workInProgressVersionPrimary=null;ro.length=0}var ao=b.ReactCurrentDispatcher,oo=b.ReactCurrentBatchConfig,so=0,uo=null,lo=null,co=null,ho=!1,fo=!1,po=0,vo=0;function mo(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(so=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?es:ts,e=n(r,i),fo){o=0;do{if(fo=!1,po=0,25<=o)throw Error(a(301));o+=1,co=lo=null,t.updateQueue=null,ao.current=ns,e=n(r,i)}while(fo)}if(ao.current=Jo,t=null!==lo&&null!==lo.next,so=0,co=lo=uo=null,ho=!1,t)throw Error(a(300));return e}function _o(){var e=0!==po;return po=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===lo){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=lo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((so&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,uo.lanes|=h,Iu|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,or(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Iu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);or(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Io(e,t){var n=uo,r=ko(),i=t(),o=!or(r.memoizedState,i);if(o&&(r.memoizedState=i,ys=!0),r=r.queue,Fo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Do(9,Co.bind(null,n,r,i,t),void 0,null),null===_u)throw Error(a(349));0!==(30&so)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Hu(e,1,-1)}function Po(e,t,n){return n((function(){Mo(t)&&Hu(e,1,-1)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ao(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,uo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return ko().memoizedState}function No(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==lo){var o=lo.memoizedState;if(a=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}uo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Ro(e,t){return No(8390656,8,e,t)}function Fo(e,t){return Oo(2048,8,e,t)}function zo(e,t){return Oo(4,2,e,t)}function Vo(e,t){return Oo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Bo.bind(null,t,e),n)}function Uo(){}function Wo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{_t=n,oo.transition=r}}function Go(){return ko().memoizedState}function Yo(e,t,n){var r=qu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e)?$o(t,n):(Qo(e,t,n),null!==(e=Hu(e,r,n=Wu()))&&Xo(e,t,r))}function Ko(e,t,n){var r=qu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))$o(t,i);else{Qo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,or(s,o))return}catch(u){}null!==(e=Hu(e,r,n=Wu()))&&Xo(e,t,r)}}function Zo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){null!==_u&&0!==(1&e.mode)&&0===(2&yu)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Qi,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},es={readContext:Qi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Qi,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Ro((function(){var t=oo.transition;oo.transition={};try{r(e)}finally{oo.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ho.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Ma){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_u)throw Error(a(349));0!==(30&so)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(Po.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=_u.identifierPrefix;if(Ma){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-st(wa)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ts={readContext:Qi,useCallback:Wo,useContext:Qi,useEffect:Fo,useImperativeHandle:jo,useInsertionEffect:zo,useLayoutEffect:Vo,useMemo:qo,useReducer:xo,useRef:Lo,useState:function(){return xo(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Fo((function(){var t=oo.transition;oo.transition={};try{r(e)}finally{oo.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Go,unstable_isNewReconciler:!1},ns={readContext:Qi,useCallback:Wo,useContext:Qi,useEffect:Fo,useImperativeHandle:jo,useInsertionEffect:zo,useLayoutEffect:Vo,useMemo:qo,useReducer:So,useRef:Lo,useState:function(){return So(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=So(wo),n=t[0],r=t[1];return Fo((function(){var t=oo.transition;oo.transition={};try{r(e)}finally{oo.transition=t}}),[e]),n},useTransition:function(){return[So(wo)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Go,unstable_isNewReconciler:!1};function rs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var as,os,ss,us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lu||(Lu=!0,Nu=r),is(0,t)},n}function cs(e,t,n){(n=na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){is(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){is(0,t),"function"!==typeof r&&(null===Ou?Ou=new Set([this]):Ou.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new us;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vl.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ds(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=na(-1,1)).tag=2,ra(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ps(e,t){if(!Ma)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ms(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(t),null;case 1:case 17:return Mi(t.type)&&Ai(),vs(t),null;case 3:return r=t.stateNode,Xa(),xi(Ei),xi(Ii),io(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&($u(Aa),Aa=null))),vs(t),null;case 5:eo(t);var i=$a(Za.current);if(n=t.type,null!==e&&null!=t.stateNode)os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return vs(t),null}if(e=$a(Ya.current),Fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)zr(Nr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var u in _e(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(Qr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(Qr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":Y(r),ee(r,o,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ci]=t,e[hi]=r,as(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)zr(Nr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),i=ie(e,r),zr("invalid",e)}for(o in _e(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":Y(e),ee(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?re(e,!!r.multiple,o,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vs(t),null;case 6:if(e&&null!=t.stateNode)ss(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Za.current),$a(Ya.current),Fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ca))switch(u=0!==(1&e.mode),e.tag){case 3:Qr(r.nodeValue,n,u);break;case 5:!0!==e.memoizedProps[void 0]&&Qr(r.nodeValue,n,u)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return vs(t),null;case 13:if(xi(to),r=t.memoizedState,Ma&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=si(r.nextSibling);return za(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Fa(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else za(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vs(t),null}return null!==Aa&&($u(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Fa(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&to.current)?0===Su&&(Su=3):al())),null!==t.updateQueue&&(t.flags|=4),vs(t),null);case 4:return Xa(),null===e&&jr(t.stateNode.containerInfo),vs(t),null;case 10:return Ki(t.type._context),vs(t),null;case 19:if(xi(to),null===(o=t.memoizedState))return vs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ps(o,!1);else{if(0!==Su||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=no(e))){for(t.flags|=128,ps(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(to,1&to.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Du&&(t.flags|=128,r=!0,ps(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=no(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ps(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Ma)return vs(t),null}else 2*Xe()-o.renderingStartTime>Du&&1073741824!==n&&(t.flags|=128,r=!0,ps(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=to.current,Si(to,r?1&n|2:1&n),t):(vs(t),null);case 22:case 23:return tl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&wu)&&(vs(t),6&t.subtreeFlags&&(t.flags|=8192)):vs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}as=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ya.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),o=[];break;case"textarea":i=ie(e,i),r=ie(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in _e(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},ss=function(e,t,n,r){n!==r&&(t.flags|=4)};var gs=b.ReactCurrentOwner,ys=!1;function _s(e,t,n,r){t.child=null===e?Ha(t,null,n,r):qa(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=_o(),null===e||ys?(Ma&&n&&Ia(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Sl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=xl(a,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(ys=!1,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(ys=!0)}return Ts(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Si(xu,wu),wu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Si(xu,wu),wu|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Si(xu,wu),wu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(xu,wu),wu|=r;return _s(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Mi(n)?Ci:Ii.current;return a=Pi(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=_o(),null===e||ys?(Ma&&r&&Ia(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Is(e,t,n,r,i){if(Mi(n)){var a=!0;Ni(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),pa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Qi(l):l=Pi(t,l=Mi(n)?Ci:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&da(t,o,r,l),Ji=!1;var f=t.memoizedState;o.state=f,oa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ei.current||Ji?("function"===typeof c&&(la(t,n,c,r),u=t.memoizedState),(s=Ji||ha(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ta(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ui(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Qi(u):u=Pi(t,u=Mi(n)?Ci:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&da(t,o,r,u),Ji=!1,f=t.memoizedState,o.state=f,oa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ei.current||Ji?("function"===typeof d&&(la(t,n,d,r),p=t.memoizedState),(l=Ji||ha(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,a,i)}function Es(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Bs(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qa(e,t.containerInfo)}function Ps(e,t,n,r,i){return za(),Va(i),t.flags|=256,_s(e,t,n,r),t.child}var Ms={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null}}function Ds(e,t,n){var r,i=t.pendingProps,o=to.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(to,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Il(o,i,0,null),e=Tl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(n),t.memoizedState=Ms,e):Ls(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Rs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Il({mode:"visible",children:i.children},o,0,null),(s=Tl(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=As(n),t.memoizedState=Ms,s);if(0===(1&t.mode))t=Rs(e,t,n,null);else if("$!"===r.data)t=Rs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ys||i){if(null!==(i=_u)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Hu(e,i,-1))}al(),t=Rs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=gl.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=si(r.nextSibling),Ca=t,Ma=!0,Aa=null,null!==n&&(_a[ba++]=wa,_a[ba++]=xa,_a[ba++]=ka,wa=n.id,xa=n.overflow,ka=t),(t=Ls(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Os(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?As(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i):(n=Ns(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Os(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?As(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i):(n=Ns(e,t,i.children,n),t.memoizedState=null,n)}function Ls(e,t){return(t=Il({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ns(e,t,n,r){var i=e.child;return e=i.sibling,n=xl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Os(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=xl(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xl(o,r):(r=Tl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Rs(e,t,n,r){return null!==r&&Va(r),qa(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Zi(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=to.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(to,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===no(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===no(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Iu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function js(e,t){switch(Ea(t),t.tag){case 1:return Mi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ei),xi(Ii),io(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return eo(t),null;case 13:if(xi(to),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));za()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(to),null;case 4:return Xa(),null;case 10:return Ki(t.type._context),null;case 22:case 23:return tl(),null;default:return null}}var Us=!1,Ws=!1,qs="function"===typeof WeakSet?WeakSet:Set,Hs=null;function Gs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){pl(e,t,r)}else n.current=null}function Ys(e,t,n){try{n()}catch(r){pl(e,t,r)}}var Ks=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ys(t,n,a)}i=i.next}while(i!==r)}}function $s(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xs(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ys(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Gs(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){pl(t,n,o)}break;case 5:Gs(t,n);break;case 4:au(e,t,n)}}function Js(e){var t=e.alternate;null!==t&&(e.alternate=null,Js(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[hi],delete t[di],delete t[pi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eu(e){return 5===e.tag||3===e.tag||4===e.tag}function tu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nu(e){e:{for(var t=e.return;null!==t;){if(eu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),iu(e,n=tu(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ru(e,n=tu(e),t);break;default:throw Error(a(161))}}function ru(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ru(e,t,n),e=e.sibling;null!==e;)ru(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}function au(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,l=o,c=n,h=l;;)if(Xs(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(u=r,l=o.stateNode,8===u.nodeType?oi(u.parentNode,l):1===u.nodeType&&oi(u,l),Ut(u)):oi(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xs(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ou(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Zs(3,t,t.return),$s(3,t),void Zs(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?ge(n,u):"dangerouslySetInnerHTML"===s?fe(n,u):"children"===s?de(n,u):_(n,s,u,t)}switch(e){case"input":J(n,r);break;case"textarea":oe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?re(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?re(n,!!r.multiple,r.defaultValue,!0):re(n,!!r.multiple,r.multiple?[]:"",!1))}n[hi]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ut(t.stateNode.containerInfo));case 13:case 19:return void su(t)}throw Error(a(163))}function su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var r=yl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function uu(e,t,n){Hs=e,lu(e,t,n)}function lu(e,t,n){for(var r=0!==(1&e.mode);null!==Hs;){var i=Hs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Us;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ws;s=Us;var l=Ws;if(Us=o,(Ws=u)&&!l)for(Hs=i;null!==Hs;)u=(o=Hs).child,22===o.tag&&null!==o.memoizedState?fu(i):null!==u?(u.return=o,Hs=u):fu(i);for(;null!==a;)Hs=a,lu(a,t,n),a=a.sibling;Hs=i,Us=s,Ws=l}cu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Hs=a):cu(e)}}function cu(e){for(;null!==Hs;){var t=Hs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ws||$s(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ws)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&sa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}sa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}Ws||512&t.flags&&Qs(t)}catch(d){pl(t,t.return,d)}}if(t===e){Hs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Hs=n;break}Hs=t.return}}function hu(e){for(;null!==Hs;){var t=Hs;if(t===e){Hs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Hs=n;break}Hs=t.return}}function fu(e){for(;null!==Hs;){var t=Hs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$s(4,t)}catch(u){pl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){pl(t,i,u)}}var a=t.return;try{Qs(t)}catch(u){pl(t,a,u)}break;case 5:var o=t.return;try{Qs(t)}catch(u){pl(t,o,u)}}}catch(u){pl(t,t.return,u)}if(t===e){Hs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Hs=s;break}Hs=t.return}}var du,pu=Math.ceil,vu=b.ReactCurrentDispatcher,mu=b.ReactCurrentOwner,gu=b.ReactCurrentBatchConfig,yu=0,_u=null,bu=null,ku=0,wu=0,xu=wi(0),Su=0,Tu=null,Iu=0,Eu=0,Cu=0,Pu=null,Mu=null,Au=0,Du=1/0,Lu=!1,Nu=null,Ou=null,Ru=!1,Fu=null,zu=0,Vu=0,Bu=null,ju=-1,Uu=0;function Wu(){return 0!==(6&yu)?Xe():-1!==ju?ju:ju=Xe()}function qu(e){return 0===(1&e.mode)?1:0!==(2&yu)&&0!==ku?ku&-ku:null!==ji.transition?(0===Uu&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Uu=e),Uu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function Hu(e,t,n){if(50<Vu)throw Vu=0,Bu=null,Error(a(185));var r=Gu(e,t);return null===r?null:(gt(r,t,n),0!==(2&yu)&&r===_u||(r===_u&&(0===(2&yu)&&(Eu|=t),4===Su&&Qu(r,ku)),Yu(r,n),1===t&&0===yu&&0===(1&e.mode)&&(Du=Xe()+500,Fi&&Bi())),r)}function Gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Yu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-st(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===_u?ku:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(Xu.bind(null,e)):Vi(Xu.bind(null,e)),ii((function(){0===yu&&Bi()})),n=null;else{switch(bt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=_l(n,Ku.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ku(e,t){if(ju=-1,Uu=0,0!==(6&yu))throw Error(a(327));var n=e.callbackNode;if(fl()&&e.callbackNode!==n)return null;var r=dt(e,e===_u?ku:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ol(e,r);else{t=r;var i=yu;yu|=2;var o=il();for(_u===e&&ku===t||(Du=Xe()+500,nl(e,t));;)try{ul();break}catch(u){rl(e,u)}Yi(),vu.current=o,yu=i,null!==bu?t=0:(_u=null,ku=0,t=Su)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=Zu(e,i))),1===t)throw n=Tu,nl(e,0),Qu(e,r),Yu(e,Xe()),n;if(6===t)Qu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ol(e,r))&&(0!==(o=vt(e))&&(r=o,t=Zu(e,o))),1===t))throw n=Tu,nl(e,0),Qu(e,r),Yu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:hl(e,Mu);break;case 3:if(Qu(e,r),(130023424&r)===r&&10<(t=Au+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Wu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ti(hl.bind(null,e,Mu),t);break}hl(e,Mu);break;case 4:if(Qu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-st(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pu(r/1960))-r)){e.timeoutHandle=ti(hl.bind(null,e,Mu),r);break}hl(e,Mu);break;default:throw Error(a(329))}}}return Yu(e,Xe()),e.callbackNode===n?Ku.bind(null,e):null}function Zu(e,t){var n=Pu;return e.current.memoizedState.isDehydrated&&(nl(e,t).flags|=256),2!==(e=ol(e,t))&&(t=Mu,Mu=n,null!==t&&$u(t)),e}function $u(e){null===Mu?Mu=e:Mu.push.apply(Mu,e)}function Qu(e,t){for(t&=~Cu,t&=~Eu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function Xu(e){if(0!==(6&yu))throw Error(a(327));fl();var t=dt(e,0);if(0===(1&t))return Yu(e,Xe()),null;var n=ol(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=Zu(e,r))}if(1===n)throw n=Tu,nl(e,0),Qu(e,t),Yu(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hl(e,Mu),Yu(e,Xe()),null}function Ju(e,t){var n=yu;yu|=1;try{return e(t)}finally{0===(yu=n)&&(Du=Xe()+500,Fi&&Bi())}}function el(e){null!==Fu&&0===Fu.tag&&0===(6&yu)&&fl();var t=yu;yu|=1;var n=gu.transition,r=_t;try{if(gu.transition=null,_t=1,e)return e()}finally{_t=r,gu.transition=n,0===(6&(yu=t))&&Bi()}}function tl(){wu=xu.current,xi(xu)}function nl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ni(n)),null!==bu)for(n=bu.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Xa(),xi(Ei),xi(Ii),io();break;case 5:eo(r);break;case 4:Xa();break;case 13:case 19:xi(to);break;case 10:Ki(r.type._context);break;case 22:case 23:tl()}n=n.return}if(_u=e,bu=e=xl(e.current,null),ku=wu=t,Su=0,Tu=null,Cu=Eu=Iu=0,Mu=Pu=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function rl(e,t){for(;;){var n=bu;try{if(Yi(),ao.current=Jo,ho){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ho=!1}if(so=0,co=lo=uo=null,fo=!1,po=0,mu.current=null,null===n||null===n.return){Su=1,Tu=t,bu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=ku,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,ds(p,s,u,0,t),1&p.mode&&hs(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){hs(o,c,t),al();break e}l=Error(a(426))}else if(Ma&&1&u.mode){var g=fs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ds(g,s,u,0,t),Va(l);break e}}o=l,4!==Su&&(Su=2),null===Pu?Pu=[o]:Pu.push(o),l=rs(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,aa(u,ls(0,l,t));break e;case 1:o=l;var y=u.type,_=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ou||!Ou.has(_)))){u.flags|=65536,t&=-t,u.lanes|=t,aa(u,cs(u,o,t));break e}}u=u.return}while(null!==u)}cl(n)}catch(b){t=b,bu===n&&null!==n&&(bu=n=n.return);continue}break}}function il(){var e=vu.current;return vu.current=Jo,null===e?Jo:e}function al(){0!==Su&&3!==Su&&2!==Su||(Su=4),null===_u||0===(268435455&Iu)&&0===(268435455&Eu)||Qu(_u,ku)}function ol(e,t){var n=yu;yu|=2;var r=il();for(_u===e&&ku===t||nl(e,t);;)try{sl();break}catch(i){rl(e,i)}if(Yi(),yu=n,vu.current=r,null!==bu)throw Error(a(261));return _u=null,ku=0,Su}function sl(){for(;null!==bu;)ll(bu)}function ul(){for(;null!==bu&&!$e();)ll(bu)}function ll(e){var t=du(e.alternate,e,wu);e.memoizedProps=e.pendingProps,null===t?cl(e):bu=t,mu.current=null}function cl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ms(n,t,wu)))return void(bu=n)}else{if(null!==(n=js(n,t)))return n.flags&=32767,void(bu=n);if(null===e)return Su=6,void(bu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bu=t);bu=t=e}while(null!==t);0===Su&&(Su=5)}function hl(e,t){var n=_t,r=gu.transition;try{gu.transition=null,_t=1,function(e,t,n){do{fl()}while(null!==Fu);if(0!==(6&yu))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===_u&&(bu=_u=null,ku=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ru||(Ru=!0,_l(nt,(function(){return fl(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=gu.transition,gu.transition=null;var s=_t;_t=1;var u=yu;yu|=4,mu.current=null,function(e,t){if(fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Hs=t;null!==Hs;)if(e=(t=Hs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Hs=e;else for(;null!==Hs;){t=Hs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ui(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var k=b.body;null!=k&&(k.textContent="")}break;default:throw Error(a(163))}}catch(w){pl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Hs=e;break}Hs=t.return}v=Ks,Ks=!1}(e,r),function(e,t){for(Hs=t;null!==Hs;){var n=(t=Hs).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{au(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(L){pl(i,t,L)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Hs=n;else for(;null!==Hs;){t=Hs;try{var o=t.flags;if(32&o&&de(t.stateNode,""),512&o){var s=t.alternate;if(null!==s){var u=s.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var l=t.alternate;null!==l&&null!==l.memoizedState||(Au=Xe())}break;case 22:var c=null!==t.memoizedState,h=t.alternate,f=null!==h&&null!==h.memoizedState;e:{i=c;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var g=p.stateNode,y=p.memoizedProps.style,_=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;g.style.display=me("display",_)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!f&&0!==(1&n.mode)){Hs=n;for(var b=n.child;null!==b;){for(n=Hs=b;null!==Hs;){var k=(r=Hs).child;switch(r.tag){case 0:case 11:case 14:case 15:Zs(4,r,r.return);break;case 1:Gs(r,r.return);var w=r.stateNode;if("function"===typeof w.componentWillUnmount){var x=r.return;try{w.props=r.memoizedProps,w.state=r.memoizedState,w.componentWillUnmount()}catch(L){pl(r,x,L)}}break;case 5:Gs(r,r.return);break;case 22:if(null!==r.memoizedState){hu(n);continue}}null!==k?(k.return=r,Hs=k):hu(n)}b=b.sibling}}}switch(4102&o){case 2:nu(t),t.flags&=-3;break;case 6:nu(t),t.flags&=-3,ou(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ou(t.alternate,t);break;case 4:ou(t.alternate,t)}}catch(L){pl(t,t.return,L)}if(null!==(n=t.sibling)){n.return=t.return,Hs=n;break}Hs=t.return}}}(e,r),dr(Jr),Jr=null,e.current=r,uu(r,e,i),Qe(),yu=u,_t=s,gu.transition=o}else e.current=r;if(Ru&&(Ru=!1,Fu=e,zu=i),0===(o=e.pendingLanes)&&(Ou=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Yu(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Lu)throw Lu=!1,e=Nu,Nu=null,e;0!==(1&zu)&&0!==e.tag&&fl(),0!==(1&(o=e.pendingLanes))?e===Bu?Vu++:(Vu=0,Bu=e):Vu=0,Bi()}(e,t,n)}finally{gu.transition=r,_t=n}return null}function fl(){if(null!==Fu){var e=bt(zu),t=gu.transition,n=_t;try{if(gu.transition=null,_t=16>e?16:e,null===Fu)var r=!1;else{if(e=Fu,Fu=null,zu=0,0!==(6&yu))throw Error(a(331));var i=yu;for(yu|=4,Hs=e.current;null!==Hs;){var o=Hs,s=o.child;if(0!==(16&Hs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Hs=c;null!==Hs;){var h=Hs;switch(h.tag){case 0:case 11:case 15:Zs(8,h,o)}var f=h.child;if(null!==f)f.return=h,Hs=f;else for(;null!==Hs;){var d=(h=Hs).sibling,p=h.return;if(Js(h),h===c){Hs=null;break}if(null!==d){d.return=p,Hs=d;break}Hs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Hs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Hs=s;else e:for(;null!==Hs;){if(0!==(2048&(o=Hs).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Hs=y;break e}Hs=o.return}}var _=e.current;for(Hs=_;null!==Hs;){var b=(s=Hs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Hs=b;else e:for(s=_;null!==Hs;){if(0!==(2048&(u=Hs).flags))try{switch(u.tag){case 0:case 11:case 15:$s(9,u)}}catch(w){pl(u,u.return,w)}if(u===s){Hs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Hs=k;break e}Hs=u.return}}if(yu=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{_t=n,gu.transition=t}}return!1}function dl(e,t,n){ra(e,t=ls(0,t=rs(n,t),1)),t=Wu(),null!==(e=Gu(e,1))&&(gt(e,1,t),Yu(e,t))}function pl(e,t,n){if(3===e.tag)dl(e,e,n);else for(;null!==t;){if(3===t.tag){dl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ou||!Ou.has(r))){ra(t,e=cs(t,e=rs(n,e),1)),e=Wu(),null!==(t=Gu(t,1))&&(gt(t,1,e),Yu(t,e));break}}t=t.return}}function vl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Wu(),e.pingedLanes|=e.suspendedLanes&n,_u===e&&(ku&n)===n&&(4===Su||3===Su&&(130023424&ku)===ku&&500>Xe()-Au?nl(e,0):Cu|=n),Yu(e,t)}function ml(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=Wu();null!==(e=Gu(e,t))&&(gt(e,t,n),Yu(e,n))}function gl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ml(e,n)}function yl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),ml(e,n)}function _l(e,t){return Ke(e,t)}function bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kl(e,t,n,r){return new bl(e,t,n,r)}function wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xl(e,t){var n=e.alternate;return null===n?((n=kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)wl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Tl(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=kl(12,n,t,2|i)).elementType=T,e.lanes=o,e;case P:return(e=kl(13,n,t,i)).elementType=P,e.lanes=o,e;case M:return(e=kl(19,n,t,i)).elementType=M,e.lanes=o,e;case N:return Il(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case E:s=9;break e;case C:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Tl(e,t,n,r){return(e=kl(7,e,r,t)).lanes=n,e}function Il(e,t,n,r){return(e=kl(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={},e}function El(e,t,n){return(e=kl(6,e,null,t)).lanes=n,e}function Cl(e,t,n){return(t=kl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ml(e,t,n,r,i,a,o,s,u){return e=new Pl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=kl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},ea(a),e}function Al(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Dl(e){if(!e)return Ti;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Li(e,n,t)}return t}function Ll(e,t,n,r,i,a,o,s,u){return(e=Ml(n,r,!0,e,0,a,0,s,u)).context=Dl(null),n=e.current,(a=na(r=Wu(),i=qu(n))).callback=void 0!==t&&null!==t?t:null,ra(n,a),e.current.lanes=i,gt(e,i,r),Yu(e,r),e}function Nl(e,t,n,r){var i=t.current,a=Wu(),o=qu(i);return n=Dl(n),null===t.context?t.context=n:t.pendingContext=n,(t=na(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ra(i,t),null!==(e=Hu(i,o,a))&&ia(e,i,o),o}function Ol(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Rl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Fl(e,t){Rl(e,t),(e=e.alternate)&&Rl(e,t)}du=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),za();break;case 5:Ja(t);break;case 1:Mi(t.type)&&Ni(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(to,1&to.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Si(to,1&to.current),null!==(e=Bs(e,t,n))?e.sibling:null);Si(to,1&to.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(to,to.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Bs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,Ma&&0!==(1048576&t.flags)&&Ta(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ii.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(o=!0,Ni(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ea(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,pa(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,Ma&&o&&Ia(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,Ui(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(Cs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ta(e,t),oa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ps(e,t,r,n,i=Error(a(424)));break e}for(Pa=si(t.stateNode.containerInfo.firstChild),Ca=t,Ma=!0,Aa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(za(),r===i){t=Bs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ei(r,i)?s=null:null!==o&&ei(r,o)&&(t.flags|=32),Ss(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Ds(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(Wi,r._currentValue),r._currentValue=s,null!==o)if(or(o.value,s)){if(o.children===i.children&&!Ei.current){t=Bs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=na(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Zi(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Zi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Qi(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),ks(e,t,r,i=Ui(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Mi(r)?(e=!0,Ni(t)):e=!1,$i(t,n),fa(t,r,i),pa(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var zl="function"===typeof reportError?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}function Bl(e){this._internalRoot=e}function jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Wl(){}function ql(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Ol(o);s.call(e)}}Nl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Ol(o);a.call(e)}}var o=Ll(t,r,e,0,null,!1,0,"",Wl);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),el(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Ol(u);s.call(e)}}var u=Ml(e,0,!1,null,0,!1,0,"",Wl);return e._reactRootContainer=u,e[fi]=u.current,jr(8===e.nodeType?e.parentNode:e),el((function(){Nl(t,u,n,r)})),u}(n,t,e,i,r);return Ol(o)}Bl.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Nl(e,t,null,null)},Bl.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;el((function(){Nl(null,e,null,null)})),t[fi]=null}},Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Yu(t,Xe()),0===(6&yu)&&(Du=Xe()+500,Bi()))}break;case 13:var r=Wu();el((function(){return Hu(e,1,r)})),Fl(e,1)}},wt=function(e){13===e.tag&&(Hu(e,134217728,Wu()),Fl(e,134217728))},xt=function(e){if(13===e.tag){var t=Wu(),n=qu(e);Hu(e,n,t),Fl(e,n)}},St=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Pe=Ju,Me=el;var Hl={usingClientEntryPoint:!1,Events:[gi,yi,_i,Ee,Ce,Ju]},Gl={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Yl={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{at=Kl.inject(Yl),ot=Kl}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jl(t))throw Error(a(200));return Al(e,t,null,n)},t.createRoot=function(e,t){if(!jl(e))throw Error(a(299));var n=!1,r="",i=zl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ml(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Vl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return el(e)},t.hydrate=function(e,t,n){if(!Ul(t))throw Error(a(200));return ql(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=zl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ll(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bl(t)},t.render=function(e,t,n){if(!Ul(t))throw Error(a(200));return ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(a(40));return!!e._reactRootContainer&&(el((function(){ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Ju,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ul(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ql(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(o,d),o=d+h.length,f)s+=f[1];else{var p=e[o],v=n[2],m=n[3],g=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var k=null!=v&&null!=p&&p!==v,w="+"===_||"*"===_,x="?"===_||"*"===_,S=n[2]||c,T=g||y;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:x,repeat:w,partial:k,asterisk:!!b,pattern:T?l(T):b?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(0===d?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');a+=c.prefix+h}}else a+=c}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)o+=u(l);else{var f=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+f+d+")*"),o+=d=l.optional?l.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",c(new RegExp("^"+o,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(a(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===h}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,v(b,g.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+C(s=e[l],l);u+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=a+C(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},L={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:L,ReactCurrentOwner:x};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var _={};u(_,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(P([])));k&&k!==n&&r.call(k,a)&&(_=k);var w=y.prototype=m.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,L(w);else{var t=r(c);null!==t&&N(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&N(k,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,T=null,I=-1,E=5,C=-1;function P(){return!(t.unstable_now()-C<E)}function M(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?x():(S=!1,T=null)}}else S=!1}if("function"===typeof _)x=function(){_(M)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=M,x=function(){D.postMessage(null)}}else x=function(){g(M,0)};function L(e){T=e,S||(S=!0,x())}function N(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(I),I=-1):m=!0,N(k,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".3353a8a3.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="covid-tracker:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkcovid_tracker=self.webpackChunkcovid_tracker||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Gt},SDK_VERSION:function(){return Wn},_DEFAULT_ENTRY_NAME:function(){return Mn},_addComponent:function(){return Nn},_addOrOverwriteComponent:function(){return On},_apps:function(){return Dn},_clearComponents:function(){return Vn},_components:function(){return Ln},_getProvider:function(){return Fn},_registerComponent:function(){return Rn},_removeServiceInstance:function(){return zn},deleteApp:function(){return Yn},getApp:function(){return Hn},getApps:function(){return Gn},initializeApp:function(){return qn},onLog:function(){return $n},registerVersion:function(){return Zn},setLogLevel:function(){return Qn}});var t=n(2791),r=n(1250);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var l=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&s(e),o=t&&s(t),l=a||o;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,f=i.length;f>=0;f--){var d=i[f];"."===d?u(i,f):".."===d?(u(i,f),h++):h&&(u(i,f),h--)}if(!l)for(;h--;h)i.unshift("..");!l||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},c="Invariant failed";function h(e,t){if(!e)throw new Error(c)}function f(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function v(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=l(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var k="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),_||h(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,l=void 0===u?b:u,c=i.keyLength,d=void 0===c?6:c,S=e.basename?v(f(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return S&&(a=p(a,S)),g(a,r,n)}function I(){return Math.random().toString(36).substr(2,d)}var E=y();function C(e){o(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)}function P(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(T(e.state))}function M(){D(T(x()))}var A=!1;function D(e){if(A)A=!1,C();else{E.confirmTransitionTo(e,"POP",l,(function(t){t?C({action:"POP",location:e}):function(e){var t=B.location,n=N.indexOf(t.key);-1===n&&(n=0);var r=N.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,R(i))}(e)}))}}var L=T(x()),N=[L.key];function O(e){return S+m(e)}function R(e){t.go(e)}var F=0;function z(e){1===(F+=e)&&1===e?(window.addEventListener(k,P),r&&window.addEventListener(w,M)):0===F&&(window.removeEventListener(k,P),r&&window.removeEventListener(w,M))}var V=!1;var B={length:t.length,action:"POP",location:L,createHref:O,push:function(e,r){var i="PUSH",a=g(e,r,I(),B.location);E.confirmTransitionTo(a,i,l,(function(e){if(e){var r=O(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var l=N.indexOf(B.location.key),c=N.slice(0,l+1);c.push(a.key),N=c,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=g(e,r,I(),B.location);E.confirmTransitionTo(a,i,l,(function(e){if(e){var r=O(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var l=N.indexOf(B.location.key);-1!==l&&(N[l]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return V||(z(1),V=!0),function(){return V&&(V=!1,z(-1)),t()}},listen:function(e){var t=E.appendListener(e);return z(1),function(){z(-1),t()}}};return B}var T="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:f},slash:{encodePath:f,decodePath:f}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function P(e){window.location.replace(E(window.location.href)+"#"+e)}function M(e){void 0===e&&{},_||h(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?v(f(e.basename)):"",l=I[s],c=l.encodePath,d=l.decodePath;function k(){var e=d(C());return u&&p(e,u),g(e)}var w=y();function x(e){o(B,e),B.length=t.length,w.notifyListeners(B.location,B.action)}var S=!1,M=null;function A(){var e,t,n=C(),r=c(n);if(n!==r)P(r);else{var a=k(),o=B.location;if(!S&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(M===m(a))return;null,function(e){if(S)!1,x();else{var t="POP";w.confirmTransitionTo(e,t,i,(function(n){n?x({action:t,location:e}):function(e){var t=B.location,n=O.lastIndexOf(m(t));-1===n&&0;var r=O.lastIndexOf(m(e));-1===r&&0;var i=n-r;i&&(!0,R(i))}(e)}))}}(a)}}var D=C(),L=c(D);D!==L&&P(L);var N=k(),O=[m(N)];function R(e){t.go(e)}var F=0;function z(e){1===(F+=e)&&1===e?window.addEventListener(T,A):0===F&&window.removeEventListener(T,A)}var V=!1;var B={length:t.length,action:"POP",location:N,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&E(window.location.href),n+"#"+c(u+m(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,B.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=m(r),i=c(u+t);if(C()!==i){t,function(e){window.location.hash=e}(i);var a=O.lastIndexOf(m(B.location)),o=O.slice(0,a+1);o.push(t),o,x({action:n,location:r})}else x()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,B.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=m(r),i=c(u+t);C()!==i&&(t,P(i));var a=O.indexOf(m(B.location));-1!==a&&(O[a]=t),x({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&!1;var t=w.setPrompt(e);return V||(z(1),!0),function(){return V&&(!1,z(-1)),t()}},listen:function(e){var t=w.appendListener(e);return z(1),function(){z(-1),t()}}};return B}function A(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,l=void 0===u?6:u,c=y();function h(e){o(b,e),b.length=b.entries.length,c.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,l)}var d=A(s,0,i.length-1),p=i.map((function(e){return g(e,void 0,"string"===typeof e?f():e.key||f())})),v=m;function _(e){var t=A(b.index+e,0,b.entries.length-1),r=b.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var b={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=g(e,t,f(),b.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,f(),b.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,h({action:r,location:i}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return b}var L=n(2007),N=n.n(L),O=1073741823,R="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function F(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var z=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return R[e]=(R[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=F(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):O,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=N().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?O:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?O:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[o]=N().object,i),{Provider:s,Consumer:u}},V=z,B=n(3813),j=n.n(B);n(8228);function U(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var W=n(2110),q=n.n(W),H=function(e){var t=V();return t.displayName=e,t},G=H("Router-History"),Y=function(e){var t=V();return t.displayName=e,t},K=Y("Router"),Z=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(K.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(G.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var $={},Q=0;function X(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=$[n]||($[n]={});if(r[e])return r[e];var i=[],a={regexp:j()(e,i,t),keys:i};return Q<1e4&&(r[e]=a,Q++),a}(n,{end:a,strict:s,sensitive:l}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),f=e===c;return a&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var J=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(K.Consumer,null,(function(n){n||h(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?X(r.pathname,e.props):n.match}),a=e.props,s=a.children,u=a.component,l=a.render;return Array.isArray(s)&&0===s.length&&(s=null),t.createElement(K.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?t.createElement(u,i):l?l(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function ee(e){return"/"===e.charAt(0)?e:"/"+e}function te(e,t){if(!e)return t;var n=ee(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function ne(e){return"string"===typeof e?e:m(e)}function re(e){return function(){h(!1)}}function ie(){}t.Component;var ae=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(K.Consumer,null,(function(n){n||h(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?X(a.pathname,o({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var oe=t.useContext;var se=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=S(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(Z,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ue=function(e,t){return"function"===typeof e?e(t):e},le=function(e,t){return"string"===typeof e?g(e,null,null,t):e},ce=function(e){return e},he=t.forwardRef;"undefined"===typeof he&&(he=ce);var fe=he((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,s=U(e,["innerRef","navigate","onClick"]),u=s.target,l=o({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return l.ref=ce!==he&&n||r,t.createElement("a",l)}));var de=he((function(e,n){var r=e.component,i=void 0===r?fe:r,a=e.replace,s=e.to,u=e.innerRef,l=U(e,["component","replace","to","innerRef"]);return t.createElement(K.Consumer,null,(function(e){e||h(!1);var r=e.history,c=le(ue(s,e.location),e.location),f=c?r.createHref(c):"",d=o({},l,{href:f,navigate:function(){var t=ue(s,e.location);(a?r.replace:r.push)(t)}});return ce!==he?d.ref=n||u:d.innerRef=u,t.createElement(i,d)}))})),pe=function(e){return e},ve=t.forwardRef;"undefined"===typeof ve&&(ve=pe);ve((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,s=void 0===a?"active":a,u=e.activeStyle,l=e.className,c=e.exact,f=e.isActive,d=e.location,p=e.sensitive,v=e.strict,m=e.style,g=e.to,y=e.innerRef,_=U(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(K.Consumer,null,(function(e){e||h(!1);var r=d||e.location,a=le(ue(g,r),r),b=a.pathname,k=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=k?X(r.pathname,{path:k,exact:c,sensitive:p,strict:v}):null,x=!!(f?f(w,r):w),S=x?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(l,s):l,T=x?o({},m,{},u):m,I=o({"aria-current":x&&i||null,className:S,style:T,to:a},_);return pe!==ve?I.ref=n||y:I.innerRef=y,t.createElement(de,I)}))}));function me(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){me(a,r,i,o,s,"next",e)}function s(e){me(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ye(e){if(Array.isArray(e))return e}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if(e){if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function we(e,t){return ye(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||be(e,t)||ke()}var xe=n(7757),Se=n.n(xe);var Te=n(184);function Ie(e){var t=e.isRed,n=e.active,r=e.title,i=e.cases,a=e.total;return(0,Te.jsx)("div",{className:"card ".concat(!t&&n&&"card-green"," ").concat(t&&n&&"card-red"),children:(0,Te.jsxs)("div",{className:"card-content",children:[(0,Te.jsx)("p",{children:r}),(0,Te.jsx)("h2",{className:"".concat(!t&&"cases-green"),children:i}),(0,Te.jsxs)("p",{children:[a," Total"]})]})})}var Ee=["title","cases","isRed","active","total"];var Ce=function(e){var t=e.title,n=e.cases,r=e.isRed,i=e.active,a=e.total,o=function(e,t){if(null==e)return{};var n,r,i=U(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ee);return(0,Te.jsx)("div",{className:"infoBox",onClick:o.onClick,children:(0,Te.jsx)(Ie,{isRed:r,active:i,title:t,cases:n,total:a})})};function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=n(8559),De=(0,t.createContext)({}),Le=De.Consumer,Ne=De.Provider,Oe=function(e){var n=function(n,r){return t.createElement(Le,null,(function(i){return t.createElement(e,o({},n,{leaflet:i,ref:r}))}))},r=e.displayName||e.name||"Component";n.displayName="Leaflet("+r+")";var i=(0,t.forwardRef)(n);return q()(i,e),i},Re=/^on(.+)$/i,Fe=function(e){function t(t){var n;return Me(Pe(n=e.call(this,t)||this),"_leafletEvents",void 0),Me(Pe(n),"leafletElement",void 0),n._leafletEvents=n.extractLeafletEvents(t),n}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},n.componentDidUpdate=function(e){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},n.componentWillUnmount=function(){var e=this,t=this.leafletElement;t&&Object.keys(this._leafletEvents).forEach((function(n){t.off(n,e._leafletEvents[n])}))},n.extractLeafletEvents=function(e){return Object.keys(e).reduce((function(t,n){if(Re.test(n)&&null!=e[n]){var r=n.replace(Re,(function(e,t){return t.toLowerCase()}));t[r]=e[n]}return t}),{})},n.bindLeafletEvents=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.leafletElement;if(null==n||null==n.on)return{};var r=o({},t);return Object.keys(t).forEach((function(i){null!=e[i]&&t[i]===e[i]||(delete r[i],n.off(i,t[i]))})),Object.keys(e).forEach((function(i){null!=t[i]&&e[i]===t[i]||(r[i]=e[i],n.on(i,e[i]))})),r},n.fireLeafletEvent=function(e,t){var n=this.leafletElement;n&&n.fire(e,t)},t}(t.Component),ze=function(e){return void 0===e&&(e=""),e.split(" ").filter(Boolean)},Ve=function(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&function(e,t){ze(t).forEach((function(t){Ae.DomUtil.removeClass(e,t)}))}(e,t),null!=n&&n.length>0&&function(e,t){ze(t).forEach((function(t){Ae.DomUtil.addClass(e,t)}))}(e,n))};function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce((function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t}),{})}var je=["children","className","id","style","useFlyTo","whenReady"],Ue=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},We=function(e){function n(t){var n;return Me(Pe(n=e.call(this,t)||this),"className",void 0),Me(Pe(n),"contextValue",void 0),Me(Pe(n),"container",void 0),Me(Pe(n),"viewport",{center:void 0,zoom:void 0}),Me(Pe(n),"_ready",!1),Me(Pe(n),"_updating",!1),Me(Pe(n),"onViewportChange",(function(){var e=n.leafletElement.getCenter();n.viewport={center:e?[e.lat,e.lng]:void 0,zoom:n.leafletElement.getZoom()},n.props.onViewportChange&&!n._updating&&n.props.onViewportChange(n.viewport)})),Me(Pe(n),"onViewportChanged",(function(){n.props.onViewportChanged&&!n._updating&&n.props.onViewportChanged(n.viewport)})),Me(Pe(n),"bindContainer",(function(e){n.container=e})),n.className=t.className,n}a(n,e);var r=n.prototype;return r.createLeafletElement=function(e){var t=e.viewport,n=U(e,["viewport"]);return t&&(t.center&&(n.center=t.center),"number"===typeof t.zoom&&(n.zoom=t.zoom)),new Ae.Map(this.container,n)},r.updateLeafletElement=function(e,t){this._updating=!0;var n=t.bounds,r=t.boundsOptions,i=t.boxZoom,a=t.center,o=t.className,s=t.doubleClickZoom,u=t.dragging,l=t.keyboard,c=t.maxBounds,h=t.scrollWheelZoom,f=t.tap,d=t.touchZoom,p=t.useFlyTo,v=t.viewport,m=t.zoom;if(Ve(this.container,e.className,o),v&&v!==e.viewport){var g=v.center?v.center:a,y=null==v.zoom?m:v.zoom;!0===p?this.leafletElement.flyTo(g,y,this.getZoomPanOptions(t)):this.leafletElement.setView(g,y,this.getZoomPanOptions(t))}else a&&this.shouldUpdateCenter(a,e.center)?!0===p?this.leafletElement.flyTo(a,m,this.getZoomPanOptions(t)):this.leafletElement.setView(a,m,this.getZoomPanOptions(t)):"number"===typeof m&&m!==e.zoom&&(null==e.zoom?this.leafletElement.setView(a,m,this.getZoomPanOptions(t)):this.leafletElement.setZoom(m,this.getZoomPanOptions(t)));c&&this.shouldUpdateBounds(c,e.maxBounds)&&this.leafletElement.setMaxBounds(c),n&&(this.shouldUpdateBounds(n,e.bounds)||r!==e.boundsOptions)&&(!0===p?this.leafletElement.flyToBounds(n,this.getFitBoundsOptions(t)):this.leafletElement.fitBounds(n,this.getFitBoundsOptions(t))),i!==e.boxZoom&&(!0===i?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),s!==e.doubleClickZoom&&(!0===s||"string"===typeof s?(this.leafletElement.options.doubleClickZoom=s,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),u!==e.dragging&&(!0===u?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),l!==e.keyboard&&(!0===l?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),h!==e.scrollWheelZoom&&(!0===h||"string"===typeof h?(this.leafletElement.options.scrollWheelZoom=h,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),f!==e.tap&&(!0===f?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),d!==e.touchZoom&&(!0===d||"string"===typeof d?(this.leafletElement.options.touchZoom=d,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},r.getZoomPanOptions=function(e){return{animate:e.animate,duration:e.duration,easeLinearity:e.easeLinearity,noMoveStart:e.noMoveStart}},r.getFitBoundsOptions=function(e){return o({},this.getZoomPanOptions(e),e.boundsOptions)},r.componentDidMount=function(){var t=Be.apply(void 0,[this.props].concat(je));this.leafletElement=this.createLeafletElement(t),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=t.bounds&&this.leafletElement.fitBounds(t.bounds,this.getFitBoundsOptions(t)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},e.prototype.componentDidMount.call(this),this.forceUpdate()},r.componentDidUpdate=function(t){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),e.prototype.componentDidUpdate.call(this,t),this.updateLeafletElement(t,this.props)},r.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},r.shouldUpdateCenter=function(e,t){return!t||(e=Ue(e),t=Ue(t),e[0]!==t[0]||e[1]!==t[1])},r.shouldUpdateBounds=function(e,t){return!t||!(0,Ae.latLngBounds)(e).equals((0,Ae.latLngBounds)(t))},r.render=function(){return t.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?t.createElement(Ne,{value:this.contextValue},this.props.children):null)},n}(Fe);function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ge=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getOptions=function(e){return null!=e.pane?e:null!=e.leaflet&&null!=e.leaflet.pane?o({},e,{pane:e.leaflet.pane}):e},t}(Fe),Ye=function(e){function n(t){var n;return Me(Pe(n=e.call(this,t)||this),"contextValue",void 0),Me(Pe(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(t),n}a(n,e);var r=n.prototype;return r.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},r.updateLeafletElement=function(e,t){},r.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},r.componentDidUpdate=function(t){if(e.prototype.componentDidUpdate.call(this,t),this.props.attribution!==t.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(t.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(t,this.props)},r.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},r.render=function(){var e=this.props.children;return null==e?null:null==this.contextValue?t.createElement(t.Fragment,null,e):t.createElement(Ne,{value:this.contextValue},e)},He(n,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),n}(Ge),Ke=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new Ae.GridLayer(this.getOptions(e))},n.updateLeafletElement=function(e,t){var n=t.opacity,r=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),r!==e.zIndex&&this.leafletElement.setZIndex(r)},n.getOptions=function(t){var n=o({},e.prototype.getOptions.call(this,t)),r=t.leaflet.map;return null!=r&&(null==n.maxZoom&&null!=r.options.maxZoom&&(n.maxZoom=r.options.maxZoom),null==n.minZoom&&null!=r.options.minZoom&&(n.minZoom=r.options.minZoom)),n},n.render=function(){return null},t}(Ye),Ze=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new Ae.TileLayer(e.url,this.getOptions(e))},n.updateLeafletElement=function(t,n){e.prototype.updateLeafletElement.call(this,t,n),n.url!==t.url&&this.leafletElement.setUrl(n.url)},t}(Ke),$e=Oe(Ze);function Qe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Xe(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||Qe(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Je=n(6098),et=n.n(Je),tt=n(8262),nt=n.n(tt);var rt=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],it=function(e){function t(t){var n;return null==(n=e.call(this,t)||this).contextValue&&(n.contextValue=o({},t.leaflet,{popupContainer:n.leafletElement})),n}a(t,e);var n=t.prototype;return n.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this.setStyleIfChanged(t,this.props)},n.getPathOptions=function(e){return t=e,rt.reduce((function(e,n){return"undefined"!==typeof t[n]&&(e[n]=t[n]),e}),{});var t},n.setStyle=function(e){void 0===e&&(e={}),this.leafletElement.setStyle(e)},n.setStyleIfChanged=function(e,t){var n=this.getPathOptions(t);nt()(n,this.getPathOptions(e))||this.setStyle(n)},t}(Ye),at=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=e.center,n=e.radius,r=U(e,["center","radius"]);return new Ae.Circle(t,n,this.getOptions(r))},n.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(it),ot=Oe(at),st=n(4164),ut=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Me(Pe(t=e.call.apply(e,[this].concat(r))||this),"onPopupOpen",(function(e){e.popup===t.leafletElement&&t.onOpen()})),Me(Pe(t),"onPopupClose",(function(e){e.popup===t.leafletElement&&t.onClose()})),Me(Pe(t),"onRender",(function(){!1!==t.props.autoPan&&t.leafletElement.isOpen()&&(t.leafletElement._map&&t.leafletElement._map._panAnim&&(t.leafletElement._map._panAnim=void 0),t.leafletElement._adjustPan())})),t}a(t,e);var n=t.prototype;return n.getOptions=function(t){return o({},e.prototype.getOptions.call(this,t),{autoPan:!1})},n.createLeafletElement=function(e){var t=this.getOptions(e);return t.autoPan=!1!==e.autoPan,new Ae.Popup(t,e.leaflet.popupContainer)},n.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position)},n.componentDidMount=function(){var e=this.props.position,t=this.props.leaflet,n=t.map,r=t.popupContainer,i=this.leafletElement;null!=n&&n.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),r?r.bindPopup(i):(e&&i.setLatLng(e),i.openOn(n))},n.componentWillUnmount=function(){var t=this.props.leaflet.map;null!=t&&(t.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),t.removeLayer(this.leafletElement)),e.prototype.componentWillUnmount.call(this)},t}(function(e){function t(t){var n;return Me(Pe(n=e.call(this,t)||this),"onClose",(function(){n.props.onClose&&n.props.onClose()})),Me(Pe(n),"onOpen",(function(){n.forceUpdate(),n.props.onOpen&&n.props.onOpen()})),n.leafletElement=n.createLeafletElement(t),n}a(t,e);var n=t.prototype;return n.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(e,t){},n.componentDidUpdate=function(e){Ve(this.leafletElement._container,e.className,this.props.className),this.updateLeafletElement(e,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())},n.onRender=function(){},n.render=function(){return this.leafletElement._contentNode?(0,st.createPortal)(this.props.children,this.leafletElement._contentNode):null},t}(Ge));Me(ut,"defaultProps",{pane:"popupPane"});var lt=Oe(ut),ct={cases:{hex:"#CC1034",multiplier:80},recovered:{hex:"#7dd71d",multiplier:120},deaths:{hex:"#fb4443",multiplier:200}},ht=function(e){return Xe(e).sort((function(e,t){return e.cases>t.cases?-1:1}))},ft=function(e){return e?"+".concat(et()(e).format("0.0a")):"+0"},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return(0,Te.jsx)(ot,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,color:ct[t].hex,fillColor:ct[t].hex,radius:Math.sqrt(e[t])*ct[t].multiplier,children:(0,Te.jsx)(lt,{children:(0,Te.jsxs)("div",{className:"info-container",children:[(0,Te.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),(0,Te.jsx)("div",{className:"info-name",children:e.country}),(0,Te.jsxs)("div",{className:"info-confirmed",children:["Cases: ",et()(e.cases).format("0,0")]}),(0,Te.jsxs)("div",{className:"info-recovered",children:["Recovered: ",et()(e.recovered).format("0,0")]}),(0,Te.jsxs)("div",{className:"info-deaths",children:["Deaths: ",et()(e.deaths).format("0,0")]})]})})})}))};var pt=function(e){var t=e.countries,n=e.casesType,r=e.center,i=e.zoom;return(0,Te.jsx)("div",{className:"map",children:(0,Te.jsxs)(We,{center:r,zoom:i,children:[(0,Te.jsx)($e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}),dt(t,n)]})})};var vt=function(e){var t=e.countries;return(0,Te.jsx)("div",{className:"table",children:t.map((function(e){var t=e.country,n=e.cases;return(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:t}),(0,Te.jsx)("td",{children:(0,Te.jsx)("strong",{children:et()(n).format("0, 0")})})]})}))})},mt=n(8353),gt={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return et()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return et()(e).format("0a")}}}]}},yt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",r=[];for(var i in e.cases){if(t){var a={x:i,y:e[n][i]-t};r.push(a)}t=e[n][i]}return r};var _t=function(e){var n=e.casesType,r=void 0===n?"cases":n,i=we((0,t.useState)({}),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e=function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then((function(e){return e.json()})).then((function(e){var t=yt(e,"cases");o(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,Te.jsx)("div",{className:"lineGraph",children:(null===a||void 0===a?void 0:a.length)>0&&(0,Te.jsx)(mt.x1,{options:gt,data:{datasets:[{data:a,borderColor:"#CC1034",backgroundColor:"rgba(204, 16, 52, 0.5)"}]}})})};function bt(e){e.handleLogout;var n=we((0,t.useState)([]),2),r=n[0],i=n[1],a=we((0,t.useState)("worldwide"),2),o=a[0],s=a[1],u=we((0,t.useState)({}),2),l=u[0],c=u[1],h=we((0,t.useState)([]),2),f=h[0],d=h[1],p=we((0,t.useState)({lat:34.80746,lng:-40.4796}),2),v=p[0],m=p[1],g=we((0,t.useState)(3),2),y=g[0],_=g[1],b=we((0,t.useState)([]),2),k=b[0],w=b[1],x=we((0,t.useState)("cases"),2),S=x[0],T=x[1];(0,t.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){c(e)}))}),[]),(0,t.useEffect)((function(){var e=function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),n=ht(e);d(n),w(e),i(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var I=function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,r="worldwide"===n?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(n),e.next=4,fetch(r).then((function(e){return e.json()})).then((function(e){s(n),c(e),m([e.countryInfo.lat,e.countryInfo.long]),_(5)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Te.jsxs)("div",{className:"appContent",children:[(0,Te.jsxs)("div",{className:"appContent-left",children:[(0,Te.jsxs)("div",{className:"appContent-left-header",children:[(0,Te.jsx)("div",{className:"header",children:(0,Te.jsx)("h1",{children:"COVID_19 TRACKER"})}),(0,Te.jsxs)("select",{className:"dropdown",onChange:I,value:o,children:[(0,Te.jsx)("option",{value:"worldwide",children:"Worldwide"}),r.map((function(e){return(0,Te.jsx)("option",{value:e.value,children:e.name})}))," "]})]}),(0,Te.jsxs)("div",{className:"stats",children:[(0,Te.jsx)(Ce,{isRed:!0,active:"cases"===S,onClick:function(e){return T("cases")},title:"Coronavirus cases",cases:ft(l.todayCases),total:ft(l.cases)}),(0,Te.jsx)(Ce,{isRed:!1,active:"recovered"===S,onClick:function(e){return T("recovered")},title:"Recovered",cases:ft(l.todayRecovered),total:ft(l.recovered)}),(0,Te.jsx)(Ce,{isRed:!0,active:"deaths"===S,onClick:function(e){return T("deaths")},title:"Deaths",cases:ft(l.todayDeaths),total:ft(l.deaths)})]}),(0,Te.jsx)(pt,{casesType:S,countries:k,center:v,zoom:y}),(0,Te.jsxs)("div",{className:"app-graph",children:[(0,Te.jsx)("h1",{children:"Total Cases"}),(0,Te.jsx)(_t,{})]})]}),(0,Te.jsxs)("div",{className:"appContent-right",children:[(0,Te.jsx)("h3",{children:"Live Cases by Country"}),(0,Te.jsx)(vt,{countries:f})]})]})}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=be(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function St(e){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},St(e)}function Tt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Et(e,t){if(t&&("object"===It(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Ct(e){var t=Tt();return function(){var n,r=St(e);if(t){var i=St(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Et(this,n)}}function Pt(e,t,n){return Pt=Tt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},Pt.apply(null,arguments)}function Mt(e){var t="function"===typeof Map?new Map:void 0;return Mt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Pt(e,arguments,St(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},Mt(e)}var At=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Dt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(At(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Lt=function(e){return function(e){var t=At(e);return Dt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Nt=function(e){try{return Dt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ot(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Rt(n)&&(e[n]=Ot(e[n],t[n]));return e}function Rt(e){return"__proto__"!==e}var Ft=function(){function e(){var t=this;kt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return He(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function zt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Lt(JSON.stringify({alg:"none",type:"JWT"})),Lt(JSON.stringify(a)),""].join(".")}function Vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function jt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ut(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Wt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function qt(){var e=Vt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ht(){return"object"===typeof indexedDB}var Gt=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pe(a),Yt.prototype.create),a}return He(n)}(Mt(Error)),Yt=function(){function e(t,n,r){kt(this,e),this.service=t,this.serviceName=n,this.errors=r}return He(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Kt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Gt(n,a,t);return o}}]),e}();function Kt(e,t){return e.replace(Zt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Zt=/\{\$([^}]+)}/g;function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Xt(s)&&Xt(u)){if(!Qt(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function Xt(e){return null!==e&&"object"===typeof e}function Jt(e){for(var t=[],n=function(){var e=we(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function en(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=we(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function tn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function nn(e,t){var n=new rn(e,t);return n.subscribe.bind(n)}var rn=function(){function e(t,n){var r=this;kt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return He(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=wt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=an),void 0===r.error&&(r.error=an),void 0===r.complete&&(r.complete=an);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function an(){}function on(e){return e&&e._delegate?e._delegate:e}function sn(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var un=function(){function e(t){kt(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return He(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new ln(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new cn(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),ln=function(){function e(t){var n=this;kt(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return He(e,[{key:"objectStore",value:function(e){return new cn(this._transaction.objectStore(e))}}]),e}(),cn=function(){function e(t){kt(this,e),this._store=t}return He(e,[{key:"index",value:function(e){return new hn(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new hn(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return sn(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return sn(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return sn(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return sn(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),hn=function(){function e(t){kt(this,e),this._index=t}return He(e,[{key:"get",value:function(e){return sn(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var fn=function(){function e(t,n,r){kt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return He(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),dn="[DEFAULT]",pn=function(){function e(t,n){kt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return He(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ft;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dn})}catch(u){}var t,n=wt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=we(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ge(xe.mark((function e(){var t;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Xe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Xe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=wt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=we(i.value,2),u=s[0],l=s[1],c=this.normalizeInstanceIdentifier(u);r===c&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch($x){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===dn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch($x){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.component?this.component.multipleInstances?e:dn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var vn,mn,gn=function(){function e(t){kt(this,e),this.name=t,this.providers=new Map}return He(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),yn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mn||(mn={}));var _n,bn,kn={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},wn=mn.INFO,xn=(Me(vn={},mn.DEBUG,"log"),Me(vn,mn.VERBOSE,"log"),Me(vn,mn.INFO,"info"),Me(vn,mn.WARN,"warn"),Me(vn,mn.ERROR,"error"),vn),Sn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=xn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tn=function(){function e(t){kt(this,e),this.name=t,this._logLevel=wn,this._logHandler=Sn,this._userLogHandler=null,yn.push(this)}return He(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in mn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?kn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mn.DEBUG].concat(t)),this._logHandler.apply(this,[this,mn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,mn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mn.INFO].concat(t)),this._logHandler.apply(this,[this,mn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mn.WARN].concat(t)),this._logHandler.apply(this,[this,mn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mn.ERROR].concat(t)),this._logHandler.apply(this,[this,mn.ERROR].concat(t))}}]),e}();var In=function(){function e(t){kt(this,e),this.container=t}return He(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var En="@firebase/app",Cn="0.7.21",Pn=new Tn("@firebase/app"),Mn="[DEFAULT]",An=(Me(_n={},En,"fire-core"),Me(_n,"@firebase/app-compat","fire-core-compat"),Me(_n,"@firebase/analytics","fire-analytics"),Me(_n,"@firebase/analytics-compat","fire-analytics-compat"),Me(_n,"@firebase/app-check","fire-app-check"),Me(_n,"@firebase/app-check-compat","fire-app-check-compat"),Me(_n,"@firebase/auth","fire-auth"),Me(_n,"@firebase/auth-compat","fire-auth-compat"),Me(_n,"@firebase/database","fire-rtdb"),Me(_n,"@firebase/database-compat","fire-rtdb-compat"),Me(_n,"@firebase/functions","fire-fn"),Me(_n,"@firebase/functions-compat","fire-fn-compat"),Me(_n,"@firebase/installations","fire-iid"),Me(_n,"@firebase/installations-compat","fire-iid-compat"),Me(_n,"@firebase/messaging","fire-fcm"),Me(_n,"@firebase/messaging-compat","fire-fcm-compat"),Me(_n,"@firebase/performance","fire-perf"),Me(_n,"@firebase/performance-compat","fire-perf-compat"),Me(_n,"@firebase/remote-config","fire-rc"),Me(_n,"@firebase/remote-config-compat","fire-rc-compat"),Me(_n,"@firebase/storage","fire-gcs"),Me(_n,"@firebase/storage-compat","fire-gcs-compat"),Me(_n,"@firebase/firestore","fire-fst"),Me(_n,"@firebase/firestore-compat","fire-fst-compat"),Me(_n,"fire-js","fire-js"),Me(_n,"firebase","fire-js-all"),_n),Dn=new Map,Ln=new Map;function Nn(e,t){try{e.container.addComponent(t)}catch(n){Pn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function On(e,t){e.container.addOrOverwriteComponent(t)}function Rn(e){var t=e.name;if(Ln.has(t))return Pn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ln.set(t,e);var n,r=wt(Dn.values());try{for(r.s();!(n=r.n()).done;){Nn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Fn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mn;Fn(e,t).clearInstance(n)}function Vn(){Ln.clear()}var Bn=(Me(bn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Me(bn,"bad-app-name","Illegal App name: '{$appName}"),Me(bn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Me(bn,"app-deleted","Firebase App named '{$appName}' already deleted"),Me(bn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Me(bn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Me(bn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Me(bn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Me(bn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Me(bn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),bn),jn=new Yt("app","Firebase",Bn),Un=function(){function e(t,n,r){var i=this;kt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",(function(){return i}),"PUBLIC"))}return He(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}]),e}(),Wn="9.6.11";function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw jn.create("bad-app-name",{appName:String(i)});var a=Dn.get(i);if(a){if(Qt(e,a.options)&&Qt(r,a.config))return a;throw jn.create("duplicate-app",{appName:i})}var o,s=new gn(i),u=wt(Ln.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(h){u.e(h)}finally{u.f()}var c=new Un(e,r,s);return Dn.set(i,c),c}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=Dn.get(e);if(!t)throw jn.create("no-app",{appName:e});return t}function Gn(){return Array.from(Dn.values())}function Yn(e){return Kn.apply(this,arguments)}function Kn(){return(Kn=ge(xe.mark((function e(t){var n;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Dn.has(n)){e.next=6;break}return Dn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t,n){var r,i=null!==(r=An[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pn.warn(s.join(" "))}Rn(new fn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function $n(e,t){if(null!==e&&"function"!==typeof e)throw jn.create("invalid-log-argument");!function(e,t){var n,r=wt(yn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=kn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:mn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Qn(e){var t;t=e,yn.forEach((function(e){e.setLogLevel(t)}))}var Xn="firebase-heartbeat-store",Jn=null;function er(){var e,t,n;return Jn||(Jn=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Xn)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new un(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new un(a.result),e.oldVersion,e.newVersion,new ln(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw jn.create("storage-open",{originalErrorMessage:e.message})}))),Jn}function tr(e){return nr.apply(this,arguments)}function nr(){return nr=ge(xe.mark((function e(t){var n;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,er();case 3:return n=e.sent,e.abrupt("return",n.transaction(Xn).objectStore(Xn).get(ar(t)));case 7:throw e.prev=7,e.t0=e.catch(0),jn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),nr.apply(this,arguments)}function rr(e,t){return ir.apply(this,arguments)}function ir(){return ir=ge(xe.mark((function e(t,n){var r,i,a;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,er();case 3:return r=e.sent,i=r.transaction(Xn,"readwrite"),a=i.objectStore(Xn),e.next=8,a.put(n,ar(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),jn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ir.apply(this,arguments)}function ar(e){return"".concat(e.name,"!").concat(e.options.appId)}var or=function(){function e(t){var n=this;kt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new hr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return He(e,[{key:"triggerHeartbeat",value:function(){var e=ge(xe.mark((function e(){var t,n,r;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=sr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ge(xe.mark((function e(){var t,n,r,i,a;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=sr(),n=ur(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Lt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sr(){return(new Date).toISOString().substring(0,10)}function ur(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=wt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var lr,cr,hr=function(){function e(t){kt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return He(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ge(xe.mark((function e(){return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ht()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ge(xe.mark((function e(){var t;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,tr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ge(xe.mark((function e(t){var n,r;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",rr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ge(xe.mark((function e(t){var n,r;return xe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",rr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Xe(r.heartbeats),Xe(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fr(e){return Lt(JSON.stringify({version:2,heartbeats:e})).length}lr="",Rn(new fn("platform-logger",(function(e){return new In(e)}),"PRIVATE")),Rn(new fn("heartbeat",(function(e){return new or(e)}),"PRIVATE")),Zn(En,Cn,lr),Zn(En,Cn,"esm2017"),Zn("fire-js","");var dr=function(){function e(t,n){var r=this;kt(this,e),this._delegate=t,this.firebase=n,Nn(t,new fn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return He(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Nn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){On(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),pr=(Me(cr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Me(cr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),cr),vr=new Yt("app-compat","Firebase",pr);var mr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if($t(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zn,setLogLevel:Qn,onLog:$n,apps:null,SDK_VERSION:Wn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Rn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw vr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ot(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!$t(n,e=e||Mn))throw vr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(dr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ot(n,e)},createSubscribe:nn,ErrorFactory:Yt,deepExtend:Ot}),n}(),gr=new Tn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var yr=self.firebase.SDK_VERSION;yr&&yr.indexOf("LITE")>=0&&gr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _r=mr;!function(e){Zn("@firebase/app-compat","0.1.22",e)}();function br(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=St(e)););return e}function kr(){return kr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=br(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kr.apply(this,arguments)}_r.registerVersion("firebase","9.6.11","app-compat");function wr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var xr;Object.create;var Sr="facebook.com",Tr="github.com",Ir="google.com",Er="password",Cr="twitter.com",Pr="EMAIL_SIGNIN",Mr="PASSWORD_RESET",Ar="RECOVER_EMAIL",Dr="REVERT_SECOND_FACTOR_ADDITION",Lr="VERIFY_AND_CHANGE_EMAIL",Nr="VERIFY_EMAIL";function Or(){return Me({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Rr=function(){var e;return Me(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Me(e,"argument-error",""),Me(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Me(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Me(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Me(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Me(e,"cordova-not-ready","Cordova framework is not ready."),Me(e,"cors-unsupported","This browser is not supported."),Me(e,"credential-already-in-use","This credential is already associated with a different user account."),Me(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Me(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Me(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Me(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Me(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Me(e,"email-already-in-use","The email address is already in use by another account."),Me(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Me(e,"expired-action-code","The action code has expired."),Me(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Me(e,"internal-error","An internal AuthError has occurred."),Me(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Me(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Me(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Me(e,"invalid-auth-event","An internal AuthError has occurred."),Me(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Me(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Me(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Me(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Me(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Me(e,"invalid-email","The email address is badly formatted."),Me(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Me(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Me(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Me(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Me(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Me(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Me(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Me(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Me(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Me(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Me(e,"wrong-password","The password is invalid or the user does not have a password."),Me(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Me(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Me(e,"invalid-provider-id","The specified provider ID is invalid."),Me(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Me(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Me(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Me(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Me(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Me(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Me(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Me(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Me(e,"missing-continue-uri","A continue URL must be provided in the request."),Me(e,"missing-iframe-start","An internal AuthError has occurred."),Me(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Me(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Me(e,"missing-multi-factor-info","No second factor identifier is provided."),Me(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Me(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Me(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Me(e,"app-deleted","This instance of FirebaseApp has been deleted."),Me(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Me(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Me(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Me(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Me(e,"no-auth-event","An internal AuthError has occurred."),Me(e,"no-such-provider","User was not linked to an account with the given provider."),Me(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Me(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Me(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Me(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Me(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Me(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Me(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Me(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Me(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Me(e,"rejected-credential","The request contains malformed or mismatching credentials."),Me(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Me(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Me(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Me(e,"timeout","The operation has timed out."),Me(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Me(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Me(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Me(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Me(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Me(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Me(e,"unverified-email","The operation requires a verified email."),Me(e,"user-cancelled","The user did not grant your application the permissions it requested."),Me(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Me(e,"user-disabled","The user account has been disabled by an administrator."),Me(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Me(e,"user-signed-out",""),Me(e,"weak-password","The password must be 6 characters long or more."),Me(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Me(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Fr=Or,zr=new Yt("auth","Firebase",Or()),Vr=new Tn("@firebase/auth");function Br(e){if(Vr.logLevel<=mn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vr.error.apply(Vr,["Auth (".concat(Wn,"): ").concat(e)].concat(n))}}function jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hr.apply(void 0,[e].concat(n))}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hr.apply(void 0,[e].concat(n))}function Wr(e,t,n){var r=Object.assign(Object.assign({},Fr()),Me({},t,n));return new Yt("auth","Firebase",r).create(t,{appName:e.name})}function qr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&jr(e,"argument-error"),Wr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Xe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Xe(o)))}return zr.create.apply(zr,[e].concat(n))}function Gr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hr.apply(void 0,[t].concat(r))}}function Yr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Br(t),new Error(t)}function Kr(e,t){e||Yr(t)}var Zr=new Map;function $r(e){Kr(e instanceof Function,"Expected a class definition");var t=Zr.get(e);return t?(Kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zr.set(e,t),t)}function Qr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xr(){return"http:"===Jr()||"https:"===Jr()}function Jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ei=function(){function e(t,n){kt(this,e),this.shortDelay=t,this.longDelay=n,Kr(n>t,"Short delay should be less than long delay!"),this.isMobile=Bt()||Wt()}return He(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xr()||Ut()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ti(e,t){Kr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ni=function(){function e(){kt(this,e)}return He(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ri=(Me(xr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Me(xr,"MISSING_CUSTOM_TOKEN","internal-error"),Me(xr,"INVALID_IDENTIFIER","invalid-email"),Me(xr,"MISSING_CONTINUE_URI","internal-error"),Me(xr,"INVALID_PASSWORD","wrong-password"),Me(xr,"MISSING_PASSWORD","internal-error"),Me(xr,"EMAIL_EXISTS","email-already-in-use"),Me(xr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Me(xr,"INVALID_IDP_RESPONSE","invalid-credential"),Me(xr,"INVALID_PENDING_TOKEN","invalid-credential"),Me(xr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Me(xr,"MISSING_REQ_TYPE","internal-error"),Me(xr,"EMAIL_NOT_FOUND","user-not-found"),Me(xr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Me(xr,"EXPIRED_OOB_CODE","expired-action-code"),Me(xr,"INVALID_OOB_CODE","invalid-action-code"),Me(xr,"MISSING_OOB_CODE","internal-error"),Me(xr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Me(xr,"INVALID_ID_TOKEN","invalid-user-token"),Me(xr,"TOKEN_EXPIRED","user-token-expired"),Me(xr,"USER_NOT_FOUND","user-token-expired"),Me(xr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Me(xr,"INVALID_CODE","invalid-verification-code"),Me(xr,"INVALID_SESSION_INFO","invalid-verification-id"),Me(xr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Me(xr,"MISSING_SESSION_INFO","missing-verification-id"),Me(xr,"SESSION_EXPIRED","code-expired"),Me(xr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Me(xr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Me(xr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Me(xr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Me(xr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Me(xr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Me(xr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Me(xr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Me(xr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Me(xr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Me(xr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xr),ii=new ei(3e4,6e4);function ai(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function oi(e,t,n,r){return si.apply(this,arguments)}function si(){return si=ge(Se().mark((function e(t,n,r,i){var a,o=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ui(t,a,ge(Se().mark((function e(){var a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Jt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ni.fetch()(fi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e,t,n){return li.apply(this,arguments)}function li(){return li=ge(Se().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f,d;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ri),n),e.prev=2,a=new di(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw pi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),c=we(l,2),h=c[0],f=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw pi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw pi(t,"email-already-in-use",s);case 25:if(d=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=30;break}throw Wr(t,d,f);case 30:jr(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Gt)){e.next=37;break}throw e.t0;case 37:jr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),li.apply(this,arguments)}function ci(e,t,n,r){return hi.apply(this,arguments)}function hi(){return hi=ge(Se().mark((function e(t,n,r,i){var a,o,s=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,oi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function fi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ti(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var di=function(){function e(t){var n=this;kt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ur(n.auth,"network-request-failed"))}),ii.get())}))}return He(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ur(e,t,r);return i.customData._tokenResponse=n,i}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function gi(e,t){return yi.apply(this,arguments)}function yi(){return yi=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function _i(e,t){return bi.apply(this,arguments)}function bi(){return bi=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function ki(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wi(){return wi=ge(Se().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=on(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gr((a=Si(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ki(xi(a.auth_time)),issuedAtTime:ki(xi(a.iat)),expirationTime:ki(xi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function xi(e){return 1e3*Number(e)}function Si(e){var t=we(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Br("JWT malformed, contained fewer than 3 sections"),null;try{var a=Nt(r);return a?JSON.parse(a):(Br("Failed to decode base64 JWT payload"),null)}catch(o){return Br("Caught error parsing JWT payload as JSON",o),null}}function Ti(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=ge(Se().mark((function e(t,n){var r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Gt&&Ei(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ii.apply(this,arguments)}function Ei(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ci=function(){function e(t){kt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return He(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Pi=function(){function e(t,n){kt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return He(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Mi(e){return Ai.apply(this,arguments)}function Ai(){return Ai=ge(Se().mark((function e(t){var n,r,i,a,o,s,u,l,c,h,f;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ti(t,_i(r,{idToken:i}));case 6:Gr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ni(o.providerUserInfo):[],u=Li(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!l&&c,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pi(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Di(){return(Di=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=on(t),e.next=3,Mi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Xe(n),Xe(t))}function Ni(e){return e.map((function(e){var t=e.providerId,n=wr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Oi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(t,{},ge(Se().mark((function e(){var r,i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=fi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ni.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}var Fi=function(){function e(){kt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return He(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gr(e.idToken,"internal-error"),Gr("undefined"!==typeof e.idToken,"internal-error"),Gr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Si(e);return Gr(t,"internal-error"),Gr("undefined"!==typeof t.exp,"internal-error"),Gr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ge(Se().mark((function e(t){var n,r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Yr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function zi(e,t){Gr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Vi=function(){function e(t){kt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=wr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Xe(a.providerData):[],this.metadata=new Pi(a.createdAt||void 0,a.lastLoginAt||void 0)}return He(e,[{key:"getIdToken",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Di.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ge(Se().mark((function e(t){var n,r,i=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Mi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ti(this,vi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,_=n.uid,b=n.emailVerified,k=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Gr(_&&x,t,"internal-error");var S=Fi.fromJSON(this.name,x);Gr("string"===typeof _,t,"internal-error"),zi(h,t.name),zi(f,t.name),Gr("boolean"===typeof b,t,"internal-error"),Gr("boolean"===typeof k,t,"internal-error"),zi(d,t.name),zi(p,t.name),zi(v,t.name),zi(m,t.name),zi(g,t.name),zi(y,t.name);var T=new e({uid:_,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(T.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=ge(Se().mark((function t(n,r){var i,a,o,s=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Fi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Mi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Bi=function(){function e(){kt(this,e),this.type="NONE",this.storage={}}return He(e,[{key:"_isAvailable",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Bi.type="NONE";var ji=Bi;function Ui(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Wi=function(){function e(t,n,r){kt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ui(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ui("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return He(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Vi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ge(Se().mark((function t(n,r){var i,a,o,s,u,l,c,h,f,d,p,v=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e($r(ji),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||$r(ji),s=Ui(i,n.config.apiKey,n.name),u=null,l=wt(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return h=c.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=Vi._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ki(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($i(t))return"Blackberry";if(Qi(t))return"Webos";if(Gi(t))return"Safari";if((t.includes("chrome/")||Yi(t))&&!t.includes("edge/"))return"Chrome";if(Zi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/firefox\//i.test(e)}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/crios\//i.test(e)}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/iemobile/i.test(e)}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/android/i.test(e)}function $i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/blackberry/i.test(e)}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/webos/i.test(e)}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/iphone|ipad|ipod/i.test(e)}function Ji(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return Xi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ea(){return qt()&&10===document.documentMode}function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return Xi(e)||Zi(e)||Qi(e)||$i(e)||/windows phone/i.test(e)||Ki(e)}function na(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qi(Vt());break;case"Worker":t="".concat(qi(Vt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Wn,"/").concat(r)}var ra=function(){function e(t,n,r){kt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aa(this),this.idTokenSubscription=new aa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return He(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(ge(Se().mark((function r(){var i,a;return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Wi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ge(Se().mark((function e(t){var n,r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Gr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?on(t):null)&&Gr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ge(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Gr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ge(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence($r(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Yt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gr(n=t&&$r(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Wi.create(this,[$r(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ge(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=na(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ge(Se().mark((function e(){var t,n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Me({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ia(e){return on(e)}var aa=function(){function e(t){var n=this;kt(this,e),this.auth=t,this.observer=null,this.addObserver=nn((function(e){return n.observer=e}))}return He(e,[{key:"next",get:function(){return Gr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function oa(e,t,n){var r=ia(e);Gr(r._canInitEmulator,r,"emulator-config-failed"),Gr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=sa(t),o=function(e){var t=sa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ua(r.substr(a.length+1))}}var o=we(r.split(":"),2);return{host:o[0],port:ua(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function sa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ua(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var la=function(){function e(t,n){kt(this,e),this.providerId=t,this.signInMethod=n}return He(e,[{key:"toJSON",value:function(){return Yr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Yr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Yr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Yr("not implemented")}}]),e}();function ca(e,t){return ha.apply(this,arguments)}function ha(){return ha=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:resetPassword",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function fa(e,t){return da.apply(this,arguments)}function da(){return da=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return va=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:update",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return ga=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithPassword",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ya(e,t){return _a.apply(this,arguments)}function _a(){return _a=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:sendOobCode",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function ba(e,t){return ka.apply(this,arguments)}function ka(){return ka=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,n));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function wa(e,t){return xa.apply(this,arguments)}function xa(){return xa=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,n));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Sa(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,n));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ia(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,n));case 1:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ca(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithEmailLink",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ma(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithEmailLink",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}var Da=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return kt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return He(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ma(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ca(t,{email:this._email,oobCode:this._password}));case 5:jr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ma(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:jr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(la);function La(e,t){return Na.apply(this,arguments)}function Na(){return Na=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithIdp",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Oa=function(e){xt(n,e);var t=Ct(n);function n(){var e;return kt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return He(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return La(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,La(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,La(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=wr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(la);function Ra(e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:sendVerificationCode",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function za(){return za=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithPhoneNumber",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Va(){return Va=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(t,"POST","/v1/accounts:signInWithPhoneNumber",ai(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw pi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}var Ba=Me({},"USER_NOT_FOUND","user-not-found");function ja(){return ja=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithPhoneNumber",ai(t,r),Ba));case 2:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var Ua=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return He(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return za.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Va.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ja.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(la);var Wa=function(){function e(t){var n,r,i,a,o,s;kt(this,e);var u=en(tn(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Gr(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return He(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=en(tn(e)).link,n=t?en(tn(t)).deep_link_id:null,r=en(tn(e)).deep_link_id;return(r?en(tn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch($x){return null}}}]),e}();var qa=function(){function e(){kt(this,e),this.providerId=e.PROVIDER_ID}return He(e,null,[{key:"credential",value:function(e,t){return Da._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wa.parseLink(t);return Gr(n,"argument-error"),Da._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qa.PROVIDER_ID="password",qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ha=function(){function e(t){kt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return He(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ga=function(e){xt(n,e);var t=Ct(n);function n(){var e;return kt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return He(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Xe(this.scopes)}}]),n}(Ha),Ya=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Gr(e.idToken||e.accessToken,"argument-error"),Oa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Gr("providerId"in t&&"signInMethod"in t,"argument-error"),Oa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(l){return null}}}]),n}(Ga),Ka=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.call(this,"facebook.com")}return He(n,null,[{key:"credential",value:function(e){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($x){return null}}}]),n}(Ga);Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ka.PROVIDER_ID="facebook.com";var Za=function(e){xt(n,e);var t=Ct(n);function n(){var e;return kt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return He(n,null,[{key:"credential",value:function(e,t){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch($x){return null}}}]),n}(Ga);Za.GOOGLE_SIGN_IN_METHOD="google.com",Za.PROVIDER_ID="google.com";var $a=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.call(this,"github.com")}return He(n,null,[{key:"credential",value:function(e){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($x){return null}}}]),n}(Ga);$a.GITHUB_SIGN_IN_METHOD="github.com",$a.PROVIDER_ID="github.com";var Qa=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return He(n,[{key:"_getIdTokenResponse",value:function(e){return La(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,La(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,La(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(la),Xa=function(e){xt(n,e);var t=Ct(n);function n(e){return kt(this,n),Gr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return He(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Qa.fromJSON(e);return Gr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Qa._create(r,n)}catch(i){return null}}}]),n}(Ha),Ja=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.call(this,"twitter.com")}return He(n,null,[{key:"credential",value:function(e,t){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch($x){return null}}}]),n}(Ga);function eo(e,t){return to.apply(this,arguments)}function to(){return to=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signUp",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}Ja.TWITTER_SIGN_IN_METHOD="twitter.com",Ja.PROVIDER_ID="twitter.com";var no=function(){function e(t){kt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return He(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ge(Se().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Vi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ro(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ge(Se().mark((function t(n,r,i){var a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ro(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ro(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function io(){return io=ge(Se().mark((function e(t){var n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new no({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,eo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,no._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}var ao=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a){var o,s;return kt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Pe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return He(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Gt);function oo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ao._fromErrorAndOperation(e,n,t,r);throw n}))}function so(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function uo(e,t){return lo.apply(this,arguments)}function lo(){return lo=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,fo(!0,r,n);case 3:return e.t0=gi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=so(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function co(e,t){return ho.apply(this,arguments)}function ho(){return ho=ge(Se().mark((function e(t,n){var r,i,a=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ti,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",no._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function fo(e,t,n){return po.apply(this,arguments)}function po(){return(po=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(n);case 2:i=so(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Gr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=ge(Se().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ti(t,oo(i,a,n,t),r);case 6:return Gr((o=e.sent).idToken,i,"internal-error"),Gr(s=Si(o.idToken),i,"internal-error"),u=s.sub,Gr(t.uid===u,i,"user-mismatch"),e.abrupt("return",no._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&jr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),mo.apply(this,arguments)}function go(e,t){return yo.apply(this,arguments)}function yo(){return yo=ge(Se().mark((function e(t,n){var r,i,a,o,s=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,oo(t,i,n);case 4:return a=e.sent,e.next=7,no._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function _o(e,t){return bo.apply(this,arguments)}function bo(){return bo=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",go(ia(t),n));case 1:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function ko(e,t){return wo.apply(this,arguments)}function wo(){return(wo=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,fo(!1,r,n.providerId);case 3:return e.abrupt("return",co(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return So.apply(this,arguments)}function So(){return(So=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(on(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t){return Io.apply(this,arguments)}function Io(){return Io=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ci(t,"POST","/v1/accounts:signInWithCustomToken",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function Eo(){return Eo=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(t),e.next=3,To(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,no._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}var Co=function(){function e(t,n){kt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return He(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Po._fromServerResponse(e,t):jr(e,"internal-error")}}]),e}(),Po=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return He(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Co);function Mo(e,t,n){var r;Gr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ao(){return Ao=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),a={requestType:"PASSWORD_RESET",email:n},r&&Mo(i,a,r),e.next=5,wa(i,a);case 5:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Do(){return Do=ge(Se().mark((function e(t,n,r){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(on(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Lo(){return Lo=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(on(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function No(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,ca(r,{oobCode:n});case 3:i=e.sent,Gr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Gr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Gr(i.mfaInfo,r,"internal-error");case 13:Gr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Co._fromServerResponse(ia(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Ro(){return Ro=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(on(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Fo(e,t,n){return zo.apply(this,arguments)}function zo(){return zo=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),e.next=3,eo(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,no._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Vo(){return Vo=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),a={requestType:"EMAIL_SIGNIN",email:n},Gr(r.handleCodeInApp,i,"argument-error"),r&&Mo(i,a,r),e.next=6,Sa(i,a);case 6:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(){return Bo=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),Gr((a=qa.credentialWithLink(n,r||Qr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",_o(i,a));case 4:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function jo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:createAuthUri",ai(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Wo(){return Wo=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xr()?Qr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,jo(on(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function qo(){return(qo=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Mo(r.auth,a,n),e.next=8,ba(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(){return(Ho=ge(Se().mark((function e(t,n,r){var i,a,o,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Mo(i.auth,o,r),e.next=8,Ia(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Ko(){return(Ko=ge(Se().mark((function e(t,n){var r,i,a,o,s,u,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=on(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ti(a,Go(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t,n){return $o.apply(this,arguments)}function $o(){return $o=ge(Se().mark((function e(t,n,r){var i,a,o,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ti(t,fa(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Qo=He((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Xo=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a){var o;return kt(this,n),(o=t.call(this,e,r,i)).username=a,o}return He(n)}(Qo),Jo=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"facebook.com",r)}return He(n)}(Qo),es=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return He(n)}(Xo),ts=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"google.com",r)}return He(n)}(Qo),ns=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){return kt(this,n),t.call(this,e,"twitter.com",r,i)}return He(n)}(Xo);function rs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Si(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Qo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Jo(a,i);case"github.com":return new es(a,i);case"google.com":return new ts(a,i);case"twitter.com":return new ns(a,i,e.screenName||null);case"custom":case"anonymous":return new Qo(a,null);default:return new Qo(a,r,i)}}(n)}var is=function(){function e(t,n){kt(this,e),this.type=t,this.credential=n}return He(e,[{key:"toJSON",value:function(){return{multiFactorSession:Me({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),as=function(){function e(t,n,r){kt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return He(e,[{key:"resolveSignIn",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ia(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Co._fromServerResponse(r,e)}));Gr(i.mfaPendingCredential,r,"internal-error");var o=is._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ge(Se().mark((function e(t){var a,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,no._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Gr(n.user,r,"internal-error"),e.abrupt("return",no._forOperation(n.user,n.operationType,s));case 17:jr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function os(e,t){return oi(e,"POST","/v2/accounts/mfaEnrollment:start",ai(e,t))}function ss(e,t){return oi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ai(e,t))}var us=function(){function e(t){var n=this;kt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Co._fromServerResponse(t.auth,e)})))}))}return He(e,[{key:"getSession",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=is,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ti(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ge(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Ti(this.user,ss(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ls=new WeakMap;var cs="__sak",hs=function(){function e(t,n){kt(this,e),this.storageRetriever=t,this.type=n}return He(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch($x){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fs=function(e){xt(n,e);var t=Ct(n);function n(){var e;return kt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Vt();return Gi(e)||Xi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ta(),e._shouldAllowMigration=!0,e}return He(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ea()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ge(Se().mark((function e(t,r){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(St(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ge(Se().mark((function e(t){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(St(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(St(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(hs);fs.type="LOCAL";var ds=fs,ps=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return He(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(hs);ps.type="SESSION";var vs=ps;function ms(e){return Promise.all(e.map(function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var gs=function(){function e(t){kt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return He(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ge(Se().mark((function e(t){var n,r,i,a,o,s,u,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ms(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ys(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gs.receivers=[];var _s=function(){function e(t){kt(this,e),this.target=t,this.handlers=new Set}return He(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ge(Se().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=ys("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function bs(){return window}function ks(){return"undefined"!==typeof bs().WorkerGlobalScope&&"function"===typeof bs().importScripts}function ws(){return xs.apply(this,arguments)}function xs(){return(xs=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ss(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ts="firebaseLocalStorageDb",Is="firebaseLocalStorage",Es="fbase_key",Cs=function(){function e(t){kt(this,e),this.request=t}return He(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ps(e,t){return e.transaction([Is],t?"readwrite":"readonly").objectStore(Is)}function Ms(){var e=indexedDB.deleteDatabase(Ts);return new Cs(e).toPromise()}function As(){var e=indexedDB.open(Ts,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Is,{keyPath:Es})}catch(r){n(r)}})),e.addEventListener("success",ge(Se().mark((function n(){var r;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Is)){n.next=12;break}return r.close(),n.next=5,Ms();case 5:return n.t0=t,n.next=8,As();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ds(e,t,n){return Ls.apply(this,arguments)}function Ls(){return Ls=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ps(t,!0).put((Me(i={},Es,n),Me(i,"value",r),i)),e.abrupt("return",new Cs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ns(e,t){return Os.apply(this,arguments)}function Os(){return Os=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ps(t,!1).get(n),e.next=3,new Cs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Rs(e,t){var n=Ps(e,!0).delete(t);return new Cs(n).toPromise()}var Fs=function(){function e(){kt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return He(e,[{key:"_openDb",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,As();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ge(Se().mark((function e(){var t=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=gs._getInstance(ks()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ge(Se().mark((function e(n,r){var i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ge(Se().mark((function e(){var t,n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new _s(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ss()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,As();case 5:return t=e.sent,e.next=8,Ds(t,cs,"1");case 8:return e.next=10,Rs(t,cs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ge(Se().mark((function e(t,n){var r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ds(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ns(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ge(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Rs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ge(Se().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ps(e,!1).getAll();return new Cs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=wt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)h=c[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Fs.type="LOCAL";var zs=Fs;function Vs(e,t){return oi(e,"POST","/v2/accounts/mfaSignIn:start",ai(e,t))}function Bs(e){return js.apply(this,arguments)}function js(){return js=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Us(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ur("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ws(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var qs=1e12,Hs=function(){function e(t){kt(this,e),this.auth=t,this.counter=qs,this._widgets=new Map}return He(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Gs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||qs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||qs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||qs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Gs=function(){function e(t,n,r){var i=this;kt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Gr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return He(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ys=Ws("rcb"),Ks=new ei(3e4,6e4),Zs="https://www.google.com/recaptcha/api.js?",$s=function(){function e(){kt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bs().grecaptcha}return He(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gr(Qs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(bs().grecaptcha):new Promise((function(r,i){var a=bs().setTimeout((function(){i(Ur(e,"network-request-failed"))}),Ks.get());bs()[Ys]=function(){bs().clearTimeout(a),delete bs()[Ys];var o=bs().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ur(e,"internal-error"))},Us("".concat(Zs,"?").concat(Jt({onload:Ys,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ur(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!bs().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Qs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Xs=function(){function e(){kt(this,e)}return He(e,[{key:"load",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Hs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Js="recaptcha",eu={theme:"light",type:"image"},tu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},eu),r=arguments.length>2?arguments[2]:void 0;kt(this,e),this.parameters=n,this.type=Js,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ia(r),this.isInvisible="invisible"===this.parameters.size,Gr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Gr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xs:new $s,this.validateStartingState()}return He(e,[{key:"verify",value:function(){var e=ge(Se().mark((function e(){var t,n,r,i=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Gr(!this.parameters.sitekey,this.auth,"argument-error"),Gr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=bs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Gr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ge(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr(Xr()&&!ks(),this.auth,"internal-error"),e.next=3,nu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Bs(this.auth);case 8:Gr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Gr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function nu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ru=function(){function e(t,n){kt(this,e),this.verificationId=t,this.onConfirmation=n}return He(e,[{key:"confirm",value:function(e){var t=Ua._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function iu(){return iu=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),e.next=3,uu(i,n,on(r));case 3:return a=e.sent,e.abrupt("return",new ru(a,(function(e){return _o(i,e)})));case 5:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t,n){return ou.apply(this,arguments)}function ou(){return(ou=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),e.next=3,fo(!1,i,"phone");case 3:return e.next=5,uu(i.auth,n,on(r));case 5:return a=e.sent,e.abrupt("return",new ru(a,(function(e){return ko(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(){return(su=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),e.next=3,uu(i.auth,n,on(r));case 3:return a=e.sent,e.abrupt("return",new ru(a,(function(e){return xo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t,n){return lu.apply(this,arguments)}function lu(){return lu=ge(Se().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gr("string"===typeof a,t,"argument-error"),Gr(r.type===Js,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Gr("enroll"===s.type,t,"internal-error"),e.next=13,os(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Gr("signin"===s.type,t,"internal-error"),Gr(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Vs(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ra(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),lu.apply(this,arguments)}function cu(){return(cu=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co(on(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hu=function(){function e(t){kt(this,e),this.providerId=e.PROVIDER_ID,this.auth=ia(t)}return He(e,[{key:"verifyPhoneNumber",value:function(e,t){return uu(this.auth,e,on(t))}}],[{key:"credential",value:function(e,t){return Ua._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ua._fromTokenResponse(n,r):null}}]),e}();function fu(e,t){return t?$r(t):(Gr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hu.PROVIDER_ID="phone",hu.PHONE_SIGN_IN_METHOD="phone";var du=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return He(n,[{key:"_getIdTokenResponse",value:function(e){return La(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return La(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return La(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(la);function pu(e){return go(e.auth,new du(e),e.bypassAuthState)}function vu(e){var t=e.auth,n=e.user;return Gr(n,t,"internal-error"),vo(n,new du(e),e.bypassAuthState)}function mu(e){return gu.apply(this,arguments)}function gu(){return gu=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gr(r=t.user,n,"internal-error"),e.abrupt("return",co(r,new du(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}var yu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];kt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return He(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ge(Se().mark((function t(n,r){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ge(Se().mark((function e(t){var n,r,i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pu;case"linkViaPopup":case"linkViaRedirect":return mu;case"reauthViaPopup":case"reauthViaRedirect":return vu;default:jr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_u=new ei(2e3,1e4);function bu(e,t,n){return ku.apply(this,arguments)}function ku(){return ku=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),qr(t,n,Ha),a=fu(i,r),o=new Tu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function wu(){return(wu=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=on(t)).auth,n,Ha),a=fu(i.auth,r),o=new Tu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t,n){return Su.apply(this,arguments)}function Su(){return(Su=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=on(t)).auth,n,Ha),a=fu(i.auth,r),o=new Tu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tu=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a,o){var s;return kt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Pe(s),s}return He(n,[{key:"executeNotNull",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ge(Se().mark((function e(){var t,n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kr(1===this.filter.length,"Popup operations only handle one event"),t=ys(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ur(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ur(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ur(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,_u.get())}()}}]),n}(yu);Tu.currentPopupAction=null;var Iu=new Map,Eu=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return kt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return He(n,[{key:"execute",value:function(){var e=ge(Se().mark((function e(){var t,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Iu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Cu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,kr(St(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Iu.set(this.auth._key(),t);case 21:return this.bypassAuthState||Iu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ge(Se().mark((function e(t){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",kr(St(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",kr(St(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yu);function Cu(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lu(n),i=Du(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Mu(e,t){return Au.apply(this,arguments)}function Au(){return Au=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(t)._set(Lu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Du(e){return $r(e._redirectPersistence)}function Lu(e){return Ui("pendingRedirect",e.config.apiKey,e.name)}function Nu(e,t,n){return function(e,t,n){return Ou.apply(this,arguments)}(e,t,n)}function Ou(){return Ou=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),qr(t,n,Ha),a=fu(i,r),e.next=5,Mu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Ru(e,t,n){return function(e,t,n){return Fu.apply(this,arguments)}(e,t,n)}function Fu(){return(Fu=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=on(t)).auth,n,Ha),a=fu(i.auth,r),e.next=5,Mu(a,i.auth);case 5:return e.next=7,qu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t,n){return function(e,t,n){return Vu.apply(this,arguments)}(e,t,n)}function Vu(){return(Vu=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=on(t)).auth,n,Ha),a=fu(i.auth,r),e.next=5,fo(!1,i,n.providerId);case 5:return e.next=7,Mu(a,i.auth);case 7:return e.next=9,qu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t){return ju.apply(this,arguments)}function ju(){return ju=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(t)._initializationPromise;case 2:return e.abrupt("return",Uu(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Uu(e,t){return Wu.apply(this,arguments)}function Wu(){return Wu=ge(Se().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ia(t),a=fu(i,n),o=new Eu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function qu(e){return Hu.apply(this,arguments)}function Hu(){return(Hu=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ys("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gu=function(){function e(t){kt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return He(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ku(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ku(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Yu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Yu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ku(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Zu(e){return $u.apply(this,arguments)}function $u(){return $u=ge(Se().mark((function e(t){var n,r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",oi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}var Qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xu=/^https?/;function Ju(){return Ju=ge(Se().mark((function e(t){var n,r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zu(t);case 4:n=e.sent,r=n.authorizedDomains,i=wt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!el(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:jr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ju.apply(this,arguments)}function el(e){var t=Qr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Xu.test(r))return!1;if(Qu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var tl=new ei(3e4,6e4);function nl(){var e=bs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Xe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rl=null;function il(e){return rl=rl||function(e){return new Promise((function(t,n){var r,i,a;function o(){nl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nl(),n(Ur(e,"network-request-failed"))},timeout:tl.get()})}if(null===(i=null===(r=bs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=bs().gapi)||void 0===a?void 0:a.load)){var s=Ws("iframefcb");return bs()[s]=function(){gapi.load?o():n(Ur(e,"network-request-failed"))},Us("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rl=null,e}))}(e),rl}var al=new ei(5e3,15e3),ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ul(e){var t=e.config;Gr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ti(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Wn},i=sl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}function ll(e){return cl.apply(this,arguments)}function cl(){return cl=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il(t);case 2:return n=e.sent,Gr(r=bs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ul(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ol,dontclear:!0},(function(e){return new Promise(function(){var n=ge(Se().mark((function n(r,i){var a,o,s;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){bs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ur(t,"network-request-failed"),o=bs().setTimeout((function(){i(a)}),al.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}var hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fl="_blank",dl="http://localhost",pl=function(){function e(t){kt(this,e),this.window=t,this.associatedEvent=null}return He(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},hl),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Vt().toLowerCase();n&&(s=Yi(l)?fl:n),Hi(l)&&(t=t||dl,u.scrollbars="yes");var c=Object.entries(u).reduce((function(e,t){var n=we(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ji(l)&&"_self"!==s)return ml(t||"",s),new pl(null);var h=window.open(t||"",s,c);Gr(h,e,"popup-blocked");try{h.focus()}catch(f){}return new pl(h)}function ml(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var gl="__/auth/handler",yl="emulator/auth/handler";function _l(e,t,n,r,i,a){Gr(e.config.authDomain,e,"auth-domain-config-required"),Gr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wn,eventId:i};if(t instanceof Ha){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=we(u[s],2),c=l[0],h=l[1];o[c]=h}}if(t instanceof Ga){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(gl);return ti(t,yl)}(e),"?").concat(Jt(d).slice(1))}var bl="webStorageSupport",kl=function(){function e(){kt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Uu}return He(e,[{key:"_openPopup",value:function(){var e=ge(Se().mark((function e(t,n,r,i){var a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=_l(t,n,r,Qr(),i),e.abrupt("return",vl(t,o,ys()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ge(Se().mark((function e(t,n,r,i){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=_l(t,n,r,Qr(),i),bs().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Kr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(t);case 2:return n=e.sent,r=new Gu(t),n.register("authEvent",(function(e){return Gr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bl,{type:bl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),jr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ju.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ta()||Gi()||Xi()}}]),e}(),wl=kl,xl=function(){function e(t){kt(this,e),this.factorId=t}return He(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yr("unexpected MultiFactorSessionType")}}}]),e}(),Sl=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this,"phone")).credential=e,r}return He(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return oi(e,"POST","/v2/accounts/mfaEnrollment:finalize",ai(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return oi(e,"POST","/v2/accounts/mfaSignIn:finalize",ai(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(xl),Tl=function(){function e(){kt(this,e)}return He(e,null,[{key:"assertion",value:function(e){return Sl._fromCredential(e)}}]),e}();Tl.FACTOR_ID="phone";var Il,El="@firebase/auth",Cl="0.19.12",Pl=function(){function e(t){kt(this,e),this.auth=t,this.internalListeners=new Map}return He(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ml(){return window}Il="Browser",Rn(new fn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Gr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Gr(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Il,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:na(Il)},i=new ra(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Rn(new fn("auth-internal",(function(e){return function(e){return new Pl(e)}(ia(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(El,Cl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Il)),Zn(El,Cl,"esm2017");function Al(e,t,n){return Dl.apply(this,arguments)}function Dl(){return Dl=ge(Se().mark((function e(t,n,r){var i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ml(),o=a.BuildInfo,Kr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zl(n.sessionId);case 4:return s=e.sent,u={},Xi()?u.ibi=o.packageName:Zi()?u.apn=o.packageName:jr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",_l(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(){return Ll=ge(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ml(),r=n.BuildInfo,i={},Xi()?i.iosBundleId=r.packageName:Zi()?i.androidPackageName=r.packageName:jr(t,"operation-not-supported-in-this-environment"),e.next=5,Zu(t,i);case 5:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Nl(e){var t=Ml().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ol(e,t,n){return Rl.apply(this,arguments)}function Rl(){return Rl=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ml(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function l(){s||(s=window.setTimeout((function(){i(Ur(t,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}n.addPassiveListener(u),document.addEventListener("resume",l,!1),Zi()&&document.addEventListener("visibilitychange",c,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Rl.apply(this,arguments)}function Fl(e){var t,n,r,i,a,o,s,u,l,c,h=Ml();Gr("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gr("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gr("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gr("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gr("function"===typeof(null===(c=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zl(e){return Vl.apply(this,arguments)}function Vl(){return(Vl=ge(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(e){if(Kr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var jl=function(e){xt(n,e);var t=Ct(n);function n(){var e;return kt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return He(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),kr(St(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gu);function Ul(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Yl(),postBody:null,tenantId:e.tenantId,error:Ur(e,"no-auth-event")}}function Wl(e,t){return Kl()._set(Zl(e),t)}function ql(e){return Hl.apply(this,arguments)}function Hl(){return Hl=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kl()._get(Zl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Kl()._remove(Zl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Gl(e,t){var n,r,i=function(e){var t=$l(e),n=t.link?decodeURIComponent(t.link):void 0,r=$l(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $l(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=$l(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ur(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Yl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Kl(){return $r(ds)}function Zl(e){return Ui("authEvent",e.config.apiKey,e.name)}function $l(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=ye(t=n)||Qe(t)||be(t)||ke();r[0];return en(r.slice(1).join("?"))}var Ql=function(){function e(){kt(this,e),this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uu}return He(e,[{key:"_initialize",value:function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new jl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){jr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ge(Se().mark((function e(t,n,r,i){var a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Iu.clear(),e.next=10,this._originValidation(t);case 10:return o=Ul(t,r,i),e.next=13,Wl(t,o);case 13:return e.next=15,Al(t,o,n);case 15:return s=e.sent,e.next=18,Nl(s);case 18:return u=e.sent,e.abrupt("return",Ol(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ll.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ml(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ge(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ql(e);case 2:t.onEvent(Jl());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ge(Se().mark((function n(r){var i,a;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ql(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Gl(i,r.url)),t.onEvent(a||Jl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,l="".concat(a.packageName.toLowerCase(),"://");Ml().handleOpenURL=function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Xl=Ql;function Jl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ur("no-auth-event")}}function ec(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return!("file:"!==ec()&&"ionic:"!==ec()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nc(){return qt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/Edge\/\d+/.test(e)}function ic(){try{var e=self.localStorage,t=ys();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return nc()||rc(e)}()||Ht()}catch(n){return ac()&&Ht()}return!1}function ac(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function oc(){return("http:"===ec()||"https:"===ec()||Ut()||tc())&&!(Wt()||jt())&&ic()&&!ac()}function sc(){return tc()&&"undefined"!==typeof document}function uc(){return lc.apply(this,arguments)}function lc(){return(lc=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cc={LOCAL:"local",NONE:"none",SESSION:"session"},hc=Gr,fc="persistence";function dc(e,t){hc(Object.values(cc).includes(t),e,"invalid-persistence-type"),Wt()?hc(t!==cc.SESSION,e,"unsupported-persistence-type"):jt()?hc(t===cc.NONE,e,"unsupported-persistence-type"):ac()?hc(t===cc.NONE||t===cc.LOCAL&&Ht(),e,"unsupported-persistence-type"):hc(t===cc.NONE||ic(),e,"unsupported-persistence-type")}function pc(e){return vc.apply(this,arguments)}function vc(){return vc=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=mc(),r=Ui(fc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var gc=Gr,yc=function(){function e(){kt(this,e),this.browserResolver=$r(wl),this.cordovaResolver=$r(Xl),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Uu}return He(e,[{key:"_initialize",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ge(Se().mark((function e(t,n,r,i){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ge(Se().mark((function e(t,n,r,i){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return sc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return gc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _c(e){return e.unwrap()}function bc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Tc(e,function(e,t){var n,r=on(e),i=t;return Gr(t.customData.operationType,r,"argument-error"),Gr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),as._fromError(r,i)}(e,t));else if(r){var i=kc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function kc(e){var t=(e instanceof Gt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Gt)&&"temporaryProof"in t&&"phoneNumber"in t)return hu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Er)return null;switch(r){case Ir:n=Za;break;case Sr:n=Ka;break;case Tr:n=$a;break;case Cr:n=Ja;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Qa._create(r,s):Oa._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ya(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Gt?n.credentialFromError(e):n.credentialFromResult(e)}function wc(e,t){return t.catch((function(t){throw t instanceof Gt&&bc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,kc(t)),additionalUserInfo:rs(e),user:Ic.getOrCreate(r)}}))}function xc(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return wc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}var Tc=function(){function e(t,n){kt(this,e),this.resolver=n,this.auth=t.wrapped()}return He(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return wc(_c(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ic=function(){function e(t){kt(this,e),this._delegate=t,this.multiFactor=function(e){var t=on(e);return ls.has(t)||ls.set(t,us._fromUser(t)),ls.get(t)}(t)}return He(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this.auth,ko(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(this.auth,au(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this.auth,xu(this._delegate,t,yc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc(ia(this.auth));case 2:return e.abrupt("return",zu(this._delegate,t,yc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this.auth,xo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return xc(this.auth,function(e,t,n){return su.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return wc(this.auth,function(e,t,n){return wu.apply(this,arguments)}(this._delegate,e,yc))}},{key:"reauthenticateWithRedirect",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc(ia(this.auth));case 2:return e.abrupt("return",Ru(this._delegate,t,yc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return qo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zo(on(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zo(on(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ko.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ho.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ic.USER_MAP=new WeakMap;var Ec=Gr,Cc=function(){function e(t,n){if(kt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Ec(r,"invalid-api-key",{appName:t.name}),Ec(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?yc:void 0;this._delegate=n.initialize({options:{persistence:Mc(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Rr),this.linkUnderlyingAuth()}return He(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ic.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){oa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Lo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return No(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Do.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this._delegate,Fo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Wo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Wa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(oc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bu(this._delegate,yc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",wc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ia(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Pc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Pc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Vo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dc(this._delegate,t),e.t0=t,e.next=e.t0===cc.SESSION?4:e.t0===cc.LOCAL?6:e.t0===cc.NONE?11:13;break;case 4:return n=vs,e.abrupt("break",14);case 6:return e.next=8,$r(zs)._isAvailable();case 8:return r=e.sent,n=r?zs:ds,e.abrupt("break",14);case 11:return n=ji,e.abrupt("break",14);case 13:return e.abrupt("return",jr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return wc(this._delegate,function(e){return io.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return wc(this._delegate,_o(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return wc(this._delegate,function(e,t){return Eo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return wc(this._delegate,function(e,t,n){return _o(on(e),qa.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return wc(this._delegate,function(e,t,n){return Bo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return xc(this._delegate,function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(oc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",wc(this._delegate,bu(this._delegate,t,yc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(oc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pc(this._delegate);case 3:return e.abrupt("return",Nu(this._delegate,t,yc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Pc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ic.getOrCreate(e))},error:t,complete:n}}function Mc(e,t){var n=function(e,t){var n=mc();if(!n)return[];var r=Ui(fc,e,t);switch(n.getItem(r)){case cc.NONE:return[ji];case cc.LOCAL:return[zs,vs];case cc.SESSION:return[vs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(zs)||n.push(zs),"undefined"!==typeof window)for(var r=0,i=[ds,vs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ji)||n.push(ji),n}Cc.Persistence=cc;var Ac=function(){function e(){kt(this,e),this.providerId="phone",this._delegate=new hu(_c(_r.auth()))}return He(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return hu.credential(e,t)}}]),e}();Ac.PHONE_SIGN_IN_METHOD=hu.PHONE_SIGN_IN_METHOD,Ac.PROVIDER_ID=hu.PROVIDER_ID;var Dc,Lc=Gr,Nc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_r.app();kt(this,e),Lc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new tu(t,n,i.auth()),this.type=this._delegate.type}return He(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Dc=_r).INTERNAL.registerComponent(new fn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Cc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pr,PASSWORD_RESET:Mr,RECOVER_EMAIL:Ar,REVERT_SECOND_FACTOR_ADDITION:Dr,VERIFY_AND_CHANGE_EMAIL:Lr,VERIFY_EMAIL:Nr}},EmailAuthProvider:qa,FacebookAuthProvider:Ka,GithubAuthProvider:$a,GoogleAuthProvider:Za,OAuthProvider:Ya,SAMLAuthProvider:Xa,PhoneAuthProvider:Ac,PhoneMultiFactorGenerator:Tl,RecaptchaVerifier:Nc,TwitterAuthProvider:Ja,Auth:Cc,AuthCredential:la,Error:Gt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Dc.registerVersion("@firebase/auth-compat","0.2.12");var Oc,Rc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Fc={},zc=zc||{},Vc=Rc||self;function Bc(){}function jc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Uc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Wc="closure_uid_"+(1e9*Math.random()>>>0),qc=0;function Hc(e,t,n){return e.call.apply(e.bind,arguments)}function Gc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yc(e,t,n){return(Yc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hc:Gc).apply(null,arguments)}function Kc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function $c(){this.s=this.s,this.o=this.o}var Qc={};$c.prototype.s=!1,$c.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Wc)&&e[Wc]||(e[Wc]=++qc)}(this);delete Qc[e]}},$c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Jc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function eh(e){return Array.prototype.concat.apply([],arguments)}function th(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function nh(e){return/^[\s\xa0]*$/.test(e)}var rh,ih=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ah(e,t){return-1!=e.indexOf(t)}function oh(e,t){return e<t?-1:e>t?1:0}e:{var sh=Vc.navigator;if(sh){var uh=sh.userAgent;if(uh){rh=uh;break e}}rh=""}function lh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ch(e){var t={};for(var n in e)t[n]=e[n];return t}var hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<hh.length;a++)n=hh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function dh(e){return dh[" "](e),e}dh[" "]=Bc;var ph,vh=ah(rh,"Opera"),mh=ah(rh,"Trident")||ah(rh,"MSIE"),gh=ah(rh,"Edge"),yh=gh||mh,_h=ah(rh,"Gecko")&&!(ah(rh.toLowerCase(),"webkit")&&!ah(rh,"Edge"))&&!(ah(rh,"Trident")||ah(rh,"MSIE"))&&!ah(rh,"Edge"),bh=ah(rh.toLowerCase(),"webkit")&&!ah(rh,"Edge");function kh(){var e=Vc.document;return e?e.documentMode:void 0}e:{var wh="",xh=function(){var e=rh;return _h?/rv:([^\);]+)(\)|;)/.exec(e):gh?/Edge\/([\d\.]+)/.exec(e):mh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bh?/WebKit\/(\S+)/.exec(e):vh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xh&&(wh=xh?xh[1]:""),mh){var Sh=kh();if(null!=Sh&&Sh>parseFloat(wh)){ph=String(Sh);break e}}ph=wh}var Th,Ih={};function Eh(){return function(e){var t=Ih;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ih(String(ph)).split("."),n=ih("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=oh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||oh(0==a[2].length,0==o[2].length)||oh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Vc.document&&mh){var Ch=kh();Th=Ch||(parseInt(ph,10)||void 0)}else Th=void 0;var Ph=Th,Mh=function(){if(!Vc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vc.addEventListener("test",Bc,t),Vc.removeEventListener("test",Bc,t)}catch(n){}return e}();function Ah(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Dh(e,t){if(Ah.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_h){e:{try{dh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Dh.Z.h.call(this)}}Ah.prototype.h=function(){this.defaultPrevented=!0},Zc(Dh,Ah);var Lh={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),Oh=0;function Rh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Oh,this.ca=this.fa=!1}function Fh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function zh(e){this.src=e,this.g={},this.h=0}function Vh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Xc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Fh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Bh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}zh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Bh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Rh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var jh="closure_lm_"+(1e6*Math.random()|0),Uh={};function Wh(e,t,n,r,i){if(r&&r.once)return Hh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wh(e,t[a],n,r,i);return null}return n=Xh(n),e&&e[Nh]?e.N(t,n,Uc(r)?!!r.capture:!!r,i):qh(e,t,n,!1,r,i)}function qh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Uc(i)?!!i.capture:!!i,s=$h(e);if(s||(e[jh]=s=new zh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Kh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Hh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hh(e,t[a],n,r,i);return null}return n=Xh(n),e&&e[Nh]?e.O(t,n,Uc(r)?!!r.capture:!!r,i):qh(e,t,n,!0,r,i)}function Gh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Gh(e,t[a],n,r,i);else r=Uc(r)?!!r.capture:!!r,n=Xh(n),e&&e[Nh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Bh(a=e.g[t],n,r,i))&&(Fh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$h(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bh(t,n,r,i)),(n=-1<e?t[e]:null)&&Yh(n))}function Yh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Nh])Vh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Kh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$h(t))?(Vh(n,e),0==n.h&&(n.src=null,t[jh]=null)):Fh(e)}}}function Kh(e){return e in Uh?Uh[e]:Uh[e]="on"+e}function Zh(e,t){if(e.ca)e=!0;else{t=new Dh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Yh(e),e=n.call(r,t)}return e}function $h(e){return(e=e[jh])instanceof zh?e:null}var Qh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xh(e){return"function"===typeof e?e:(e[Qh]||(e[Qh]=function(t){return e.handleEvent(t)}),e[Qh])}function Jh(){$c.call(this),this.i=new zh(this),this.P=this,this.I=null}function ef(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ah(t,e);else if(t instanceof Ah)t.target=t.target||e;else{var i=t;fh(t=new Ah(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=tf(o,r,!0,t)&&i}if(i=tf(o=t.g=e,r,!0,t)&&i,i=tf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=tf(o=t.g=n[a],r,!1,t)&&i}function tf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Vh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Zc(Jh,$c),Jh.prototype[Nh]=!0,Jh.prototype.removeEventListener=function(e,t,n,r){Gh(this,e,t,n,r)},Jh.prototype.M=function(){if(Jh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fh(n[r]);delete t.g[e],t.h--}}this.I=null},Jh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nf=Vc.JSON.stringify;function rf(){var e=ff,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var af,of=function(){function e(){kt(this,e),this.h=this.g=null}return He(e,[{key:"add",value:function(e,t){var n=sf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),sf=new(function(){function e(t,n){kt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return He(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new uf}),(function(e){return e.reset()})),uf=function(){function e(){kt(this,e),this.next=this.g=this.h=null}return He(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function lf(e){Vc.setTimeout((function(){throw e}),0)}function cf(e,t){af||function(){var e=Vc.Promise.resolve(void 0);af=function(){e.then(df)}}(),hf||(af(),hf=!0),ff.add(e,t)}var hf=!1,ff=new of;function df(){for(var e;e=rf();){try{e.h.call(e.g)}catch(n){lf(n)}var t=sf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}hf=!1}function pf(e,t){Jh.call(this),this.h=e||1,this.g=t||Vc,this.j=Yc(this.kb,this),this.l=Date.now()}function vf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function mf(e,t,n){if("function"===typeof e)n&&(e=Yc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vc.setTimeout(e,t||0)}function gf(e){e.g=mf((function(){e.g=null,e.i&&(e.i=!1,gf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Zc(pf,Jh),(Oc=pf.prototype).da=!1,Oc.S=null,Oc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ef(this,"tick"),this.da&&(vf(this),this.start()))}},Oc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oc.M=function(){pf.Z.M.call(this),vf(this),delete this.g};var yf=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return He(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gf(this)}},{key:"M",value:function(){kr(St(n.prototype),"M",this).call(this),this.g&&(Vc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($c);function _f(e){$c.call(this),this.h=e,this.g={}}Zc(_f,$c);var bf=[];function kf(e,t,n,r){Array.isArray(n)||(n&&(bf[0]=n.toString()),n=bf);for(var i=0;i<n.length;i++){var a=Wh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function wf(e){lh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Yh(e)}),e),e.g={}}function xf(){this.g=!0}function Sf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return nf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}_f.prototype.M=function(){_f.Z.M.call(this),wf(this)},_f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xf.prototype.Aa=function(){this.g=!1},xf.prototype.info=function(){};var Tf={},If=null;function Ef(){return If=If||new Jh}function Cf(e){Ah.call(this,Tf.Ma,e)}function Pf(e){var t=Ef();ef(t,new Cf(t,e))}function Mf(e,t){Ah.call(this,Tf.STAT_EVENT,e),this.stat=t}function Af(e){var t=Ef();ef(t,new Mf(t,e))}function Df(e,t){Ah.call(this,Tf.Na,e),this.size=t}function Lf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vc.setTimeout((function(){e()}),t)}Tf.Ma="serverreachability",Zc(Cf,Ah),Tf.STAT_EVENT="statevent",Zc(Mf,Ah),Tf.Na="timingevent",Zc(Df,Ah);var Nf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Of={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rf(){}function Ff(e){return e.h||(e.h=e.i())}function zf(){}Rf.prototype.h=null;var Vf,Bf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jf(){Ah.call(this,"d")}function Uf(){Ah.call(this,"c")}function Wf(){}function qf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new _f(this),this.P=Gf,e=yh?125:void 0,this.W=new pf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hf}function Hf(){this.i=null,this.g="",this.h=!1}Zc(jf,Ah),Zc(Uf,Ah),Zc(Wf,Rf),Wf.prototype.g=function(){return new XMLHttpRequest},Wf.prototype.i=function(){return{}},Vf=new Wf;var Gf=45e3,Yf={},Kf={};function Zf(e,t,n){e.K=1,e.v=yd(fd(t)),e.s=n,e.U=!0,$f(e,null)}function $f(e,t){e.F=Date.now(),ed(e),e.A=fd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ad(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Hf,e.g=Lp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new yf(Yc(e.Ia,e,e.g),e.O)),kf(e.V,e.g,"readystatechange",e.gb),t=e.H?ch(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Qf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Xf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Jf(e,n))==Kf){4==t&&(e.o=4,Af(14),i=!1),Sf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Yf){e.o=4,Af(15),Sf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sf(e.j,e.m,r,null),ad(e,r)}Qf(e)&&r!=Kf&&r!=Yf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Af(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tp(t),t.L=!0,Af(11))):(Sf(e.j,e.m,n,"[Invalid Chunked Response]"),id(e),rd(e))}function Jf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kf:(n=Number(t.substring(n,r)),isNaN(n)?Yf:(r+=1)+n>t.length?Kf:(t=t.substr(r,n),e.C=r+n,t))}function ed(e){e.Y=Date.now()+e.P,td(e,e.P)}function td(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Lf(Yc(e.eb,e),t)}function nd(e){e.B&&(Vc.clearTimeout(e.B),e.B=null)}function rd(e){0==e.l.G||e.I||Cp(e.l,e)}function id(e){nd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,vf(e.W),wf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ad(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Vd(n.i,e)))if(n.I=e.N,!e.J&&Vd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ep(n),mp(n)}Sp(n),Af(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Lf(Yc(n.ab,n),6e3));if(1>=zd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Mp(n,11)}else if((e.J||n.g==e)&&Ep(n),!nh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(ah(c,"spdy")||ah(c,"quic")||ah(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Bd(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,gd(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Dp(r,r.H?r.la:null,r.W),d.J){jd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(nd(p),ed(p)),r.g=d}else xp(r);0<n.l.length&&_p(n)}else"stop"!=a[0]&&"close"!=a[0]||Mp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Mp(n,7):vp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Pf(4)}catch(a){}}function od(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jc(e)||"string"===typeof e)Jc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(jc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(jc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function sd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof sd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ud(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ld(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ld(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ld(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Oc=qf.prototype).setTimeout=function(e){this.P=e},Oc.gb=function(e){e=e.target;var t=this.L;t&&3==cp(e)?t.l():this.Ia(e)},Oc.Ia=function(e){try{if(e==this.g)e:{var t=cp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||yh||this.g&&(this.h.h||this.g.ga()||hp(this.g)))){this.I||4!=t||7==n||Pf(8==n||0>=r?3:2),nd(this);var i=this.g.ba();this.N=i;t:if(Qf(this)){var a=hp(this.g);e="";var o=a.length,s=4==cp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){id(this),rd(this);var u="";break t}this.h.i=new Vc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nh(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Af(12),id(this),rd(this);break e}Sf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ad(this,i)}this.U?(Xf(this,t,u),yh&&this.i&&3==t&&(kf(this.V,this.W,"tick",this.fb),this.W.start())):(Sf(this.j,this.m,u,null),ad(this,u)),4==t&&id(this),this.i&&!this.I&&(4==t?Cp(this.l,this):(this.i=!1,ed(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Af(12)):(this.o=0,Af(13)),id(this),rd(this)}}}catch(t){}},Oc.fb=function(){if(this.g){var e=cp(this.g),t=this.g.ga();this.C<t.length&&(nd(this),Xf(this,e,t),this.i&&4!=e&&ed(this))}},Oc.cancel=function(){this.I=!0,id(this)},Oc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Pf(3),Af(17)),id(this),this.o=2,rd(this)):td(this,this.Y-e)},(Oc=sd.prototype).R=function(){ud(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Oc.T=function(){return ud(this),this.g.concat()},Oc.get=function(e,t){return ld(this.h,e)?this.h[e]:t},Oc.set=function(e,t){ld(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Oc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var cd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof hd){this.g=void 0!==t?t:e.g,dd(this,e.j),this.s=e.s,pd(this,e.i),vd(this,e.m),this.l=e.l,t=e.h;var n=new Ed;n.i=t.i,t.g&&(n.g=new sd(t.g),n.h=t.h),md(this,n),this.o=e.o}else e&&(n=String(e).match(cd))?(this.g=!!t,dd(this,n[1]||"",!0),this.s=_d(n[2]||""),pd(this,n[3]||"",!0),vd(this,n[4]),this.l=_d(n[5]||"",!0),md(this,n[6]||"",!0),this.o=_d(n[7]||"")):(this.g=!!t,this.h=new Ed(null,this.g))}function fd(e){return new hd(e)}function dd(e,t,n){e.j=n?_d(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pd(e,t,n){e.i=n?_d(t,!0):t}function vd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function md(e,t,n){t instanceof Ed?(e.h=t,function(e,t){t&&!e.j&&(Cd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pd(this,t),Ad(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=bd(t,Td)),e.h=new Ed(t,e.g))}function gd(e,t,n){e.h.set(t,n)}function yd(e){return gd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _d(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bd(t,wd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bd(t,wd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(bd(n,"/"==n.charAt(0)?Sd:xd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bd(n,Id)),e.join("")};var wd=/[#\/\?@]/g,xd=/[#\?:]/g,Sd=/[#\?]/g,Td=/[#\?@]/g,Id=/#/g;function Ed(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Cd(e){e.g||(e.g=new sd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pd(e,t){Cd(e),t=Dd(e,t),ld(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ld((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ud(e)))}function Md(e,t){return Cd(e),t=Dd(e,t),ld(e.g.h,t)}function Ad(e,t,n){Pd(e,t),0<n.length&&(e.i=null,e.g.set(Dd(e,t),th(n)),e.h+=n.length)}function Dd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Oc=Ed.prototype).add=function(e,t){Cd(this),this.i=null,e=Dd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Oc.forEach=function(e,t){Cd(this),this.g.forEach((function(n,r){Jc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Oc.T=function(){Cd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Oc.R=function(e){Cd(this);var t=[];if("string"===typeof e)Md(this,e)&&(t=eh(t,this.g.get(Dd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=eh(t,e[n])}return t},Oc.set=function(e,t){return Cd(this),this.i=null,Md(this,e=Dd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Oc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Oc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ld=He((function e(t,n){kt(this,e),this.h=t,this.g=n}));function Nd(e){this.l=e||Rd,Vc.PerformanceNavigationTiming?e=0<(e=Vc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vc.g&&Vc.g.Ea&&Vc.g.Ea()&&Vc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Od,Rd=10;function Fd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zd(e){return e.h?1:e.g?e.g.size:0}function Vd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bd(e,t){e.g?e.g.add(t):e.h=t}function jd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ud(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=wt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return th(e.i)}function Wd(){}function qd(){this.g=new Wd}function Hd(e,t,n){var r=n||"";try{od(e,(function(e,n){var i=e;Uc(e)&&(i=nf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Yd(e){this.l=e.$b||null,this.j=e.ib||!1}function Kd(e,t){Jh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nd.prototype.cancel=function(){if(this.i=Ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=wt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Wd.prototype.stringify=function(e){return Vc.JSON.stringify(e,void 0)},Wd.prototype.parse=function(e){return Vc.JSON.parse(e,void 0)},Zc(Yd,Rf),Yd.prototype.g=function(){return new Kd(this.l,this.j)},Yd.prototype.i=(Od={},function(){return Od}),Zc(Kd,Jh);var Zd=0;function $d(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Qd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xd(e)}function Xd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Oc=Kd.prototype).open=function(e,t){if(this.readyState!=Zd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xd(this)},Oc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Vc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Oc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qd(this)),this.readyState=Zd},Oc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xd(this)),this.g&&(this.readyState=3,Xd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Vc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$d(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Oc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qd(this):Xd(this),3==this.readyState&&$d(this)}},Oc.Ua=function(e){this.g&&(this.response=this.responseText=e,Qd(this))},Oc.Ta=function(e){this.g&&(this.response=e,Qd(this))},Oc.ha=function(){this.g&&Qd(this)},Oc.setRequestHeader=function(e,t){this.v.append(e,t)},Oc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Oc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Jd=Vc.JSON.parse;function ep(e){Jh.call(this),this.headers=new sd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tp,this.K=this.L=!1}Zc(ep,Jh);var tp="",np=/^https?$/i,rp=["POST","PUT"];function ip(e){return"content-type"==e.toLowerCase()}function ap(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,op(e),up(e)}function op(e){e.D||(e.D=!0,ef(e,"complete"),ef(e,"error"))}function sp(e){if(e.h&&"undefined"!=typeof zc&&(!e.C[1]||4!=cp(e)||2!=e.ba()))if(e.v&&4==cp(e))mf(e.Fa,0,e);else if(ef(e,"readystatechange"),4==cp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(cd)[1]||null;if(!a&&Vc.self&&Vc.self.location){var o=Vc.self.location.protocol;a=o.substr(0,o.length-1)}i=!np.test(a?a.toLowerCase():"")}t=i}if(t)ef(e,"complete"),ef(e,"success");else{e.m=6;try{var s=2<cp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",op(e)}}finally{up(e)}}}function up(e,t){if(e.g){lp(e);var n=e.g,r=e.C[0]?Bc:null;e.g=null,e.C=null,t||ef(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function lp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Vc.clearTimeout(e.A),e.A=null)}function cp(e){return e.g?e.g.readyState:0}function hp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function fp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return lh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gd(e,t,n))}function dp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pp(e){this.za=0,this.l=[],this.h=new xf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dp("baseRetryDelayMs",5e3,e),this.$a=dp("retryDelaySeedMs",1e4,e),this.Ya=dp("forwardChannelMaxRetries",2,e),this.ra=dp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Nd(e&&e.concurrentRequestLimit),this.Ca=new qd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function vp(e){if(gp(e),3==e.G){var t=e.V++,n=fd(e.F);gd(n,"SID",e.J),gd(n,"RID",t),gd(n,"TYPE","terminate"),kp(e,n),(t=new qf(e,e.h,t,void 0)).K=2,t.v=yd(fd(n)),n=!1,Vc.navigator&&Vc.navigator.sendBeacon&&(n=Vc.navigator.sendBeacon(t.v.toString(),"")),!n&&Vc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Lp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ed(t)}Ap(e)}function mp(e){e.g&&(Tp(e),e.g.cancel(),e.g=null)}function gp(e){mp(e),e.u&&(Vc.clearTimeout(e.u),e.u=null),Ep(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vc.clearTimeout(e.m),e.m=null)}function yp(e,t){e.l.push(new Ld(e.Za++,t)),3==e.G&&_p(e)}function _p(e){Fd(e.i)||e.m||(e.m=!0,cf(e.Ha,e),e.C=0)}function bp(e,t){var n;n=t?t.m:e.V++;var r=fd(e.F);gd(r,"SID",e.J),gd(r,"RID",n),gd(r,"AID",e.U),kp(e,r),e.o&&e.s&&fp(r,e.o,e.s),n=new qf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=wp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Bd(e.i,n),Zf(n,r,t)}function kp(e,t){e.j&&od({},(function(e,n){gd(t,n,e)}))}function wp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Yc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Hd(c,o,"req"+l+"_")}catch(sv){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function xp(e){e.g||e.u||(e.Y=1,cf(e.Ga,e),e.A=0)}function Sp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Lf(Yc(e.Ga,e),Pp(e,e.A)),e.A++,!0)}function Tp(e){null!=e.B&&(Vc.clearTimeout(e.B),e.B=null)}function Ip(e){e.g=new qf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=fd(e.oa);gd(t,"RID","rpc"),gd(t,"SID",e.J),gd(t,"CI",e.N?"0":"1"),gd(t,"AID",e.U),kp(e,t),gd(t,"TYPE","xmlhttp"),e.o&&e.s&&fp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=yd(fd(t)),n.s=null,n.U=!0,$f(n,e)}function Ep(e){null!=e.v&&(Vc.clearTimeout(e.v),e.v=null)}function Cp(e,t){var n=null;if(e.g==t){Ep(e),Tp(e),e.g=null;var r=2}else{if(!Vd(e.i,t))return;n=t.D,jd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ef(r=Ef(),new Df(r,n,t,i)),_p(e)}else xp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Lf(Yc(e.Ha,e,t),Pp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mp(e,5);break;case 4:Mp(e,10);break;case 3:Mp(e,6);break;default:Mp(e,2)}}function Pp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Yc(e.jb,e);n||(n=new hd("//www.google.com/images/cleardot.gif"),Vc.location&&"http"==Vc.location.protocol||dd(n,"https"),yd(n)),function(e,t){var n=new xf;if(Vc.Image){var r=new Image;r.onload=Kc(Gd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Kc(Gd,n,r,"TestLoadImage: error",!1,t),r.onabort=Kc(Gd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Kc(Gd,n,r,"TestLoadImage: timeout",!1,t),Vc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Af(2);e.G=0,e.j&&e.j.va(t),Ap(e),gp(e)}function Ap(e){e.G=0,e.I=-1,e.j&&(0==Ud(e.i).length&&0==e.l.length||(e.i.i.length=0,th(e.l),e.l.length=0),e.j.ua())}function Dp(e,t,n){var r=function(e){return e instanceof hd?fd(e):new hd(e,void 0)}(n);if(""!=r.i)t&&pd(r,t+"."+r.i),vd(r,r.m);else{var i=Vc.location;r=function(e,t,n,r){var i=new hd(null,void 0);return e&&dd(i,e),t&&pd(i,t),n&&vd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&lh(e.aa,(function(e,t){gd(r,t,e)})),t=e.D,n=e.sa,t&&n&&gd(r,t,n),gd(r,"VER",e.ma),kp(e,r),r}function Lp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ep(new Yd({ib:!0})):new ep(e.qa)).L=e.H,t}function Np(){}function Op(){if(mh&&!(10<=Number(Ph)))throw Error("Environmental error: no available transport.")}function Rp(e,t){Jh.call(this),this.g=new pp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!nh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vp(this)}function Fp(e){jf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zp(){Uf.call(this),this.status=1}function Vp(e){this.g=e}(Oc=ep.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vf.g(),this.C=this.u?Ff(this.u):Ff(Vf),this.g.onreadystatechange=Yc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ap(this,a)}e=n||"";var i=new sd(this.headers);r&&od(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ip,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Vc.FormData&&e instanceof Vc.FormData,!(0<=Xc(rp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lp(this),0<this.B&&((this.K=function(e){return mh&&Eh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yc(this.pa,this)):this.A=mf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ap(this,a)}},Oc.pa=function(){"undefined"!=typeof zc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ef(this,"timeout"),this.abort(8))},Oc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ef(this,"complete"),ef(this,"abort"),up(this))},Oc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),up(this,!0)),ep.Z.M.call(this)},Oc.Fa=function(){this.s||(this.F||this.v||this.l?sp(this):this.cb())},Oc.cb=function(){sp(this)},Oc.ba=function(){try{return 2<cp(this)?this.g.status:-1}catch(Od){return-1}},Oc.ga=function(){try{return this.g?this.g.responseText:""}catch(Od){return""}},Oc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Jd(t)}},Oc.Da=function(){return this.m},Oc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Oc=pp.prototype).ma=8,Oc.G=1,Oc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Oc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new qf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?fh(n=ch(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=wp(this,t,r),gd(i=fd(this.F),"RID",e),gd(i,"CVER",22),this.D&&gd(i,"X-HTTP-Session-Id",this.D),kp(this,i),this.o&&n&&fp(i,this.o,n),Bd(this.i,t),this.Ra&&gd(i,"TYPE","init"),this.ja?(gd(i,"$req",r),gd(i,"SID","null"),t.$=!0,Zf(t,i,null)):Zf(t,i,r),this.G=2}}else 3==this.G&&(e?bp(this,e):0==this.l.length||Fd(this.i)||bp(this))},Oc.Ga=function(){if(this.u=null,Ip(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Lf(Yc(this.bb,this),e)}},Oc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Af(10),mp(this),Ip(this))},Oc.ab=function(){null!=this.v&&(this.v=null,mp(this),Sp(this),Af(19))},Oc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Af(2)):(this.h.info("Failed to ping google.com"),Af(1))},(Oc=Np.prototype).xa=function(){},Oc.wa=function(){},Oc.va=function(){},Oc.ua=function(){},Oc.Oa=function(){},Op.prototype.g=function(e,t){return new Rp(e,t)},Zc(Rp,Jh),Rp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),cf(Yc(e.hb,e,t))),Af(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Dp(e,null,e.W),_p(e)},Rp.prototype.close=function(){vp(this.g)},Rp.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,yp(this.g,t)}else this.v?((t={}).__data__=nf(e),yp(this.g,t)):yp(this.g,e)},Rp.prototype.M=function(){this.g.j=null,delete this.j,vp(this.g),delete this.g,Rp.Z.M.call(this)},Zc(Fp,jf),Zc(zp,Uf),Zc(Vp,Np),Vp.prototype.xa=function(){ef(this.g,"a")},Vp.prototype.wa=function(e){ef(this.g,new Fp(e))},Vp.prototype.va=function(e){ef(this.g,new zp(e))},Vp.prototype.ua=function(){ef(this.g,"b")},Op.prototype.createWebChannel=Op.prototype.g,Rp.prototype.send=Rp.prototype.u,Rp.prototype.open=Rp.prototype.m,Rp.prototype.close=Rp.prototype.close,Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,Of.COMPLETE="complete",zf.EventType=Bf,Bf.OPEN="a",Bf.CLOSE="b",Bf.ERROR="c",Bf.MESSAGE="d",Jh.prototype.listen=Jh.prototype.N,ep.prototype.listenOnce=ep.prototype.O,ep.prototype.getLastError=ep.prototype.La,ep.prototype.getLastErrorCode=ep.prototype.Da,ep.prototype.getStatus=ep.prototype.ba,ep.prototype.getResponseJson=ep.prototype.Qa,ep.prototype.getResponseText=ep.prototype.ga,ep.prototype.send=ep.prototype.ea;var Bp=Fc.createWebChannelTransport=function(){return new Op},jp=Fc.getStatEventTarget=function(){return Ef()},Up=Fc.ErrorCode=Nf,Wp=Fc.EventType=Of,qp=Fc.Event=Tf,Hp=Fc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gp=Fc.FetchXmlHttpFactory=Yd,Yp=Fc.WebChannel=zf,Kp=Fc.XhrIo=ep,Zp="@firebase/firestore",$p=function(){function e(t){kt(this,e),this.uid=t}return He(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$p.UNAUTHENTICATED=new $p(null),$p.GOOGLE_CREDENTIALS=new $p("google-credentials-uid"),$p.FIRST_PARTY=new $p("first-party-uid"),$p.MOCK_USER=new $p("mock-user");var Qp="9.6.11",Xp=new Tn("@firebase/firestore");function Jp(){return Xp.logLevel}function ev(e){if(Xp.logLevel<=mn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rv);Xp.debug.apply(Xp,["Firestore (".concat(Qp,"): ").concat(e)].concat(Xe(i)))}}function tv(e){if(Xp.logLevel<=mn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rv);Xp.error.apply(Xp,["Firestore (".concat(Qp,"): ").concat(e)].concat(Xe(i)))}}function nv(e){if(Xp.logLevel<=mn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rv);Xp.warn.apply(Xp,["Firestore (".concat(Qp,"): ").concat(e)].concat(Xe(i)))}}function rv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function iv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Qp,") INTERNAL ASSERTION FAILED: ")+e;throw tv(t),new Error(t)}function av(e,t){e||iv()}function ov(e,t){return e}var sv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},uv=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return He(n)}(Gt),lv=He((function e(){var t=this;kt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),cv=He((function e(t,n){kt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),hv=function(){function e(){kt(this,e)}return He(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($p.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fv=function(){function e(t){kt(this,e),this.token=t,this.changeListener=null}return He(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),dv=function(){function e(t){kt(this,e),this.t=t,this.currentUser=$p.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return He(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new lv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new lv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ev("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ev("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new lv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ev("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(av("string"==typeof n.accessToken),new cv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return av(null===e||"string"==typeof e),new $p(e)}}]),e}(),pv=He((function e(t,n,r){kt(this,e),this.type="FirstParty",this.user=$p.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),vv=function(){function e(t,n,r){kt(this,e),this.h=t,this.l=n,this.m=r}return He(e,[{key:"getToken",value:function(){return Promise.resolve(new pv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($p.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),mv=He((function e(t){kt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),gv=function(){function e(t){kt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return He(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ev("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ev("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ev("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ev("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(av("string"==typeof t.token),e.p=t.token,new mv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),yv=function(){function e(t,n){var r=this;kt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return He(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function _v(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}yv.A=-1;var bv=function(){function e(){kt(this,e)}return He(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_v(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function kv(e,t){return e<t?-1:e>t?1:0}function wv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xv(e){return e+"\0"}var Sv=function(){function e(t,n){if(kt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new uv(sv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new uv(sv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new uv(sv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uv(sv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return He(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?kv(this.nanoseconds,e.nanoseconds):kv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Tv=function(){function e(t){kt(this,e),this.timestamp=t}return He(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Sv(0,0))}},{key:"max",value:function(){return new e(new Sv(253402300799,999999999))}}]),e}();function Iv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ev(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Pv=function(){function e(t,n,r){kt(this,e),void 0===n?n=0:n>t.length&&iv(),void 0===r?r=t.length-n:r>t.length-n&&iv(),this.segments=t,this.offset=n,this.len=r}return He(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mv=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new uv(sv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Xe(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Pv),Av=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dv=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Av.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new uv(sv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new uv(sv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new uv(sv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new uv(sv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Pv),Lv=function(){function e(t){kt(this,e),this.fields=t,t.sort(Dv.comparator)}return He(e,[{key:"covers",value:function(e){var t,n=wt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return wv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Nv=function(e){function t(e){kt(this,t),this.binaryString=e}return He(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return kv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nv.EMPTY_BYTE_STRING=new Nv("");var Ov=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rv(e){if(av(!!e),"string"==typeof e){var t=0,n=Ov.exec(e);if(av(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fv(e.seconds),nanos:Fv(e.nanos)}}function Fv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zv(e){return"string"==typeof e?Nv.fromBase64String(e):Nv.fromUint8Array(e)}function Vv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bv(e){var t=e.mapValue.fields.__previous_value__;return Vv(t)?Bv(t):t}function jv(e){var t=Rv(e.mapValue.fields.__local_write_time__.timestampValue);return new Sv(t.seconds,t.nanos)}var Uv=He((function e(t,n,r,i,a,o,s,u){kt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Wv=function(){function e(t,n){kt(this,e),this.projectId=t,this.database=n||"(default)"}return He(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function qv(e){return null==e}function Hv(e){return 0===e&&1/e==-1/0}function Gv(e){return"number"==typeof e&&Number.isInteger(e)&&!Hv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Yv=function(){function e(t){kt(this,e),this.path=t}return He(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mv.fromString(t))}},{key:"fromName",value:function(t){return new e(Mv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mv.emptyPath())}},{key:"comparator",value:function(e,t){return Mv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mv(t.slice()))}}]),e}(),Kv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zv={nullValue:"NULL_VALUE"};function $v(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vv(e)?4:cm(e)?9:10:iv()}function Qv(e,t){if(e===t)return!0;var n=$v(e);if(n!==$v(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jv(e).isEqual(jv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Rv(e.timestampValue),r=Rv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zv(e.bytesValue).isEqual(zv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fv(e.geoPointValue.latitude)===Fv(t.geoPointValue.latitude)&&Fv(e.geoPointValue.longitude)===Fv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fv(e.integerValue)===Fv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Fv(e.doubleValue),r=Fv(t.doubleValue);return n===r?Hv(n)===Hv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wv(e.arrayValue.values||[],t.arrayValue.values||[],Qv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Iv(n)!==Iv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qv(n[i],r[i])))return!1;return!0}(e,t);default:return iv()}}function Xv(e,t){return void 0!==(e.values||[]).find((function(e){return Qv(e,t)}))}function Jv(e,t){if(e===t)return 0;var n=$v(e),r=$v(t);if(n!==r)return kv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Fv(e.integerValue||e.doubleValue),r=Fv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return em(e.timestampValue,t.timestampValue);case 4:return em(jv(e),jv(t));case 5:return kv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=zv(e),r=zv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=kv(n[i],r[i]);if(0!==a)return a}return kv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kv(Fv(e.latitude),Fv(t.latitude));return 0!==n?n:kv(Fv(e.longitude),Fv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Jv(n[i],r[i]);if(a)return a}return kv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=kv(r[o],a[o]);if(0!==s)return s;var u=Jv(n[r[o]],i[a[o]]);if(0!==u)return u}return kv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw iv()}}function em(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kv(e,t);var n=Rv(e),r=Rv(t),i=kv(n.seconds,r.seconds);return 0!==i?i:kv(n.nanos,r.nanos)}function tm(e){return nm(e)}function nm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Rv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?zv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=wt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=nm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=wt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(nm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):iv();var t,n}function rm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function im(e){return!!e&&"integerValue"in e}function am(e){return!!e&&"arrayValue"in e}function om(e){return!!e&&"nullValue"in e}function sm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function um(e){return!!e&&"mapValue"in e}function lm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ev(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=lm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function cm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function hm(e){return"nullValue"in e?Zv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?rm(Wv.empty(),Yv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:iv()}function fm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?rm(Wv.empty(),Yv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Kv:iv()}function dm(e,t){return void 0===e?t:void 0===t||Jv(e,t)>0?e:t}function pm(e,t){return void 0===e?t:void 0===t||Jv(e,t)<0?e:t}var vm=function(){function e(t){kt(this,e),this.value=t}return He(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!um(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lm(t)}},{key:"setAll",value:function(e){var t=this,n=Dv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=lm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Qv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];um(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ev(t,(function(t,n){return e[t]=n}));var r,i=wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(lm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function mm(e){var t=[];return Ev(e.fields,(function(e,n){var r=new Dv([e]);if(um(n)){var i=mm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=wt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Lv(t)}var gm=function(){function e(t,n,r,i,a,o){kt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return He(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Tv.min(),Tv.min(),vm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Tv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Tv.min(),vm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Tv.min(),vm.empty(),2)}}]),e}(),ym=He((function e(t,n,r,i){kt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function _m(e){return e.fields.find((function(e){return 2===e.kind}))}function bm(e){return e.fields.filter((function(e){return 2!==e.kind}))}ym.UNKNOWN_ID=-1;var km=He((function e(t,n){kt(this,e),this.fieldPath=t,this.kind=n})),wm=function(){function e(t,n){kt(this,e),this.sequenceNumber=t,this.offset=n}return He(e,null,[{key:"empty",value:function(){return new e(0,Tm.min())}}]),e}();function xm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Tv.fromTimestamp(1e9===r?new Sv(n+1,0):new Sv(n,r));return new Tm(i,Yv.empty(),t)}function Sm(e){return new Tm(e.readTime,e.key,-1)}var Tm=function(){function e(t,n,r){kt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return He(e,null,[{key:"min",value:function(){return new e(Tv.min(),Yv.empty(),-1)}},{key:"max",value:function(){return new e(Tv.max(),Yv.empty(),-1)}}]),e}();function Im(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yv.comparator(e.documentKey,t.documentKey))?n:kv(e.largestBatchId,t.largestBatchId)}var Em=He((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;kt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function Cm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Em(e,t,n,r,i,a,o)}function Pm(e){var t=ov(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+tm(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),qv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return tm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return tm(e)})).join(",")),t.P=n}return t.P}function Mm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Qv(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Km(e.startAt,t.startAt)&&Km(e.endAt,t.endAt)}function Am(e){return Yv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Dm(e,t){return e.filters.filter((function(e){return e instanceof Om&&e.field.isEqual(t)}))}function Lm(e,t,n){var r,i,a=!0,o=wt(Dm(e,t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0,l=!0;switch(s.op){case"<":case"<=":u=hm(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,l=!1;break;case"!=":case"not-in":u=Zv}dm(r,u)===u&&(r=u,a=l)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var h=n.position[c];dm(r,h)===h&&(r=h,a=n.inclusive);break}return{value:r,inclusive:a}}function Nm(e,t,n){var r,i,a=!0,o=wt(Dm(e,t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0,l=!0;switch(s.op){case">=":case">":u=fm(s.value),l=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,l=!1;break;case"!=":case"not-in":u=Kv}pm(r,u)===u&&(r=u,a=l)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var h=n.position[c];pm(r,h)===h&&(r=h,a=n.inclusive);break}return{value:r,inclusive:a}}var Om=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return He(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Jv(t,this.value)):null!==t&&$v(this.value)===$v(t)&&this.v(Jv(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return iv()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Rm(e,t,r):"array-contains"===t?new Bm(e,r):"in"===t?new jm(e,r):"not-in"===t?new Um(e,r):"array-contains-any"===t?new Wm(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Fm(e,n):new zm(e,n)}}]),n}(function(){return He((function e(){kt(this,e)}))}()),Rm=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this,e,r,i)).key=Yv.fromName(i.referenceValue),a}return He(n,[{key:"matches",value:function(e){var t=Yv.comparator(e.key,this.key);return this.v(t)}}]),n}(Om),Fm=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,"in",r)).keys=Vm("in",r),i}return He(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Om),zm=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,"not-in",r)).keys=Vm("not-in",r),i}return He(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Om);function Vm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yv.fromName(e.referenceValue)}))}var Bm=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"array-contains",r)}return He(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return am(t)&&Xv(t.arrayValue,this.value)}}]),n}(Om),jm=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"in",r)}return He(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Xv(this.value.arrayValue,t)}}]),n}(Om),Um=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"not-in",r)}return He(n,[{key:"matches",value:function(e){if(Xv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Xv(this.value.arrayValue,t)}}]),n}(Om),Wm=function(e){xt(n,e);var t=Ct(n);function n(e,r){return kt(this,n),t.call(this,e,"array-contains-any",r)}return He(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Xv(t.value.arrayValue,e)}))}}]),n}(Om),qm=He((function e(t,n){kt(this,e),this.position=t,this.inclusive=n})),Hm=He((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";kt(this,e),this.field=t,this.dir=n}));function Gm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ym(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yv.comparator(Yv.fromName(o.referenceValue),n.key):Jv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Km(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qv(e.position[n],t.position[n]))return!1;return!0}var Zm=He((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;kt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function $m(e,t,n,r,i,a,o,s){return new Zm(e,t,n,r,i,a,o,s)}function Qm(e){return new Zm(e)}function Xm(e){return!qv(e.limit)&&"F"===e.limitType}function Jm(e){return!qv(e.limit)&&"L"===e.limitType}function eg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tg(e){var t,n=wt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ng(e){return null!==e.collectionGroup}function rg(e){var t=ov(e);if(null===t.D){t.D=[];var n=tg(t),r=eg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Hm(n)),t.D.push(new Hm(Dv.keyField(),"asc"));else{var i,a=!1,o=wt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Hm(Dv.keyField(),u))}}}return t.D}function ig(e){var t=ov(e);if(!t.C)if("F"===t.limitType)t.C=Cm(t.path,t.collectionGroup,rg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=wt(rg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Hm(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new qm(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new qm(t.startAt.position,!t.startAt.inclusive):null;t.C=Cm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function ag(e,t,n){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function og(e,t){return Mm(ig(e),ig(t))&&e.limitType===t.limitType}function sg(e){return"".concat(Pm(ig(e)),"|lt:").concat(e.limitType)}function ug(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(tm(t.value));var t})).join(", "),"]")),qv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return tm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return tm(e)})).join(",")),"Target(".concat(t,")")}(ig(e)),"; limitType=").concat(e.limitType,")")}function lg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=wt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=wt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ym(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ym(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rg(e),t))}(e,t)}function cg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hg(e){return function(t,n){var r,i=!1,a=wt(rg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=fg(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function fg(e,t,n){var r=e.field.isKeyField()?Yv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jv(r,i):iv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return iv()}}function dg(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hv(t)?"-0":t}}function pg(e){return{integerValue:""+e}}function vg(e,t){return Gv(t)?pg(t):dg(e,t)}var mg=He((function e(){kt(this,e),this._=void 0}));function gg(e,t,n){return e instanceof bg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kg?wg(e,t):e instanceof xg?Sg(e,t):function(e,t){var n=_g(e,t),r=Ig(n)+Ig(e.k);return im(n)&&im(e.k)?pg(r):dg(e.M,r)}(e,t)}function yg(e,t,n){return e instanceof kg?wg(e,t):e instanceof xg?Sg(e,t):n}function _g(e,t){return e instanceof Tg?im(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bg=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n)}(mg),kg=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).elements=e,r}return He(n)}(mg);function wg(e,t){var n,r=Eg(t),i=wt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Qv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xg=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).elements=e,r}return He(n)}(mg);function Sg(e,t){var n,r=Eg(t),i=wt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Qv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Tg=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).M=e,i.k=r,i}return He(n)}(mg);function Ig(e){return Fv(e.integerValue||e.doubleValue)}function Eg(e){return am(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cg=He((function e(t,n){kt(this,e),this.field=t,this.transform=n}));var Pg=He((function e(t,n){kt(this,e),this.version=t,this.transformResults=n})),Mg=function(){function e(t,n){kt(this,e),this.updateTime=t,this.exists=n}return He(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ag(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Dg=He((function e(){kt(this,e)}));function Lg(e,t,n){e instanceof zg?function(e,t,n){var r=e.value.clone(),i=jg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vg?function(e,t,n){if(Ag(e.precondition,t)){var r=jg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ng(e,t,n){e instanceof zg?function(e,t,n){if(Ag(e.precondition,t)){var r=e.value.clone(),i=Ug(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Fg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Vg?function(e,t,n){if(Ag(e.precondition,t)){var r=Ug(e.fieldTransforms,n,t),i=t.data;i.setAll(Bg(e)),i.setAll(r),t.convertToFoundDocument(Fg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ag(e.precondition,t)&&t.convertToNoDocument(Tv.min())}(e,t)}function Og(e,t){var n,r=null,i=wt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_g(a.transform,o||null);null!=s&&(null==r&&(r=vm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Rg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kg&&t instanceof kg||e instanceof xg&&t instanceof xg?wv(e.elements,t.elements,Qv):e instanceof Tg&&t instanceof Tg?Qv(e.k,t.k):e instanceof bg&&t instanceof bg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Fg(e){return e.isFoundDocument()?e.version:Tv.min()}var zg=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return kt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return He(n)}(Dg),Vg=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return kt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return He(n)}(Dg);function Bg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function jg(e,t,n){var r=new Map;av(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,yg(o,s,n[i]))}return r}function Ug(e,t,n){var r,i=new Map,a=wt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,gg(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Wg,qg,Hg=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return He(n)}(Dg),Gg=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return He(n)}(Dg),Yg=He((function e(t){kt(this,e),this.count=t}));function Kg(e){switch(e){default:return iv();case sv.CANCELLED:case sv.UNKNOWN:case sv.DEADLINE_EXCEEDED:case sv.RESOURCE_EXHAUSTED:case sv.INTERNAL:case sv.UNAVAILABLE:case sv.UNAUTHENTICATED:return!1;case sv.INVALID_ARGUMENT:case sv.NOT_FOUND:case sv.ALREADY_EXISTS:case sv.PERMISSION_DENIED:case sv.FAILED_PRECONDITION:case sv.ABORTED:case sv.OUT_OF_RANGE:case sv.UNIMPLEMENTED:case sv.DATA_LOSS:return!0}}function Zg(e){if(void 0===e)return tv("GRPC error has no .code"),sv.UNKNOWN;switch(e){case Wg.OK:return sv.OK;case Wg.CANCELLED:return sv.CANCELLED;case Wg.UNKNOWN:return sv.UNKNOWN;case Wg.DEADLINE_EXCEEDED:return sv.DEADLINE_EXCEEDED;case Wg.RESOURCE_EXHAUSTED:return sv.RESOURCE_EXHAUSTED;case Wg.INTERNAL:return sv.INTERNAL;case Wg.UNAVAILABLE:return sv.UNAVAILABLE;case Wg.UNAUTHENTICATED:return sv.UNAUTHENTICATED;case Wg.INVALID_ARGUMENT:return sv.INVALID_ARGUMENT;case Wg.NOT_FOUND:return sv.NOT_FOUND;case Wg.ALREADY_EXISTS:return sv.ALREADY_EXISTS;case Wg.PERMISSION_DENIED:return sv.PERMISSION_DENIED;case Wg.FAILED_PRECONDITION:return sv.FAILED_PRECONDITION;case Wg.ABORTED:return sv.ABORTED;case Wg.OUT_OF_RANGE:return sv.OUT_OF_RANGE;case Wg.UNIMPLEMENTED:return sv.UNIMPLEMENTED;case Wg.DATA_LOSS:return sv.DATA_LOSS;default:return iv()}}(qg=Wg||(Wg={}))[qg.OK=0]="OK",qg[qg.CANCELLED=1]="CANCELLED",qg[qg.UNKNOWN=2]="UNKNOWN",qg[qg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qg[qg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qg[qg.NOT_FOUND=5]="NOT_FOUND",qg[qg.ALREADY_EXISTS=6]="ALREADY_EXISTS",qg[qg.PERMISSION_DENIED=7]="PERMISSION_DENIED",qg[qg.UNAUTHENTICATED=16]="UNAUTHENTICATED",qg[qg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qg[qg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qg[qg.ABORTED=10]="ABORTED",qg[qg.OUT_OF_RANGE=11]="OUT_OF_RANGE",qg[qg.UNIMPLEMENTED=12]="UNIMPLEMENTED",qg[qg.INTERNAL=13]="INTERNAL",qg[qg.UNAVAILABLE=14]="UNAVAILABLE",qg[qg.DATA_LOSS=15]="DATA_LOSS";var $g=function(){function e(t,n){kt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return He(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=wt(n);try{for(i.s();!(r=i.n()).done;){var a=we(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ev(this.inner,(function(t,n){var r,i=wt(n);try{for(i.s();!(r=i.n()).done;){var a=we(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Qg=function(){function e(t,n){kt(this,e),this.comparator=t,this.root=n||Jg.EMPTY}return He(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Xg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Xg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Xg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Xg(this.root,e,this.comparator,!0)}}]),e}(),Xg=function(){function e(t,n,r,i){kt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return He(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Jg=function(){function e(t,n,r,i,a){kt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return He(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw iv();if(this.right.isRed())throw iv();var e=this.left.check();if(e!==this.right.check())throw iv();return e+(this.isRed()?0:1)}}]),e}();Jg.EMPTY=null,Jg.RED=!0,Jg.BLACK=!1,Jg.EMPTY=new(function(){function e(){kt(this,e),this.size=0}return He(e,[{key:"key",get:function(){throw iv()}},{key:"value",get:function(){throw iv()}},{key:"color",get:function(){throw iv()}},{key:"left",get:function(){throw iv()}},{key:"right",get:function(){throw iv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Jg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ey=function(){function e(t){kt(this,e),this.comparator=t,this.data=new Qg(this.comparator)}return He(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ty(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ty(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ty=function(){function e(t){kt(this,e),this.iter=t}return He(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ny(e){return e.hasNext()?e.getNext():void 0}var ry=new Qg(Yv.comparator);function iy(){return ry}var ay=new Qg(Yv.comparator);function oy(){return ay}function sy(){return new $g((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var uy=new Qg(Yv.comparator),ly=new ey(Yv.comparator);function cy(){for(var e=ly,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var hy=new ey(kv);function fy(){return hy}var dy=function(){function e(t,n,r,i,a){kt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return He(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,py.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Tv.min(),r,fy(),iy(),cy())}}]),e}(),py=function(){function e(t,n,r,i,a){kt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return He(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Nv.EMPTY_BYTE_STRING,n,cy(),cy(),cy())}}]),e}(),vy=He((function e(t,n,r,i){kt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),my=He((function e(t,n){kt(this,e),this.targetId=t,this.$=n})),gy=He((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;kt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yy=function(){function e(){kt(this,e),this.B=0,this.L=ky(),this.U=Nv.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return He(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=cy(),t=cy(),n=cy();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:iv()}})),new py(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=ky()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),_y=function(){function e(t){kt(this,e),this.nt=t,this.st=new Map,this.it=iy(),this.rt=by(),this.ot=new ey(kv)}return He(e,[{key:"ut",value:function(e){var t,n=wt(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=wt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:iv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Am(i))if(0===n){var a=new Yv(i.path);this.ct(t,a,gm.newNoDocument(a,Tv.min()))}else av(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Am(a.target)){var o=new Yv(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,gm.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=cy();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new dy(e,n,this.ot,this.it,r);return this.it=iy(),this.rt=by(),this.ot=new ey(kv),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new yy,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new ey(kv),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||ev("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new yy),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function by(){return new Qg(Yv.comparator)}function ky(){return new Qg(Yv.comparator)}var wy={asc:"ASCENDING",desc:"DESCENDING"},xy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sy=He((function e(t,n){kt(this,e),this.databaseId=t,this.N=n}));function Ty(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Iy(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ey(e,t){return Ty(e,t.toTimestamp())}function Cy(e){return av(!!e),Tv.fromTimestamp(function(e){var t=Rv(e);return new Sv(t.seconds,t.nanos)}(e))}function Py(e,t){return function(e){return new Mv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function My(e){var t=Mv.fromString(e);return av(Jy(t)),t}function Ay(e,t){return Py(e.databaseId,t.path)}function Dy(e,t){var n=My(t);if(n.get(1)!==e.databaseId.projectId)throw new uv(sv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new uv(sv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yv(Ry(n))}function Ly(e,t){return Py(e.databaseId,t)}function Ny(e){var t=My(e);return 4===t.length?Mv.emptyPath():Ry(t)}function Oy(e){return new Mv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ry(e){return av(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fy(e,t,n){return{name:Ay(e,t),fields:n.value.mapValue.fields}}function zy(e,t,n){var r=Dy(e,t.name),i=Cy(t.updateTime),a=new vm({mapValue:{fields:t.fields}}),o=gm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Vy(e,t){return"found"in t?function(e,t){av(!!t.found),t.found.name,t.found.updateTime;var n=Dy(e,t.found.name),r=Cy(t.found.updateTime),i=new vm({mapValue:{fields:t.found.fields}});return gm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){av(!!t.missing),av(!!t.readTime);var n=Dy(e,t.missing),r=Cy(t.readTime);return gm.newNoDocument(n,r)}(e,t):iv()}function By(e,t){var n;if(t instanceof zg)n={update:Fy(e,t.key,t.value)};else if(t instanceof Hg)n={delete:Ay(e,t.key)};else if(t instanceof Vg)n={update:Fy(e,t.key,t.data),updateMask:Xy(t.fieldMask)};else{if(!(t instanceof Gg))return iv();n={verify:Ay(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Tg)return{fieldPath:t.field.canonicalString(),increment:n.k};throw iv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ey(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:iv()}(e,t.precondition)),n}function jy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mg.updateTime(Cy(e.updateTime)):void 0!==e.exists?Mg.exists(e.exists):Mg.none()}(t.currentDocument):Mg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)av("REQUEST_TIME"===t.setToServerValue),n=new bg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new xg(i)}else"increment"in t?n=new Tg(e,t.increment):iv();var a=Dv.fromServerFormat(t.fieldPath);return new Cg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Dy(e,t.update.name),a=new vm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Lv(t.map((function(e){return Dv.fromServerFormat(e)})))}(t.updateMask);return new Vg(i,a,o,n,r)}return new zg(i,a,n,r)}if(t.delete){var s=Dy(e,t.delete);return new Hg(s,n)}if(t.verify){var u=Dy(e,t.verify);return new Gg(u,n)}return iv()}function Uy(e,t){return{documents:[Ly(e,t.path)]}}function Wy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ly(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ly(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(sm(e.value))return{unaryFilter:{field:Ky(e.field),op:"IS_NAN"}};if(om(e.value))return{unaryFilter:{field:Ky(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sm(e.value))return{unaryFilter:{field:Ky(e.field),op:"IS_NOT_NAN"}};if(om(e.value))return{unaryFilter:{field:Ky(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ky(e.field),op:Yy(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ky(e.field),direction:Gy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||qv(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qy(e){var t=Ny(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){av(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Hy(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Hm(Zy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return qv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new qm(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new qm(n,t)}(n.endAt)),$m(t,i,s,o,u,"F",l,c)}function Hy(e){return e?void 0!==e.unaryFilter?[Qy(e)]:void 0!==e.fieldFilter?[$y(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Hy(e)})).reduce((function(e,t){return e.concat(t)})):iv():[]}function Gy(e){return wy[e]}function Yy(e){return xy[e]}function Ky(e){return{fieldPath:e.canonicalString()}}function Zy(e){return Dv.fromServerFormat(e.fieldPath)}function $y(e){return Om.create(Zy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return iv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Qy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zy(e.unaryFilter.field);return Om.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zy(e.unaryFilter.field);return Om.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zy(e.unaryFilter.field);return Om.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zy(e.unaryFilter.field);return Om.create(i,"!=",{nullValue:"NULL_VALUE"});default:return iv()}}function Xy(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function e_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=n_(t)),t=t_(e.get(n),t);return n_(t)}function t_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function n_(e){return e+"\x01\x01"}function r_(e){var t=e.length;if(av(t>=2),2===t)return av("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&iv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:iv()}a=o+2}return new Mv(r)}var i_=["userId","batchId"];function a_(e,t){return[e,e_(t)]}function o_(e,t,n){return[e,e_(t),n]}var s_={},u_=["prefixPath","collectionGroup","readTime","documentId"],l_=["prefixPath","collectionGroup","documentId"],c_=["collectionGroup","readTime","prefixPath","documentId"],h_=["canonicalId","targetId"],f_=["targetId","path"],d_=["path","targetId"],p_=["collectionId","parent"],v_=["indexId","uid"],m_=["uid","sequenceNumber"],g_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y_=["indexId","uid","orderedDocumentKey"],__=["userId","collectionPath","documentId"],b_=["userId","collectionPath","largestBatchId"],k_=["userId","collectionGroup","largestBatchId"],w_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),x_=[].concat(Xe(w_),["documentOverlays"]),S_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],T_=[].concat(S_,["indexConfiguration","indexState","indexEntries"]),I_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E_=function(){function e(){kt(this,e),this.onCommittedListeners=[]}return He(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),C_=function(){function e(t){var n=this;kt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return He(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&iv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=wt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),P_=function(){function e(t,n){var r=this;kt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new lv,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new D_(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=F_(e.target.error);r.At.reject(new D_(t,n))}}return He(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(ev("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new N_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new D_(n,t)}}}]),e}(),M_=function(){function e(t,n,r){kt(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(Vt())&&tv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return He(e,[{key:"Nt",value:function(){var e=ge(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ev("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new D_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new uv(sv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new uv(sv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new D_(t,n))},i.onupgradeneeded=function(e){ev("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){ev("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ge(Se().mark((function e(t,n,r,i){var a,o,s,u,l=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Se().mark((function e(){var n,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Nt(t);case 2:return l.db=e.sent,n=P_.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),C_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,ev("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ev("SimpleDb","Removing database:",e),O_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Ht())return!1;if(e.St())return!0;var t=Vt(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),A_=function(){function e(t){kt(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return He(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return O_(this.Ft.delete())}}]),e}(),D_=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,sv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return He(n)}(uv);function L_(e){return"IndexedDbTransactionError"===e.name}var N_=function(){function e(t){kt(this,e),this.store=t}return He(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ev("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ev("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),O_(n)}},{key:"add",value:function(e){return ev("SimpleDb","ADD",this.store.name,e,e),O_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return O_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ev("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ev("SimpleDb","DELETE",this.store.name,e),O_(this.store.delete(e))}},{key:"count",value:function(){return ev("SimpleDb","COUNT",this.store.name),O_(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new C_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new C_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){ev("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new C_((function(n,r){t.onerror=function(e){var t=F_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new C_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new A_(i),o=t(i.primaryKey,i.value,a);if(o instanceof C_){var s=o.catch((function(e){return a.done(),C_.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return C_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function O_(e){return new C_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=F_(e.target.error);n(t)}}))}var R_=!1;function F_(e){var t=M_.Vt(Vt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new uv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return R_||(R_=!0,setTimeout((function(){throw r}),0)),r}}return e}var z_=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return He(n)}(E_);function V_(e,t){var n=ov(e);return M_.xt(n.Ht,t)}var B_=function(){function e(t,n,r,i){kt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return He(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Lg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=wt(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ng(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=wt(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Ng(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tv.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),cy())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&wv(this.mutations,e.mutations,(function(e,t){return Rg(e,t)}))&&wv(this.baseMutations,e.baseMutations,(function(e,t){return Rg(e,t)}))}}]),e}(),j_=function(){function e(t,n,r,i){kt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return He(e,null,[{key:"from",value:function(t,n,r){av(t.mutations.length===r.length);for(var i=uy,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),U_=function(){function e(t,n){kt(this,e),this.largestBatchId=t,this.mutation=n}return He(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),W_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nv.EMPTY_BYTE_STRING;kt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return He(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),q_=He((function e(t){kt(this,e),this.Jt=t}));function H_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:G_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ay(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ty(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Y_(t.version)};else{if(!t.isUnknownDocument())return iv();r.unknownDocument={path:n.path.toArray(),version:Y_(t.version)}}return r}function G_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Y_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function K_(e){var t=new Sv(e.seconds,e.nanoseconds);return Tv.fromTimestamp(t)}function Z_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return jy(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return jy(e.Jt,t)})),s=Sv.fromMillis(t.localWriteTimeMs);return new B_(t.batchId,s,n,o)}function $_(e){var t,n,r=K_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?K_(e.lastLimboFreeSnapshotVersion):Tv.min();return void 0!==e.query.documents?(av(1===(n=e.query).documents.length),t=ig(Qm(Ny(n.documents[0])))):t=function(e){return ig(qy(e))}(e.query),new W_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nv.fromBase64String(e.resumeToken))}function Q_(e,t){var n,r=Y_(t.snapshotVersion),i=Y_(t.lastLimboFreeSnapshotVersion);n=Am(t.target)?Uy(e.Jt,t.target):Wy(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Pm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function X_(e){var t=qy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ag(t,t.limit,"L"):t}function J_(e,t){return new U_(t.largestBatchId,jy(e.Jt,t.overlayMutation))}function eb(e,t){var n=t.path.lastSegment();return[e,e_(t.path.popLast()),n]}var tb=function(){function e(){kt(this,e)}return He(e,[{key:"getBundleMetadata",value:function(e,t){return nb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:K_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return nb(e).put({bundleId:(n=t).id,createTime:Y_(Cy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return rb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:X_(t.bundledQuery),readTime:K_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return rb(e).put(function(e){return{name:e.name,readTime:Y_(Cy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function nb(e){return V_(e,"bundles")}function rb(e){return V_(e,"namedQueries")}var ib=function(){function e(t,n){kt(this,e),this.M=t,this.userId=n}return He(e,[{key:"getOverlay",value:function(e,t){var n=this;return ab(e).get(eb(this.userId,t)).next((function(e){return e?J_(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new U_(t,a);i.push(r.Xt(e,o))})),C_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(e_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(ab(e).Qt("collectionPathOverlayIndex",i))})),C_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=sy(),a=e_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ab(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=wt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=J_(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=sy(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ab(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=J_(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return ab(e).put(function(e,t,n){var r=we(eb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:By(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function ab(e){return V_(e,"documentOverlays")}var ob=function(){function e(){kt(this,e)}return He(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Fv(e.integerValue));else if("doubleValue"in e){var n=Fv(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Hv(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(zv(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?cm(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):iv()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Yv.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function sb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ub(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=sb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ob.fe=new ob;var lb=function(){function e(){kt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return He(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=wt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=wt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=ub(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=ub(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),cb=function(){function e(t){kt(this,e),this.De=t}return He(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),hb=function(){function e(t){kt(this,e),this.De=t}return He(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),fb=function(){function e(){kt(this,e),this.De=new lb,this.Ce=new cb(this.De),this.xe=new hb(this.De)}return He(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),db=function(){function e(t,n,r,i){kt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return He(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function pb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=vb(e.arrayValue,t.arrayValue))?n:0!==(n=vb(e.directionalValue,t.directionalValue))?n:Yv.comparator(e.documentKey,t.documentKey)}function vb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var mb=function(){function e(t){kt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=wt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return He(e,[{key:"$e",value:function(e){var t=_m(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=bm(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=wt(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),gb=function(){function e(){kt(this,e),this.qe=new yb}return He(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),C_.resolve()}},{key:"getCollectionParents",value:function(e,t){return C_.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return C_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return C_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return C_.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return C_.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return C_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return C_.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return C_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return C_.resolve()}}]),e}(),yb=function(){function e(){kt(this,e),this.index={}}return He(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ey(Mv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ey(Mv.comparator)).toArray()}}]),e}(),_b=new Uint8Array(0),bb=function(){function e(t,n){kt(this,e),this.user=t,this.databaseId=n,this.Ke=new yb,this.Ge=new $g((function(e){return Pm(e)}),(function(e,t){return Mm(e,t)})),this.uid=t.uid||""}return He(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:e_(i)};return kb(e).put(a)}return C_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xv(t),""],!1,!0);return kb(e).qt(r).next((function(e){var r,i=wt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(r_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=xb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=xb(e),r=Sb(e),i=wb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=wb(e),i=!0,a=new Map;return C_.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=cy(),o=[];return C_.forEach(a,(function(i,a){var s;ev("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Pm(t)));var u=function(e,t){var n=_m(t);if(void 0===n)return null;var r,i=wt(Dm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=wt(bm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=wt(Dm(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=wt(bm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Lm(e,o.fieldPath,e.startAt):Nm(e,o.fieldPath,e.startAt);if(!s.value)return null;r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new qm(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=wt(bm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Nm(e,o.fieldPath,e.endAt):Lm(e,o.fieldPath,e.endAt);if(!s.value)return null;r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new qm(r,i)}(a,i),f=n.je(i,a,c),d=n.je(i,a,h),p=n.We(i,a,l),v=n.ze(i.indexId,u,f,!!c&&c.inclusive,d,!!h&&h.inclusive,p);return C_.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Yv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return C_.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),l=u/(null!=t?t.length:1),c=[],h=function(u){var h=t?s.He(t[u/l]):_b,f=n?s.Je(e,h,n[u%l],r):s.Ye(e),d=i?s.Xe(e,h,i[u%l],a):s.Ye(e+1);c.push.apply(c,Xe(s.createRange(f,d,o.map((function(t){return s.Je(e,h,t,!0)})))))},f=0;f<u;++f)h(f);return c}},{key:"Je",value:function(e,t,n,r){var i=new db(e,Yv.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new db(e,Yv.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new db(e,Yv.empty(),_b,_b)}},{key:"getFieldIndex",value:function(e,t){var n=new mb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new fb,i=wt(bm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);ob.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new fb;return ob.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new fb;return ob.fe.Zt(rm(this.databaseId,t),n.Ne(function(e){var t=bm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new fb);var i,a=0,o=wt(bm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,l=n[a++],c=wt(r);try{for(c.s();!(s=c.n()).done;){var h=s.value;if(this.en(t,u.fieldPath)&&am(l))r=this.nn(r,u,l);else{var f=h.Ne(u.kind);ob.fe.Zt(l,f)}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Xe(e),a=[],o=wt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,l=wt(i);try{for(l.s();!(s=l.n()).done;){var c=s.value,h=new fb;h.seed(c.Se()),ob.fe.Zt(u,h.Ne(t.kind)),a.push(h)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Om&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=xb(e),i=Sb(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return C_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new wm(t.sequenceNumber,new Tm(K_(t.readTime),new Yv(r_(t.documentKey)),t.largestBatchId)):wm.empty(),r=e.fields.map((function(e){var t=we(e,2),n=t[0],r=t[1];return new km(Dv.fromServerFormat(n),r)}));return new ym(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=xb(e),a=Sb(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return C_.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Y_(r.readTime),documentKey:e_(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return C_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?C_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),C_.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?C_.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return wb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return wb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=wb(e),i=new ey(pb);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new db(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new ey(pb),r=this.Ze(t,e);if(null==r)return n;var i=_m(t);if(null!=i){var a=e.data.field(i.fieldPath);if(am(a)){var o,s=wt(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new db(t.indexId,e.key,this.He(u),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new db(t.indexId,e.key,_b,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;ev("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=ny(a),u=ny(o);s||u;){var l=!1,c=!1;if(s&&u){var h=n(s,u);h<0?c=!0:h>0&&(l=!0)}else null!=s?c=!0:l=!0;l?(r(u),u=ny(o)):c?(i(s),s=ny(a)):(s=ny(a),u=ny(o))}}(r,i,pb,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),C_.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Sb(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return pb(e,t)})).filter((function(e,t,n){return!t||0!==pb(e,n[t-1])}));var r=[];r.push(e);var i,a=wt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=pb(o,e),u=pb(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],c=0;c<r.length;c+=2)l.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,_b,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,_b,[]]));return l}}]),e}();function kb(e){return V_(e,"collectionParents")}function wb(e){return V_(e,"indexEntries")}function xb(e){return V_(e,"indexConfiguration")}function Sb(e){return V_(e,"indexState")}var Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ib=function(){function e(t,n,r){kt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return He(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Eb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){av(1===s)})));var l,c=[],h=wt(n.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=o_(t,f.key.path,n.batchId);a.push(i.delete(d)),c.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return C_.waitFor(a).next((function(){return c}))}function Cb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw iv();t=e.noDocument}return JSON.stringify(t).length}Ib.DEFAULT_COLLECTION_PERCENTILE=10,Ib.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ib.DEFAULT=new Ib(41943040,Ib.DEFAULT_COLLECTION_PERCENTILE,Ib.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ib.DISABLED=new Ib(-1,0,0);var Pb=function(){function e(t,n,r,i){kt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return He(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ab(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Db(e),o=Ab(e);return o.add({}).next((function(s){av("number"==typeof s);var u,l=new B_(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return By(e.Jt,t)})),i=n.mutations.map((function(t){return By(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,l),h=[],f=new ey((function(e,t){return kv(e.canonicalString(),t.canonicalString())})),d=wt(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=o_(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(c)),h.push(a.put(v,s_))}}catch(m){d.e(m)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=l.keys()})),C_.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ab(e).get(t).next((function(e){return e?(av(e.userId===n.userId),Z_(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?C_.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ab(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(av(t.batchId>=r),a=Z_(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ab(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ab(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Z_(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=a_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Db(e).Wt({range:i},(function(r,i,o){var s=we(r,3),u=s[0],l=s[1],c=s[2],h=r_(l);if(u===n.userId&&t.path.isEqual(h))return Ab(e).get(c).next((function(e){if(!e)throw iv();av(e.userId===n.userId),a.push(Z_(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ey(kv),i=[];return t.forEach((function(t){var a=a_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Db(e).Wt({range:o},(function(e,i,a){var o=we(e,3),s=o[0],u=o[1],l=o[2],c=r_(u);s===n.userId&&t.path.isEqual(c)?r=r.add(l):a.done()}));i.push(s)})),C_.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=a_(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new ey(kv);return Db(e).Wt({range:o},(function(e,t,a){var o=we(e,3),u=o[0],l=o[1],c=o[2],h=r_(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ab(e).get(t).next((function(e){if(null===e)throw iv();av(e.userId===n.userId),r.push(Z_(n.M,e))})))})),C_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Eb(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),C_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return C_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Db(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=r_(e[1]);i.push(a)}else r.done()})).next((function(){av(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Mb(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Lb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return av(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Mb(e,t,n){var r=a_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Db(e).Wt({range:a,jt:!0},(function(e,n,r){var a=we(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Ab(e){return V_(e,"mutations")}function Db(e){return V_(e,"documentMutations")}function Lb(e){return V_(e,"mutationQueues")}var Nb=function(){function e(t){kt(this,e),this.mn=t}return He(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Ob=function(){function e(t,n){kt(this,e),this.referenceDelegate=t,this.M=n}return He(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Nb(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Tv.fromTimestamp(new Sv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Rb(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return av(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Rb(e).Wt((function(o,s){var u=$_(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return C_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Rb(e).Wt((function(e,n){var r=$_(n);t(r)}))}},{key:"pn",value:function(e){return Fb(e).get("targetGlobalKey").next((function(e){return av(null!==e),e}))}},{key:"In",value:function(e,t){return Fb(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Rb(e).put(Q_(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Pm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rb(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=$_(n);Mm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zb(e);return t.forEach((function(t){var o=e_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),C_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zb(e);return C_.forEach(t,(function(t){var a=e_(t.path);return C_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zb(e),i=cy();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=r_(e[1]),a=new Yv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=e_(t.path),r=IDBKeyRange.bound([n],[xv(n)],!1,!0),i=0;return zb(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=we(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Rb(e).get(t).next((function(e){return e?$_(e):null}))}}]),e}();function Rb(e){return V_(e,"targets")}function Fb(e){return V_(e,"targetGlobal")}function zb(e){return V_(e,"targetDocuments")}function Vb(e){return Bb.apply(this,arguments)}function Bb(){return Bb=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===sv.FAILED_PRECONDITION&&t.message===I_){e.next=2;break}throw t;case 2:ev("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function jb(e,t){var n=we(e,2),r=n[0],i=n[1],a=we(t,2),o=a[0],s=a[1],u=kv(r,o);return 0===u?kv(i,s):u}var Ub=function(){function e(t){kt(this,e),this.An=t,this.buffer=new ey(jb),this.Rn=0}return He(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();jb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Wb=function(){function e(t,n){kt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return He(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;ev("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ge(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!L_(n.t0)){n.next=12;break}ev("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Vb(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),qb=function(){function e(t,n){kt(this,e),this.Dn=t,this.params=n}return He(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return C_.resolve(yv.A);var r=new Ub(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ev("LruGarbageCollector","Garbage collection skipped; disabled"),C_.resolve(Tb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ev("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Tb):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,s,u,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(ev("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Jp()<=mn.DEBUG&&ev("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-c,"ms")),C_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Hb=function(){function e(t,n){kt(this,e),this.db=t,this.garbageCollector=function(e,t){return new qb(e,t)}(this,n)}return He(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Gb(e,n)}},{key:"removeReference",value:function(e,t,n){return Gb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Gb(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Lb(e).zt((function(r){return Mb(e,r,t).next((function(e){return e&&(n=!0),C_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,s){if(s<=t){var u=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Tv.min()),zb(e).delete([0,e_(o.path)])}))}));i.push(u)}})).next((function(){return C_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Gb(e,t)}},{key:"Mn",value:function(e,t){var n,r=zb(e),i=yv.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=we(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==yv.A&&t(new Yv(r_(n)),i),i=u,n=s):i=yv.A})).next((function(){i!==yv.A&&t(new Yv(r_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Gb(e,t){return zb(e).put(function(e,t){return{targetId:0,path:e_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Yb=function(){function e(){kt(this,e),this.changes=new $g((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return He(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,gm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?C_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Kb=function(){function e(t){kt(this,e),this.M=t}return He(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Qb(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Qb(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],G_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=gm.newInvalidDocument(t);return Qb(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xb(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:gm.newInvalidDocument(t)};return Qb(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xb(t))},(function(e,i){r={document:n.$n(t,i),size:Cb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=iy();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=iy(),i=new Qg(Yv.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,Cb(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return C_.resolve();var r=new ey(ek);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Xb(r.first()),Xb(r.last())),a=r.getIterator(),o=a.getNext();return Qb(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Yv.fromSegments([].concat(Xe(t.prefixPath),[t.collectionGroup,t.documentId]));o&&ek(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Xb(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),G_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qb(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=iy(),i=wt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Yv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=iy(),o=Jb(t,n),s=Jb(t,Tm.max());return Qb(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.$n(Yv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Zb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return $b(e).get("remoteDocumentGlobalKey").next((function(e){return av(!!e),e}))}},{key:"Fn",value:function(e,t){return $b(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=zy(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yv.fromSegments(t.noDocument.path),i=K_(t.noDocument.readTime);n=gm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return iv();var a=Yv.fromSegments(t.unknownDocument.path),o=K_(t.unknownDocument.version);n=gm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Sv(e[0],e[1]);return Tv.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Tv.min()))return n}return gm.newInvalidDocument(e)}}]),e}(),Zb=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new $g((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return He(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ey((function(e,t){return kv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=H_(t.Kn.M,o);i=i.add(a.path.popLast());var l=Cb(u);r+=l-s.size,n.push(t.Kn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var c=H_(t.Kn.M,o.convertToNoDocument(Tv.min()));n.push(t.Kn.addEntry(e,a,c))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),C_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Yb);function $b(e){return V_(e,"remoteDocumentGlobal")}function Qb(e){return V_(e,"remoteDocumentsV14")}function Xb(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jb(e,t){var n=t.documentKey.path.toArray();return[e,G_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ek(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=kv(n[a],r[a]))return i;return(i=kv(n.length,r.length))||((i=kv(n[n.length-2],r[r.length-2]))||kv(n[n.length-1],r[r.length-1]))}var tk=function(){function e(t){kt(this,e),this.M=t}return He(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new P_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i_,{unique:!0}),e.createObjectStore("documentMutations")}(e),nk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=C_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),nk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return C_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:__});t.createIndex("collectionPathOverlayIndex",b_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",k_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:u_});t.createIndex("documentKeyIndex",l_),t.createIndex("collectionGroupIndex",c_)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:v_}).createIndex("sequenceNumberIndex",m_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:g_}).createIndex("documentKeyIndex",y_,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Cb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return C_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return C_.forEach(r,(function(r){av(r.userId===n.userId);var i=Z_(t.M,r);return Eb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Mv(n),o=function(e){return[0,e_(e)]}(a);r.push(t.get(o).next((function(n){return n?C_.resolve():function(n){return t.put({targetId:0,path:e_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return C_.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:p_});var n=t.store("collectionParents"),r=new yb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:e_(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Mv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=we(e,3),r=(n[0],n[1]),a=(n[2],r_(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=$_(r),a=Q_(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Yv(Mv.fromString(i.document.name).popFirst(5)):i.noDocument?Yv.fromSegments(i.noDocument.path):i.unknownDocument?Yv.fromSegments(i.unknownDocument.path):iv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return C_.waitFor(r)}))}}]),e}();function nk(e){e.createObjectStore("targetDocuments",{keyPath:f_}).createIndex("documentTargetsIndex",d_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",h_,{unique:!0}),e.createObjectStore("targetGlobal")}var rk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ik=function(){function e(t,n,r,i,a,o,s,u,l,c){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(kt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=s,this.Xn=l,this.Zn=c,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new uv(sv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hb(this,i),this.hs=n+"main",this.M=new q_(u),this.ls=new M_(this.hs,this.ts,new tk(this.M)),this.fs=new Ob(this.referenceDelegate,this.M),this.ds=function(e){return new Kb(e)}(this.M),this._s=new tb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===c&&tv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return He(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new uv(sv.FAILED_PRECONDITION,rk);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new yv(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=ge(Se().mark((function n(r){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=ge(Se().mark((function t(n){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ok(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(L_(t))return ev("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ev("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return ak(e).get("owner").next((function(e){return C_.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return ok(e).delete(this.clientId)}},{key:"vs",value:function(){var e=ge(Se().mark((function e(){var t,n,r,i,a=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=V_(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return C_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=wt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?C_.resolve(!0):ak(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new uv(sv.FAILED_PRECONDITION,rk);return!1}}return!(!t.networkEnabled||!t.inForeground)||ok(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ev("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ge(Se().mark((function e(){var t=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new z_(e,yv.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ok(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return Pb.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new bb(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ib.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ev("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.ts)?T_:13===i?S_:12===i?x_:11===i?w_:void iv();return this.ls.runTransaction(e,o,s,(function(i){return a=new z_(i,r.es?r.es.next():yv.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw tv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new uv(sv.FAILED_PRECONDITION,I_);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return ak(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new uv(sv.FAILED_PRECONDITION,rk)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ak(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=ak(e);return n.get("owner").next((function(e){return t.bs(e)?(ev("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):C_.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(tv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!jt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ev("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return tv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Zc){tv("Failed to set zombie client id.",Zc)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Zc){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return M_.vt()}}]),e}();function ak(e){return V_(e,"owner")}function ok(e){return V_(e,"clientMetadata")}function sk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var uk=function(){function e(t,n,r){kt(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return He(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=wt(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=wt(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Yv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):ng(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Yv(t)).next((function(e){var t=oy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=oy();return this.indexManager.getCollectionParents(e,i).next((function(o){return C_.forEach(o,(function(o){var s=function(e,t){return new Zm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=wt(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=wt(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,l=r.get(u);null==l&&(l=gm.newInvalidDocument(u),r=r.insert(u,l)),Ng(s,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){lg(t,n)||(r=r.remove(e))})),r}))}}]),e}(),lk=function(){function e(t,n,r,i){kt(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return He(e,null,[{key:"Ys",value:function(t,n){var r,i=cy(),a=cy(),o=wt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ck=function(){function e(){kt(this,e)}return He(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Tv.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Xm(t)||Jm(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Jp()<=mn.DEBUG&&ev("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ug(t)),i.Zs.Qs(e,t,xm(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new ey(hg(e));return t.forEach((function(t,r){lg(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Jp()<=mn.DEBUG&&ev("QueryEngine","Using full collection scan to execute query:",ug(t)),this.Zs.Qs(e,t,Tm.min())}}]),e}(),hk=function(){function e(t,n,r,i){kt(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Qg(kv),this.ri=new $g((function(e){return Pm(e)}),Mm),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return He(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new uk(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function fk(e,t,n,r){return new hk(e,t,n,r)}function dk(e,t){return pk.apply(this,arguments)}function pk(){return pk=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=cy(),u=wt(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,h=wt(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=wt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=wt(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(_){g.e(_)}finally{g.f()}}}catch(_){p.e(_)}finally{p.f()}return r.ci.Ks(e,s).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){var n=ov(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=C_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);av(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function mk(e){var t=ov(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function gk(e,t){var n=ov(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Nv.EMPTY_BYTE_STRING,Tv.min()).withLastLimboFreeSnapshotVersion(Tv.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.fs.updateTargetData(e,l))}}));var s=iy();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(yk(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Tv.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return C_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ii=i,e}))}function yk(e,t,n){var r=cy();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=iy();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Tv.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ev("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function _k(e,t){var n=ov(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function bk(e,t){var n=ov(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,C_.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new W_(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function kk(e,t,n){return wk.apply(this,arguments)}function wk(){return wk=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ov(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),L_(e.t1)){e.next=12;break}throw e.t1;case 12:ev("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),wk.apply(this,arguments)}function xk(e,t,n){var r=ov(e),i=Tv.min(),a=cy();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ov(e),i=r.ri.get(n);return void 0!==i?C_.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,ig(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Tv.min(),n?a:cy())})).next((function(e){return Ik(r,cg(t),e),{documents:e,li:a}}))}))}function Sk(e,t){var n=ov(e),r=ov(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Tk(e,t){var n=ov(e),r=n.oi.get(t)||Tv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,xm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ik(n,t,e),e}))}function Ik(e,t,n){var r=Tv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function Ek(e,t,n,r){return Ck.apply(this,arguments)}function Ck(){return Ck=ge(Se().mark((function e(t,n,r,i){var a,o,s,u,l,c,h,f,d,p;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ov(t),o=cy(),s=iy(),u=wt(r);try{for(u.s();!(l=u.n()).done;)c=l.value,h=n.fi(c.metadata.name),c.document&&(o=o.add(h)),(f=n.di(c)).setReadTime(n._i(c.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,bk(a,function(e){return ig(Qm(Mv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return yk(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Pk(e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=ge(Se().mark((function e(t,n){var r,i,a,o=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:cy(),e.next=3,bk(t,ig(X_(n.bundledQuery)));case 3:return i=e.sent,a=ov(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Cy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Nv.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}var Ak=function(){function e(t){kt(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return He(e,[{key:"getBundleMetadata",value:function(e,t){return C_.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:Cy(n.createTime)}),C_.resolve()}},{key:"getNamedQuery",value:function(e,t){return C_.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:X_(e.bundledQuery),readTime:Cy(e.readTime)}}(t)),C_.resolve()}}]),e}(),Dk=function(){function e(){kt(this,e),this.overlays=new Qg(Yv.comparator),this.gi=new Map}return He(e,[{key:"getOverlay",value:function(e,t){return C_.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),C_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),C_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=sy(),i=t.length+1,a=new Yv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return C_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Qg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=sy(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=sy(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return C_.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new U_(t,n));var a=this.gi.get(t);void 0===a&&(a=cy(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),Lk=function(){function e(){kt(this,e),this.yi=new ey(Nk.pi),this.Ii=new ey(Nk.Ti)}return He(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Nk(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Nk(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Yv(new Mv([])),r=new Nk(n,e),i=new Nk(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Yv(new Mv([])),n=new Nk(t,e),r=new Nk(t,e+1),i=cy();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Nk(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Nk=function(){function e(t,n){kt(this,e),this.key=t,this.vi=n}return He(e,null,[{key:"pi",value:function(e,t){return Yv.comparator(e.key,t.key)||kv(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return kv(e.vi,t.vi)||Yv.comparator(e.key,t.key)}}]),e}(),Ok=function(){function e(t,n){kt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new ey(Nk.pi)}return He(e,[{key:"checkEmpty",value:function(e){return C_.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new B_(i,t,n,r);this.Bs.push(a);var o,s=wt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Di=this.Di.add(new Nk(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return C_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return C_.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return C_.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return C_.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return C_.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Nk(t,0),i=new Nk(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),C_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ey(kv);return t.forEach((function(e){var t=new Nk(e,0),i=new Nk(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),C_.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yv.isDocumentKey(i)||(i=i.child(""));var a=new Nk(new Yv(i),0),o=new ey(kv);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),C_.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;av(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return C_.forEach(t.mutations,(function(i){var a=new Nk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Nk(t,0),r=this.Di.firstAfterOrEqual(n);return C_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,C_.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Rk=function(){function e(t){kt(this,e),this.Mi=t,this.docs=new Qg(Yv.comparator),this.size=0}return He(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return C_.resolve(n?n.document.mutableCopy():gm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=iy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():gm.newInvalidDocument(e))})),C_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=iy(),i=new Yv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Im(Sm(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return C_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){iv()}},{key:"Oi",value:function(e,t){return C_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Fk(this)}},{key:"getSize",value:function(e){return C_.resolve(this.size)}}]),e}(),Fk=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).Kn=e,r}return He(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),C_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Yb),zk=function(){function e(t){kt(this,e),this.persistence=t,this.Fi=new $g((function(e){return Pm(e)}),Mm),this.lastRemoteSnapshotVersion=Tv.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Lk,this.targetCount=0,this.Li=Nb.gn()}return He(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),C_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return C_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return C_.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),C_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),C_.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new Nb(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,C_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),C_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,C_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),C_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return C_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return C_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),C_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),C_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),C_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return C_.resolve(n)}},{key:"containsKey",value:function(e,t){return C_.resolve(this.Bi.containsKey(t))}}]),e}(),Vk=function(){function e(t,n){var r=this;kt(this,e),this.Ui={},this.overlays={},this.es=new yv(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new zk(this),this.indexManager=new gb,this.ds=new Rk((function(e){return r.referenceDelegate.qi(e)})),this.M=new q_(n),this._s=new Ak(this.M)}return He(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Ok(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ev("MemoryPersistence","Starting transaction:",e);var i=new Bk(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return C_.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bk=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return He(n)}(E_),jk=function(){function e(t){kt(this,e),this.persistence=t,this.ji=new Lk,this.Wi=null}return He(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw iv()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),C_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),C_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),C_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C_.forEach(this.Hi,(function(r){var i=Yv.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Tv.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return C_.or([function(){return C_.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function Uk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Wk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function qk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Hk=function(){function e(t,n,r,i){kt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return He(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new uv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(tv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Gk=function(){function e(t,n,r){kt(this,e),this.targetId=t,this.state=n,this.error=r}return He(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new uv(i.error.code,i.error.message))),a?new e(t,i.state,r):(tv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Yk=function(){function e(t,n){kt(this,e),this.clientId=t,this.activeTargetIds=n}return He(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=fy(),o=0;i&&o<r.activeTargetIds.length;++o)i=Gv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(tv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Kk=function(){function e(t,n){kt(this,e),this.clientId=t,this.onlineState=n}return He(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(tv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Zk=function(){function e(){kt(this,e),this.activeTargetIds=fy()}return He(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),$k=function(){function e(t,n,r,i,a){kt(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Qg(kv),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=Uk(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new Zk),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return He(e,[{key:"start",value:function(){var e=ge(Se().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h,f=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=wt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Uk(this.persistenceKey,i)))&&(o=Yk.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(s=this.storage.getItem(this.dr))&&(u=this.mr(s))&&this.gr(u),l=wt(this.rr);try{for(l.s();!(c=l.n()).done;)h=c.value,this.sr(h)}catch(d){l.e(d)}finally{l.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(qk(this.persistenceKey,e));if(n){var r=Gk.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(qk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ev("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ev("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ev("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ev("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void tv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(ge(Se().mark((function e(){var r,i,a,o,s,u,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}u=function(e){var t=yv.A;if(null!=e)try{var n=JSON.parse(e);av("number"==typeof n),t=n}catch(e){tv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==yv.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return l=t.Nr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new Hk(this.currentUser,e,t,n),i=Wk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=Wk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=qk(this.persistenceKey,e),i=new Gk(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return Yk.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Hk.Yi(new $p(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return Gk.Yi(r,t)}},{key:"mr",value:function(e){return Kk.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:ev("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Fr(o,s).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=fy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Qk=function(){function e(){kt(this,e),this.$r=new Zk,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return He(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Zk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Xk=function(){function e(){kt(this,e)}return He(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Jk=function(){function e(){var t=this;kt(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return He(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){ev("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=wt(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){ev("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=wt(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ew={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tw=function(){function e(t){kt(this,e),this.Wr=t.Wr,this.zr=t.zr}return He(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),nw=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return He(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Kp;o.listenOnce(Wp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Up.NO_ERROR:var t=o.getResponseJson();ev("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Up.TIMEOUT:ev("Connection",'RPC "'+e+'" timed out'),a(new uv(sv.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:var n=o.getStatus();if(ev("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(sv).indexOf(t)>=0?t:sv.UNKNOWN}(r.status);a(new uv(s,r.message))}else a(new uv(sv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new uv(sv.UNAVAILABLE,"Connection failed."));break;default:iv()}}finally{ev("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Bp(),a=jp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Gp({})),this.ao(o.initMessageHeaders,t,n),Bt()||Wt()||Vt().indexOf("Electron/")>=0||qt()||Vt().indexOf("MSAppHost/")>=0||Ut()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ev("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,h=new tw({Wr:function(e){c?ev("Connection","Not sending because WebChannel is closed:",e):(l||(ev("Connection","Opening WebChannel transport."),u.open(),l=!0),ev("Connection","WebChannel sending:",e),u.send(e))},zr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Yp.EventType.OPEN,(function(){c||ev("Connection","WebChannel transport opened.")})),f(u,Yp.EventType.CLOSE,(function(){c||(c=!0,ev("Connection","WebChannel transport closed"),h.no())})),f(u,Yp.EventType.ERROR,(function(e){c||(c=!0,nv("Connection","WebChannel transport errored:",e),h.no(new uv(sv.UNAVAILABLE,"The operation could not be completed")))})),f(u,Yp.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];av(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ev("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Wg[e];if(void 0!==t)return Zg(t)}(a),s=i.message;void 0===o&&(o=sv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,h.no(new uv(o,s)),u.close()}else ev("Connection","WebChannel received:",n),h.so(n)}})),f(a,qp.STAT_EVENT,(function(e){e.stat===Hp.PROXY?ev("Connection","Detected buffering proxy"):e.stat===Hp.NOPROXY&&ev("Connection","Detected no buffering proxy")})),setTimeout((function(){h.eo()}),0),h}}]),n}(function(){function e(t){kt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return He(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);ev("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return ev("RestConnection","Received: ",e),e}),(function(t){throw nv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=ew[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function rw(){return"undefined"!=typeof window?window:null}function iw(){return"undefined"!=typeof document?document:null}function aw(e){return new Sy(e,!0)}var ow=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;kt(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return He(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&ev("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),sw=function(){function e(t,n,r,i,a,o,s,u){kt(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new ow(t,n)}return He(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===sv.RESOURCE_EXHAUSTED?(tv(n.toString()),tv("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===sv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=we(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new uv(sv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return ev("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(ev("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),uw=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a,o,s){var u;return kt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return He(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:iv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(av(void 0===t||"string"==typeof t),Nv.fromBase64String(t||"")):(av(void 0===t||t instanceof Uint8Array),Nv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?sv.UNKNOWN:Zg(e.code);return new uv(t,e.message||"")}(o);n=new gy(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Dy(e,u.document.name),c=Cy(u.document.updateTime),h=new vm({mapValue:{fields:u.document.fields}}),f=gm.newFoundDocument(l,c,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new vy(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Dy(e,v.document),g=v.readTime?Cy(v.readTime):Tv.min(),y=gm.newNoDocument(m,g),_=v.removedTargetIds||[];n=new vy([],_,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var k=Dy(e,b.document),w=b.removedTargetIds||[];n=new vy([],w,k,null)}else{if(!("filter"in t))return iv();t.filter;var x=t.filter;x.targetId;var S=x.count||0,T=new Yg(S),I=x.targetId;n=new my(I,T)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Tv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Tv.min():t.readTime?Cy(t.readTime):Tv.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Oy(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Am(r)?{documents:Uy(e,r)}:{query:Wy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Iy(e,t.resumeToken):t.snapshotVersion.compareTo(Tv.min())>0&&(n.readTime=Ty(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return iv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Oy(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(sw),lw=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a,o,s){var u;return kt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.zo=!1,u}return He(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,kr(St(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(av(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(av(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Cy(e.updateTime):Cy(t);return n.isEqual(Tv.min())&&(n=Cy(t)),new Pg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Cy(e.commitTime);return this.listener.Yo(n,t)}return av(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Oy(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return By(t.M,e)}))};this.Fo(n)}}]),n}(sw),cw=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a){var o;return kt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return He(n,[{key:"eu",value:function(){if(this.tu)throw new uv(sv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=we(i,2),o=a[0],s=a[1];return r.bo.oo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new uv(sv.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=we(i,2),o=a[0],s=a[1];return r.bo.ho(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new uv(sv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return He((function e(){kt(this,e)}))}()),hw=function(){function e(t,n){kt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return He(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(tv(t),this.iu=!1):ev("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),fw=He((function e(t,n,r,i,a){var o=this;kt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xw(o),!e.t0){e.next=5;break}return ev("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ov(t)).fu.add(4),e.next=4,vw(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,dw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new hw(r,i)}));function dw(e){return pw.apply(this,arguments)}function pw(){return pw=ge(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xw(t)){e.next=18;break}n=wt(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),pw.apply(this,arguments)}function vw(e){return mw.apply(this,arguments)}function mw(){return mw=ge(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wt(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),mw.apply(this,arguments)}function gw(e,t){var n=ov(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),ww(n)?kw(n):Xw(n).xo()&&_w(n,t))}function yw(e,t){var n=ov(e),r=Xw(n);n.lu.delete(t),r.xo()&&bw(n,t),0===n.lu.size&&(r.xo()?r.Mo():xw(n)&&n.wu.set("Unknown"))}function _w(e,t){e.mu.Z(t.targetId),Xw(e).jo(t)}function bw(e,t){e.mu.Z(t),Xw(e).Wo(t)}function kw(e){e.mu=new _y({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Xw(e).start(),e.wu.ru()}function ww(e){return xw(e)&&!Xw(e).Co()&&e.lu.size>0}function xw(e){return 0===ov(e).fu.size}function Sw(e){e.mu=void 0}function Tw(e){return Iw.apply(this,arguments)}function Iw(){return Iw=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){_w(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Ew(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sw(t),ww(t)?(t.wu.au(n),kw(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Pw(e,t,n){return Mw.apply(this,arguments)}function Mw(){return Mw=ge(Se().mark((function e(t,n,r){var i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof gy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=wt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ev("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Aw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof vy?t.mu.ut(n):n instanceof my?t.mu._t(n):t.mu.ht(n),r.isEqual(Tv.min())){e.next=29;break}return e.prev=14,e.next=17,mk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Nv.EMPTY_BYTE_STRING,n.snapshotVersion)),bw(e,t);var r=new W_(n.target,t,1,n.sequenceNumber);_w(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ev("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Aw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Mw.apply(this,arguments)}function Aw(e,t,n){return Dw.apply(this,arguments)}function Dw(){return Dw=ge(Se().mark((function e(t,n,r){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L_(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,vw(t);case 5:t.wu.set("Offline"),r||(r=function(){return mk(t.localStore)}),t.asyncQueue.enqueueRetryable(ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ev("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,dw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Dw.apply(this,arguments)}function Lw(e,t){return t().catch((function(n){return Aw(e,n,t)}))}function Nw(e){return Ow.apply(this,arguments)}function Ow(){return Ow=ge(Se().mark((function e(t){var n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ov(t),r=Jw(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!Rw(n)){e.next=19;break}return e.prev=3,e.next=6,_k(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,Fw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Aw(n,e.t0);case 17:e.next=2;break;case 19:zw(n)&&Vw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ow.apply(this,arguments)}function Rw(e){return xw(e)&&e.hu.length<10}function Fw(e,t){e.hu.push(t);var n=Jw(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function zw(e){return xw(e)&&!Jw(e).Co()&&e.hu.length>0}function Vw(e){Jw(e).start()}function Bw(e){return jw.apply(this,arguments)}function jw(){return jw=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jw(t).Zo();case 1:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Uw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=ge(Se().mark((function e(t){var n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jw(t),r=wt(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function qw(e,t,n){return Hw.apply(this,arguments)}function Hw(){return Hw=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=j_.from(i,n,r),e.next=3,Lw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nw(t);case 5:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Gw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=ge(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Jw(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kg(i=n.code)||i===sv.ABORTED){e.next=7;break}return r=t.hu.shift(),Jw(t).ko(),e.next=5,Lw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zw(t)&&Vw(t);case 5:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Kw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ov(t)).asyncQueue.verifyOperationInProgress(),ev("RemoteStore","RemoteStore received new credentials"),i=xw(r),r.fu.add(3),e.next=6,vw(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,dw(r);case 12:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function $w(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ov(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,dw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,vw(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Xw(e){return e.gu||(e.gu=function(e,t,n){var r=ov(e);return r.eu(),new uw(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Tw.bind(null,e),Yr:Ew.bind(null,e),Qo:Pw.bind(null,e)}),e.du.push(function(){var t=ge(Se().mark((function t(n){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),ww(e)?kw(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:Sw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function Jw(e){return e.yu||(e.yu=function(e,t,n){var r=ov(e);return r.eu(),new lw(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Bw.bind(null,e),Yr:Gw.bind(null,e),Xo:Uw.bind(null,e),Yo:qw.bind(null,e)}),e.du.push(function(){var t=ge(Se().mark((function t(n){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,Nw(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(ev("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var ex=function(){function e(t,n,r,i,a){kt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new lv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return He(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uv(sv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function tx(e,t){if(tv("AsyncQueue","".concat(t,": ").concat(e)),L_(e))return new uv(sv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var nx=function(){function e(t){kt(this,e),this.comparator=t?function(e,n){return t(e,n)||Yv.comparator(e.key,n.key)}:function(e,t){return Yv.comparator(e.key,t.key)},this.keyedMap=oy(),this.sortedSet=new Qg(this.comparator)}return He(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),rx=function(){function e(){kt(this,e),this.pu=new Qg(Yv.comparator)}return He(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):iv():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ix=function(){function e(t,n,r,i,a,o,s,u){kt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return He(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,nx.emptySet(n),a,r,i,!0,!1)}}]),e}(),ax=He((function e(){kt(this,e),this.Tu=void 0,this.listeners=[]})),ox=He((function e(){kt(this,e),this.queries=new $g((function(e){return sg(e)}),og),this.onlineState="Unknown",this.Eu=new Set}));function sx(e,t){return ux.apply(this,arguments)}function ux(){return ux=ge(Se().mark((function e(t,n){var r,i,a,o,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ov(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ax),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=tx(e.t0,"Initialization of query '".concat(ug(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&dx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ux.apply(this,arguments)}function lx(e,t){return cx.apply(this,arguments)}function cx(){return cx=ge(Se().mark((function e(t,n){var r,i,a,o,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ov(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function hx(e,t){var n,r=ov(e),i=!1,a=wt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=wt(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Ru(o)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.Tu=o}}}catch(h){a.e(h)}finally{a.f()}i&&dx(r)}function fx(e,t,n){var r=ov(e),i=r.queries.get(t);if(i){var a,o=wt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function dx(e){e.Eu.forEach((function(e){e.next()}))}var px=function(){function e(t,n,r){kt(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return He(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=wt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ix(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=ix.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),vx=function(){function e(t,n){kt(this,e),this.payload=t,this.byteLength=n}return He(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),mx=function(){function e(t){kt(this,e),this.M=t}return He(e,[{key:"fi",value:function(e){return Dy(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?zy(this.M,e.document,!1):gm.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return Cy(e)}}]),e}(),gx=function(){function e(t,n,r){kt(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yx(t)}return He(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Mv.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new mx(this.M),i=wt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.fi(a.metadata.name),u=wt(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=(n.get(l)||cy()).add(s);n.set(l,c)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ge(Se().mark((function e(){var t,n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ek(this.localStore,new mx(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=wt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Pk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function yx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _x=He((function e(t){kt(this,e),this.key=t})),bx=He((function e(t){kt(this,e),this.key=t})),kx=function(){function e(t,n){kt(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=cy(),this.mutatedKeys=cy(),this.Uu=hg(t),this.qu=new nx(this.Uu)}return He(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new rx,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Xm(this.query)&&i.size===this.query.limit?i.last():null,l=Jm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=lg(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.ju(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Uu(h,u)>0||l&&n.Uu(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Xm(this.query)||Jm(this.query))for(;o.size>this.query.limit;){var c=Xm(this.query)?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{qu:o,Qu:r,ni:s,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return iv()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],s=0===this.Lu.size&&this.current?1:0,u=s!==this.Bu;return this.Bu=s,0!==a.length||u?{snapshot:new ix(this.query,e.qu,i,a,e.mutatedKeys,0===s,u,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new rx,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=cy(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new bx(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new _x(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=cy();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return ix.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),wx=He((function e(t,n,r){kt(this,e),this.query=t,this.targetId=n,this.view=r})),xx=He((function e(t){kt(this,e),this.key=t,this.Zu=!1})),Sx=function(){function e(t,n,r,i,a,o){kt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new $g((function(e){return sg(e)}),og),this.na=new Map,this.sa=new Set,this.ia=new Qg(Yv.comparator),this.ra=new Map,this.oa=new Lk,this.ua={},this.aa=new Map,this.ca=Nb.yn(),this.onlineState="Unknown",this.ha=void 0}return He(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function Tx(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=ge(Se().mark((function e(t,n){var r,i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yS(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,bk(r.localStore,ig(n));case 8:return s=e.sent,r.isPrimaryClient&&gw(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Ex(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Ex(e,t,n,r){return Cx.apply(this,arguments)}function Cx(){return Cx=ge(Se().mark((function e(t,n,r,i){var a,o,s,u,l,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=ge(Se().mark((function e(t,n,r,i){var a,o,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,xk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Kx(t,n.targetId,s.Hu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,xk(t.localStore,n,!0);case 3:return a=e.sent,o=new kx(n,a.li),s=o.Gu(a.documents),u=py.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),Kx(t,r,l.Hu),c=new wx(n,r,o),e.abrupt("return",(t.ea.set(n,c),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Px(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ov(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!og(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,kk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),yw(r.remoteStore,i.targetId),Gx(r,i.targetId)})).catch(Vb);case 9:e.next=14;break;case 11:return Gx(r,i.targetId),e.next=14,kk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Ax(e,t,n){return Dx.apply(this,arguments)}function Dx(){return Dx=ge(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_S(t),e.prev=1,e.next=4,function(e,t){var n,r=ov(e),i=Sv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),cy());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,s=[],u=wt(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Og(l,n.get(l.key));null!=c&&s.push(new Vg(l.key,c,mm(c.value.mapValue),Mg.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Qg(kv)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Qx(i,a.changes);case 9:return e.next=11,Nw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=tx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Dx.apply(this,arguments)}function Lx(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),e.prev=1,e.next=4,gk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(av(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?av(n.Zu):e.removedDocuments.size>0&&(av(n.Zu),n.Zu=!1))})),e.next=8,Qx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Vb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Nx.apply(this,arguments)}function Ox(e,t,n){var r=ov(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ov(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=wt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&dx(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Rx(e,t,n){return Fx.apply(this,arguments)}function Fx(){return Fx=ge(Se().mark((function e(t,n,r){var i,a,o,s,u,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ov(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Qg(Yv.comparator)).insert(o,gm.newNoDocument(o,Tv.min())),u=cy().add(o),l=new dy(Tv.min(),new Map,new ey(kv),s,u),e.next=9,Lx(i,l);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),$x(i),e.next=16;break;case 14:return e.next=16,kk(i.localStore,n,!1).then((function(){return Gx(i,n,r)})).catch(Vb);case 16:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function zx(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),i=n.batch.batchId,e.prev=1,e.next=4,vk(r.localStore,n);case 4:return a=e.sent,Hx(r,i,null),qx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Qx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Vx.apply(this,arguments)}function Bx(e,t,n){return jx.apply(this,arguments)}function jx(){return jx=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ov(t),e.prev=1,e.next=4,function(e,t){var n=ov(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return av(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Hx(i,n,r),qx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Qx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jx.apply(this,arguments)}function Ux(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=ge(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xw((r=ov(t)).remoteStore)||ev("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ov(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=tx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Wx.apply(this,arguments)}function qx(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function Hx(e,t,n){var r=ov(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Gx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=wt(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||Yx(e,t)}))}function Yx(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(yw(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),$x(e))}function Kx(e,t,n){var r,i=wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _x?(e.oa.addReference(a.key,t),Zx(e,a)):a instanceof bx?(ev("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||Yx(e,a.key)):iv()}}catch(o){i.e(o)}finally{i.f()}}function Zx(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(ev("SyncEngine","New document in limbo: "+n),e.sa.add(r),$x(e))}function $x(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Yv(Mv.fromString(t)),r=e.ca.next();e.ra.set(r,new xx(n)),e.ia=e.ia.insert(n,r),gw(e.remoteStore,new W_(ig(Qm(n.path)),r,2,yv.A))}}function Qx(e,t,n){return Xx.apply(this,arguments)}function Xx(){return Xx=ge(Se().mark((function e(t,n,r){var i,a,o,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ov(t),a=[],o=[],s=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){s.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=lk.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ta.Qo(a),e.next=9,function(){var e=ge(Se().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return C_.forEach(n,(function(t){return C_.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return C_.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),L_(e.t0)){e.next=10;break}throw e.t0;case 10:ev("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=wt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ii.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.ii=r.ii.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Jx(e,t){return eS.apply(this,arguments)}function eS(){return eS=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ov(t)).currentUser.isEqual(n)){e.next=11;break}return ev("SyncEngine","User change. New user:",n.toKey()),e.next=5,dk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new uv(sv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Qx(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){var n=ov(e),r=n.ra.get(t);if(r&&r.Zu)return cy().add(r.key);var i=cy(),a=n.na.get(t);if(!a)return i;var o,s=wt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ea.get(u);i=i.unionWith(l.view.Ku)}}catch(c){s.e(c)}finally{s.f()}return i}function nS(e,t){return rS.apply(this,arguments)}function rS(){return rS=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),e.next=3,xk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&Kx(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=ge(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),e.abrupt("return",Tk(r.localStore,n).then((function(e){return Qx(r,e)})));case 2:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e,t,n,r){return sS.apply(this,arguments)}function sS(){return sS=ge(Se().mark((function e(t,n,r,i){var a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ov(t),e.next=3,function(e,t){var n=ov(e),r=ov(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):C_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Nw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Hx(a,n,i||null),qx(a,n),function(e,t){ov(ov(e).Bs)._n(t)}(a.localStore,n)):iv();case 11:return e.next=13,Qx(a,o);case 13:e.next=16;break;case 15:ev("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function uS(e,t){return lS.apply(this,arguments)}function lS(){return lS=ge(Se().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yS(r=ov(t)),_S(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,cS(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,$w(r.remoteStore,!0);case 9:o=wt(a);try{for(o.s();!(s=o.n()).done;)u=s.value,gw(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return l=[],c=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return Gx(r,t),kk(r.localStore,t,!0)})),yw(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,cS(r,l);case 21:return function(e){var t=ov(e);t.ra.forEach((function(e,n){yw(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Qg(Yv.comparator)}(r),r.ha=!1,e.next=25,$w(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function cS(e,t,n){return hS.apply(this,arguments)}function hS(){return hS=ge(Se().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f,d,p,v,m,g;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ov(t),a=[],o=[],s=wt(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(l=u.value,c=void 0,!(h=i.na.get(l))||0===h.length){e.next=34;break}return e.next=11,bk(i.localStore,ig(h[0]));case 11:c=e.sent,f=wt(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,nS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Sk(i.localStore,l);case 36:return g=e.sent,e.next=39,bk(i.localStore,g);case 39:return c=e.sent,e.next=42,Ex(i,fS(g),l,!1);case 42:a.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),hS.apply(this,arguments)}function fS(e){return $m(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dS(e){var t=ov(e);return ov(ov(t.localStore).persistence).Fs()}function pS(e,t,n,r){return vS.apply(this,arguments)}function vS(){return vS=ge(Se().mark((function e(t,n,r,i){var a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ov(t)).ha){e.next=3;break}return e.abrupt("return",void ev("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Tk(a.localStore,cg(o[0]));case 10:return s=e.sent,u=dy.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Qx(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,kk(a.localStore,n,!0);case 17:return Gx(a,n,i),e.abrupt("break",20);case 19:iv();case 20:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t,n){return gS.apply(this,arguments)}function gS(){return gS=ge(Se().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=yS(t)).ha){e.next=45;break}a=wt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.na.has(s)){e.next=10;break}return ev("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Sk(i.localStore,s);case 12:return u=e.sent,e.next=15,bk(i.localStore,u);case 15:return l=e.sent,e.next=18,Ex(i,fS(u),l.targetId,!1);case 18:gw(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:c=wt(r),e.prev=30,f=Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,kk(i.localStore,t,!1).then((function(){yw(i.remoteStore,t),Gx(i,t)})).catch(Vb);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((h=c.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),gS.apply(this,arguments)}function yS(e){var t=ov(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rx.bind(null,t),t.ta.Qo=hx.bind(null,t.eventManager),t.ta.fa=fx.bind(null,t.eventManager),t}function _S(e){var t=ov(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bx.bind(null,t),t}function bS(e,t,n){var r=ov(e);(function(){var e=ge(Se().mark((function e(t,n,r){var i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ov(e),r=Cy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(yx(i)),a=new gx(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Qx(t,u.Fu,void 0);case 31:return e.next=33,function(e,t){var n=ov(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(nv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var kS=function(){function e(){kt(this,e),this.synchronizeTabs=!1}return He(e,[{key:"initialize",value:function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=aw(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return fk(this.persistence,new ck,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Vk(jk.zi,this.M)}},{key:"_a",value:function(e){return new Qk}},{key:"terminate",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wS=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return He(n,[{key:"initialize",value:function(){var e=ge(Se().mark((function e(t){var r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(St(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,_S(this.ya.syncEngine);case 6:return e.next=8,Nw(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return fk(this.persistence,new ck,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Wb(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=sk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ib.withCacheSize(this.cacheSizeBytes):Ib.DEFAULT;return new ik(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,rw(),iw(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new Qk}}]),n}(kS),xS=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return He(n,[{key:"initialize",value:function(){var e=ge(Se().mark((function e(t){var r,i=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(St(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof $k,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:oS.bind(null,r),Or:pS.bind(null,r),Fr:mS.bind(null,r),Fs:dS.bind(null,r),kr:iS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uS(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=rw();if(!$k.vt(t))throw new uv(sv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $k(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(wS),SS=function(){function e(){kt(this,e)}return He(e,[{key:"initialize",value:function(){var e=ge(Se().mark((function e(t,n){var r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ox(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jx.bind(null,this.syncEngine),e.next=12,$w(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ox}},{key:"createDatastore",value:function(e){var t,n=aw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new nw(t));return function(e,t,n,r){return new cw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ox(o.syncEngine,e,0)},a=Jk.vt()?new Jk:new Xk,new fw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Sx(e,t,n,r,i,a);return o&&(s.ha=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ov(t),ev("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,vw(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function TS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ge(Se().mark((function r(){var i;return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var IS=function(){function e(t){kt(this,e),this.observer=t,this.muted=!1}return He(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ES=function(){function e(t,n){var r=this;kt(this,e),this.Ta=t,this.M=n,this.metadata=new lv,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return He(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=ge(Se().mark((function e(){var t,n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new vx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=ge(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=ge(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CS=function(){function e(t){kt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return He(e,[{key:"lookup",value:function(){var e=ge(Se().mark((function e(t){var n,r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new uv(sv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ge(Se().mark((function e(t,n){var r,i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),i=Oy(r.M)+"/documents",a={documents:n.map((function(e){return Ay(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Vy(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());av(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Hg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ge(Se().mark((function e(){var t,n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yv.fromPath(t);n.mutations.push(new Gg(r,n.precondition(r)))})),e.next=7,function(){var e=ge(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t),i=Oy(r.M)+"/documents",a={writes:n.map((function(e){return By(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw iv();t=Tv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new uv(sv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mg.updateTime(t):Mg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tv.min()))throw new uv(sv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mg.updateTime(t)}return Mg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),PS=function(){function e(t,n,r,i){kt(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new ow(this.asyncQueue,"transaction_retry")}return He(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(ge(Se().mark((function t(){var n,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new CS(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!qv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Kg(t)}return!1}}]),e}(),MS=function(){function e(t,n,r,i){var a=this;kt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$p.UNAUTHENTICATED,this.clientId=bv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ev("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ev("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return He(e,[{key:"getConfiguration",value:function(){var e=ge(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new uv(sv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new lv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ge(Se().mark((function n(){var r;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=tx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function AS(e,t){return DS.apply(this,arguments)}function DS(){return DS=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ev("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,dk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function LS(e,t){return NS.apply(this,arguments)}function NS(){return NS=ge(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,OS(t);case 3:return r=e.sent,ev("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Kw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Kw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function OS(e){return RS.apply(this,arguments)}function RS(){return RS=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ev("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,AS(t,new kS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function FS(e){return zS.apply(this,arguments)}function zS(){return zS=ge(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ev("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,LS(t,new SS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function VS(e){return OS(e).then((function(e){return e.persistence}))}function BS(e){return OS(e).then((function(e){return e.localStore}))}function jS(e){return FS(e).then((function(e){return e.remoteStore}))}function US(e){return FS(e).then((function(e){return e.syncEngine}))}function WS(e){return qS.apply(this,arguments)}function qS(){return qS=ge(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Tx.bind(null,n.syncEngine),r.onUnlisten=Px.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function HS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function i(){return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IS({next:function(a){t.enqueueAndForget((function(){return lx(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new uv(sv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new uv(sv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new px(Qm(n.path),a,{includeMetadataChanges:!0,Cu:!0});return sx(e,o)},i.next=3,WS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function GS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function i(){return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IS({next:function(n){t.enqueueAndForget((function(){return lx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new uv(sv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new px(n,a,{includeMetadataChanges:!0,Cu:!0});return sx(e,o)},i.next=3,WS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var YS=new Map;function KS(e,t,n){if(!n)throw new uv(sv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ZS(e,t,n,r){if(!0===t&&!0===r)throw new uv(sv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function $S(e){if(!Yv.isDocumentKey(e))throw new uv(sv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QS(e){if(Yv.isDocumentKey(e))throw new uv(sv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function XS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":iv()}function JS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new uv(sv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=XS(e);throw new uv(sv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function eT(e,t){if(t<=0)throw new uv(sv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var tT=function(){function e(t){var n;if(kt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new uv(sv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uv(sv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return He(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nT=function(){function e(t,n,r){kt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tT({}),this._settingsFrozen=!1,t instanceof Wv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new uv(sv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wv(e.options.projectId)}(t))}return He(e,[{key:"app",get:function(){if(!this._app)throw new uv(sv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new uv(sv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new hv;switch(e.type){case"gapi":var t=e.client;return av(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new vv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new uv(sv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YS.get(e);t&&(ev("ComponentProvider","Removing Datastore"),YS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function rT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=JS(e,nT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&nv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=$p.MOCK_USER;else{o=zt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new uv(sv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new $p(u)}e._authCredentials=new fv(new cv(o,s))}}var iT=function(){function e(t,n,r){kt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return He(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new oT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),aT=function(){function e(t,n,r){kt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return He(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),oT=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this,e,r,Qm(i)))._path=i,a.type="collection",a}return He(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new iT(this.firestore,null,new Yv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(aT);function sT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),KS("collection","path",t),e instanceof nT){var a=Mv.fromString.apply(Mv,[t].concat(r));return QS(a),new oT(e,null,a)}if(!(e instanceof iT||e instanceof oT))throw new uv(sv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return QS(o),new oT(e.firestore,null,o)}function uT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),1===arguments.length&&(t=bv.R()),KS("doc","path",t),e instanceof nT){var a=Mv.fromString.apply(Mv,[t].concat(r));return $S(a),new iT(e,null,new Yv(a))}if(!(e instanceof iT||e instanceof oT))throw new uv(sv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return $S(o),new iT(e.firestore,e instanceof oT?e.converter:null,new Yv(o))}function lT(e,t){return e=on(e),t=on(t),(e instanceof iT||e instanceof oT)&&(t instanceof iT||t instanceof oT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cT(e,t){return e=on(e),t=on(t),e instanceof aT&&t instanceof aT&&e.firestore===t.firestore&&og(e._query,t._query)&&e.converter===t.converter}var hT=function(){function e(){var t=this;kt(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new ow(this,"async_queue_retry"),this.qa=function(){var e=iw();e&&ev("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=iw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return He(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=iw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new lv;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=ge(Se().mark((function e(){var t=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),L_(e.t0)){e.next=12;break}throw e.t0;case 12:ev("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw tv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=ex.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&iv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=ge(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=wt(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=wt(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function fT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=wt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var dT=function(){function e(){kt(this,e),this._progressObserver={},this._taskCompletionResolver=new lv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return He(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),pT=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new hT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return He(n,[{key:"_terminate",value:function(){return this._firestoreClient||mT(this),this._firestoreClient.terminate()}}]),n}(nT);function vT(e){return e._firestoreClient||mT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Uv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new MS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function gT(e,t,n){var r=new lv;return e.asyncQueue.enqueue(ge(Se().mark((function i(){return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,AS(e,n);case 3:return i.next=5,LS(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===sv.FAILED_PRECONDITION||e.code===sv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function yT(e){return function(e){return e.asyncQueue.enqueue(ge(Se().mark((function t(){var n,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VS(e);case 2:return n=t.sent,t.next=5,jS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ov(e);return t.fu.delete(0),dw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(vT(e=JS(e,pT)))}function _T(e){return function(e){return e.asyncQueue.enqueue(ge(Se().mark((function t(){var n,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VS(e);case 2:return n=t.sent,t.next=5,jS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ov(t)).fu.add(0),e.next=4,vw(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(vT(e=JS(e,pT)))}function bT(e,t){var n=vT(e=JS(e,pT)),r=new dT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ES(e,t)}(function(e,t){if(e instanceof Uint8Array)return TS(e,t);if(e instanceof ArrayBuffer)return TS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,aw(t));e.asyncQueue.enqueueAndForget(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bS,t.next=3,US(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function kT(e,t){return function(e,t){return e.asyncQueue.enqueue(ge(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ov(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,BS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(vT(e=JS(e,pT)),t).then((function(t){return t?new aT(e,null,t.query):null}))}function wT(e){if(e._initialized||e._terminated)throw new uv(sv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xT=function(){function e(){kt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new uv(sv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dv(n)}return He(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ST=function(){function e(t){kt(this,e),this._byteString=t}return He(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nv.fromBase64String(t))}catch(t){throw new uv(sv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nv.fromUint8Array(t))}}]),e}(),TT=He((function e(t){kt(this,e),this._methodName=t})),IT=function(){function e(t,n){if(kt(this,e),!isFinite(t)||t<-90||t>90)throw new uv(sv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new uv(sv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return He(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return kv(this._lat,e._lat)||kv(this._long,e._long)}}]),e}(),ET=/^__.*__$/,CT=function(){function e(t,n,r){kt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return He(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Vg(e,this.data,this.fieldMask,t,this.fieldTransforms):new zg(e,this.data,t,this.fieldTransforms)}}]),e}(),PT=function(){function e(t,n,r){kt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return He(e,[{key:"toMutation",value:function(e,t){return new Vg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function MT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw iv()}}var AT=function(){function e(t,n,r,i,a,o){kt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return He(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return QT(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(MT(this.Xa)&&ET.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),DT=function(){function e(t,n,r){kt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||aw(t)}return He(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new AT({Xa:e,methodName:t,uc:n,path:Dv.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function LT(e){var t=e._freezeSettings(),n=aw(e._databaseId);return new DT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function NT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);YT("Data must be an object, but it was:",o,r);var s,u,l=HT(r,o);if(a.merge)s=new Lv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,h=[],f=wt(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=KT(t,d,n);if(!o.contains(p))throw new uv(sv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));XT(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new Lv(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new CT(new vm(l),s,u)}var OT=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TT);function RT(e,t,n){return new AT({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var FT=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"_toFieldTransform",value:function(e){return new Cg(e.path,new bg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TT),zT=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e)).cc=r,i}return He(n,[{key:"_toFieldTransform",value:function(e){var t=RT(this,e,!0),n=this.cc.map((function(e){return qT(e,t)})),r=new kg(n);return new Cg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TT),VT=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e)).cc=r,i}return He(n,[{key:"_toFieldTransform",value:function(e){var t=RT(this,e,!0),n=this.cc.map((function(e){return qT(e,t)})),r=new xg(n);return new Cg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TT),BT=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e)).hc=r,i}return He(n,[{key:"_toFieldTransform",value:function(e){var t=new Tg(e.M,vg(e.M,this.hc));return new Cg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TT);function jT(e,t,n,r){var i=e.ac(1,t,n);YT("Data must be an object, but it was:",i,r);var a=[],o=vm.empty();Ev(r,(function(e,r){var s=$T(t,e,n);r=on(r);var u=i.sc(s);if(r instanceof OT)a.push(s);else{var l=qT(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Lv(a);return new PT(o,s,i.fieldTransforms)}function UT(e,t,n,r,i,a){var o=e.ac(1,t,n),s=[KT(t,r,n)],u=[i];if(a.length%2!=0)throw new uv(sv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(KT(t,a[l])),u.push(a[l+1]);for(var c=[],h=vm.empty(),f=s.length-1;f>=0;--f)if(!XT(c,s[f])){var d=s[f],p=u[f];p=on(p);var v=o.sc(d);if(p instanceof OT)c.push(d);else{var m=qT(p,v);null!=m&&(c.push(d),h.set(d,m))}}var g=new Lv(c);return new PT(h,g,o.fieldTransforms)}function WT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qT(n,e.ac(r?4:3,t))}function qT(e,t){if(GT(e=on(e)))return YT("Unsupported field value:",t,e),HT(e,t);if(e instanceof TT)return function(e,t){if(!MT(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=wt(e);try{for(a.s();!(n=a.n()).done;){var o=qT(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=on(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vg(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Sv.fromDate(e);return{timestampValue:Ty(t.M,n)}}if(e instanceof Sv){var r=new Sv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ty(t.M,r)}}if(e instanceof IT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ST)return{bytesValue:Iy(t.M,e._byteString)};if(e instanceof iT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Py(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(XS(e)))}(e,t)}function HT(e,t){var n={};return Cv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ev(e,(function(e,r){var i=qT(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sv||e instanceof IT||e instanceof ST||e instanceof iT||e instanceof TT)}function YT(e,t,n){if(!GT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=XS(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function KT(e,t,n){if((t=on(t))instanceof xT)return t._internalPath;if("string"==typeof t)return $T(e,t);throw QT("Field path arguments must be of type string or ",e,!1,void 0,n)}var ZT=new RegExp("[~\\*/\\[\\]]");function $T(e,t,n){if(t.search(ZT)>=0)throw QT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Pt(xT,Xe(t.split(".")))._internalPath}catch(r){throw QT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function QT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new uv(sv.INVALID_ARGUMENT,s+e+u)}function XT(e,t){return e.some((function(e){return e.isEqual(t)}))}var JT=function(){function e(t,n,r,i,a){kt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return He(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new iT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new eI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),eI=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"data",value:function(){return kr(St(n.prototype),"data",this).call(this)}}]),n}(JT);function tI(e,t){return"string"==typeof t?$T(e,t):t instanceof xT?t._internalPath:t._delegate._internalPath}var nI=function(){function e(t,n){kt(this,e),this.hasPendingWrites=t,this.fromCache=n}return He(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),rI=function(e){xt(n,e);var t=Ct(n);function n(e,r,i,a,o,s){var u;return kt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return He(n,[{key:"exists",value:function(){return kr(St(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new iI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(JT),iI=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kr(St(n.prototype),"data",this).call(this,e)}}]),n}(rI),aI=function(){function e(t,n,r,i){kt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new nI(i.hasPendingWrites,i.fromCache),this.query=r}return He(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new iI(n._firestore,n._userDataWriter,r.key,r,new nI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new uv(sv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new iI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new iI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:oI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function oI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return iv()}}function sI(e,t){return e instanceof rI&&t instanceof rI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aI&&t instanceof aI&&e._firestore===t._firestore&&cT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uI(e){if(Jm(e)&&0===e.explicitOrderBy.length)throw new uv(sv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lI=He((function e(){kt(this,e)}));function cI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var hI=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return He(n,[{key:"_apply",value:function(e){var t=LT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new uv(sv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){wI(o,a);var u,l=[],c=wt(o);try{for(c.s();!(u=c.n()).done;){var h=u.value;l.push(kI(r,e,h))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=kI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||wI(o,a),s=WT(n,"where",o,"in"===a||"not-in"===a);var f=Om.create(i,a,s);return function(e,t){if(t.S()){var n=tg(e);if(null!==n&&!n.isEqual(t.field))throw new uv(sv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=eg(e);null!==r&&xI(e,t.field,r)}var i=function(e,t){var n,r=wt(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new uv(sv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new uv(sv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new aT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(lI);var fI=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return He(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new uv(sv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new uv(sv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hm(t,n);return function(e,t){if(null===eg(e)){var n=tg(e);null!==n&&xI(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new aT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(lI);var dI=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return He(n,[{key:"_apply",value:function(e){return new aT(e.firestore,e.converter,ag(e._query,this.wc,this.mc))}}]),n}(lI);var pI=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return He(n,[{key:"_apply",value:function(e){var t=bI(e,this.type,this.gc,this.yc);return new aT(e.firestore,e.converter,function(e,t){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(lI);function vI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pI("startAt",t,!0)}function mI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pI("startAfter",t,!1)}var gI=function(e){xt(n,e);var t=Ct(n);function n(e,r,i){var a;return kt(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return He(n,[{key:"_apply",value:function(e){var t=bI(e,this.type,this.gc,this.yc);return new aT(e.firestore,e.converter,function(e,t){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(lI);function yI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gI("endBefore",t,!1)}function _I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gI("endAt",t,!0)}function bI(e,t,n,r){if(n[0]=on(n[0]),n[0]instanceof JT)return function(e,t,n,r,i){if(!r)throw new uv(sv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=wt(rg(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(rm(t,r.key));else{var l=r.data.field(u.field);if(Vv(l))throw new uv(sv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new uv(sv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new qm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=LT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new uv(sv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.isKeyField()){if("string"!=typeof l)throw new uv(sv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!ng(e)&&-1!==l.indexOf("/"))throw new uv(sv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=e.path.child(Mv.fromString(l));if(!Yv.isDocumentKey(c))throw new uv(sv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var h=new Yv(c);s.push(rm(t,h))}else{var f=WT(n,r,l);s.push(f)}}return new qm(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function kI(e,t,n){if("string"==typeof(n=on(n))){if(""===n)throw new uv(sv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ng(t)&&-1!==n.indexOf("/"))throw new uv(sv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mv.fromString(n));if(!Yv.isDocumentKey(r))throw new uv(sv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return rm(e,new Yv(r))}if(n instanceof iT)return rm(e,n._key);throw new uv(sv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(XS(n),"."))}function wI(e,t){if(!Array.isArray(e)||0===e.length)throw new uv(sv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new uv(sv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function xI(e,t,n){if(!n.isEqual(t))throw new uv(sv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var SI=function(){function e(){kt(this,e)}return He(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($v(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw iv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ev(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new IT(Fv(e.latitude),Fv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Bv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Rv(e);return new Sv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mv.fromString(e);av(Jy(n));var r=new Wv(n.get(1),n.get(3)),i=new Yv(n.popFirst(5));return r.isEqual(t)||tv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function TI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var II=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).firestore=e,r}return He(n,[{key:"convertBytes",value:function(e){return new ST(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new iT(this.firestore,null,t)}}]),n}(SI),EI=function(){function e(t,n){kt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=LT(t)}return He(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=CI(e,this._firestore),i=TI(r.converter,t,n),a=NT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Mg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=CI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=on(t))||t instanceof xT?UT(this._dataReader,"WriteBatch.update",i._key,t,n,o):jT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Mg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=CI(e,this._firestore);return this._mutations=this._mutations.concat(new Hg(t._key,Mg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new uv(sv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function CI(e,t){if((e=on(e)).firestore!==t)throw new uv(sv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var PI=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).firestore=e,r}return He(n,[{key:"convertBytes",value:function(e){return new ST(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new iT(this.firestore,null,t)}}]),n}(SI);function MI(e){e=JS(e,iT);var t=JS(e.firestore,pT),n=vT(t),r=new PI(t);return function(e,t){var n=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function r(){return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ge(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ov(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new uv(sv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=tx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,BS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new rI(t,r,e._key,n,new nI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function AI(e){e=JS(e,aT);var t=JS(e.firestore,pT),n=vT(t),r=new PI(t);return function(e,t){var n=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function r(){return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ge(Se().mark((function e(t,n,r){var i,a,o,s,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xk(t,n,!0);case 3:i=e.sent,a=new kx(n,i.li),o=a.Gu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=tx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,BS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new aI(t,r,e,n)}))}function DI(e,t,n){e=JS(e,iT);var r=JS(e.firestore,pT),i=TI(e.converter,t,n);return RI(r,[NT(LT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mg.none())])}function LI(e,t,n){e=JS(e,iT);for(var r=JS(e.firestore,pT),i=LT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return RI(r,[("string"==typeof(t=on(t))||t instanceof xT?UT(i,"updateDoc",e._key,t,n,o):jT(i,"updateDoc",e._key,t)).toMutation(e._key,Mg.exists(!0))])}function NI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=on(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||fT(n[u])||(s=n[u],u++);var l,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(fT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof iT)c=JS(e.firestore,pT),h=Qm(e._key.path),l={next:function(t){n[u]&&n[u](FI(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=JS(e,aT);c=JS(p.firestore,pT),h=p._query;var v=new PI(c);l={next:function(e){n[u]&&n[u](new aI(c,v,p,e))},error:n[u+1],complete:n[u+2]},uI(e._query)}return function(e,t,n,r){var i=new IS(r),a=new px(t,i,n);return e.asyncQueue.enqueueAndForget(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sx,t.next=3,WS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lx,t.next=3,WS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(vT(c),h,f,l)}function OI(e,t){return function(e,t){var n=new IS(t);return e.asyncQueue.enqueueAndForget(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ov(e).Eu.add(t),t.next()},t.next=3,WS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(ge(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ov(e).Eu.delete(t)},t.next=3,WS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(vT(e=JS(e,pT)),fT(t)?t:{next:t})}function RI(e,t){return function(e,t){var n=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function r(){return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ax,r.next=3,US(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(vT(e),t)}function FI(e,t,n){var r=n.docs.get(t._key),i=new PI(e);return new rI(e,i,t._key,r,new nI(n.hasPendingWrites,n.fromCache),t.converter)}var zI=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,r))._firestore=e,i}return He(n,[{key:"get",value:function(e){var t=this,r=CI(e,this._firestore),i=new PI(this._firestore);return kr(St(n.prototype),"get",this).call(this,e).then((function(e){return new rI(t._firestore,i,r._key,e._document,new nI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){kt(this,e),this._firestore=t,this._transaction=n,this._dataReader=LT(t)}return He(e,[{key:"get",value:function(e){var t=this,n=CI(e,this._firestore),r=new II(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return iv();var i=e[0];if(i.isFoundDocument())return new JT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new JT(t._firestore,r,n._key,null,n.converter);throw iv()}))}},{key:"set",value:function(e,t,n){var r=CI(e,this._firestore),i=TI(r.converter,t,n),a=NT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=CI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=on(t))||t instanceof xT?UT(this._dataReader,"Transaction.update",i._key,t,n,o):jT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=CI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function VI(e,t){return function(e,t){var n=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function r(){var i;return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return FS(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new PS(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(vT(e=JS(e,pT)),(function(n){return t(new zI(e,n))}))}function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zT("arrayUnion",t)}function jI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qp=e}(Wn),Rn(new fn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new pT(i,new dv(e.getProvider("auth-internal")),new gv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Zn(Zp,"3.4.8",e),Zn(Zp,"3.4.8","esm2017")}();function UI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new uv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function WI(){if("undefined"===typeof Uint8Array)throw new uv("unimplemented","Uint8Arrays are not available in this environment.")}function qI(){if("undefined"==typeof atob)throw new uv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var HI=function(){function e(t){kt(this,e),this._delegate=t}return He(e,[{key:"toBase64",value:function(){return qI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return WI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return qI(),new e(ST.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return WI(),new e(ST.fromUint8Array(t))}}]),e}();function GI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=wt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var YI=function(){function e(){kt(this,e)}return He(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){wT(e=JS(e,pT));var n=vT(e),r=e._freezeSettings(),i=new SS;return gT(n,i,new wS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){wT(e=JS(e,pT));var t=vT(e),n=e._freezeSettings(),r=new SS;return gT(t,r,new xS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new uv(sv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new lv;return e._queue.enqueueAndForgetEvenWhileRestricted(ge(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ge(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M_.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,M_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(sk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),KI=function(){function e(t,n,r){var i=this;kt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Wv||(this._appCompat=t)}return He(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||nv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return yT(this._delegate)}},{key:"disableNetwork",value:function(){return _T(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ZS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new lv;return e.asyncQueue.enqueueAndForget(ge(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ux,n.next=3,US(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(vT(e=JS(e,pT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return OI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new uv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new uE(this,sT(this._delegate,e))}catch(t){throw eE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new JI(this,uT(this._delegate,e))}catch(t){throw eE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aE(this,function(e,t){if(e=JS(e,nT),KS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new uv(sv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new aT(e,null,function(e){return new Zm(Mv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return VI(this._delegate,(function(n){return e(new $I(t,n))}))}},{key:"batch",value:function(){var e=this;return vT(this._delegate),new QI(new EI(this._delegate,(function(t){return RI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return bT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return kT(this._delegate,e).then((function(e){return e?new aE(t,e):null}))}}]),e}(),ZI=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return kt(this,n),(r=t.call(this)).firestore=e,r}return He(n,[{key:"convertBytes",value:function(e){return new HI(new ST(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return JI.forKey(t,this.firestore,null)}}]),n}(SI);var $I=function(){function e(t,n){kt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZI(t)}return He(e,[{key:"get",value:function(e){var t=this,n=lE(e);return this._delegate.get(n).then((function(e){return new rE(t._firestore,new rI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=lE(e);return n?(UI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=lE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lE(e);return this._delegate.delete(t),this}}]),e}(),QI=function(){function e(t){kt(this,e),this._delegate=t}return He(e,[{key:"set",value:function(e,t,n){var r=lE(e);return n?(UI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=lE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),XI=function(){function e(t,n,r){kt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return He(e,[{key:"fromFirestore",value:function(e,t){var n=new iI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZI(t),n),i.set(n,a)),a}}]),e}();XI.INSTANCES=new WeakMap;var JI=function(){function e(t,n){kt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZI(t)}return He(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new uE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new uE(this.firestore,sT(this._delegate,e))}catch(t){throw eE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=on(e))instanceof iT&&lT(this._delegate,e)}},{key:"set",value:function(e,t){t=UI("DocumentReference.set",t);try{return t?DI(this._delegate,e,t):DI(this._delegate,e)}catch(n){throw eE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?LI(this._delegate,e):LI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return RI(JS(e.firestore,pT),[new Hg(e._key,Mg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tE(n),a=nE(n,(function(t){return new rE(e.firestore,new rI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return NI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=JS(e,iT);var t=JS(e.firestore,pT);return HS(vT(t),e._key,{source:"server"}).then((function(n){return FI(t,e,n)}))}(this._delegate):function(e){e=JS(e,iT);var t=JS(e.firestore,pT);return HS(vT(t),e._key).then((function(n){return FI(t,e,n)}))}(this._delegate),t.then((function(e){return new rE(n.firestore,new rI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(XI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new uv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new iT(n._delegate,r,new Yv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new iT(n._delegate,r,t))}}]),e}();function eE(e,t,n){return e.message=e.message.replace(t,n),e}function tE(e){var t,n=wt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!GI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=GI(e[0])?e[0]:GI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rE=function(){function e(t,n){kt(this,e),this._firestore=t,this._delegate=n}return He(e,[{key:"ref",get:function(){return new JI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return sI(this._delegate,e._delegate)}}]),e}(),iE=function(e){xt(n,e);var t=Ct(n);function n(){return kt(this,n),t.apply(this,arguments)}return He(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||iv()}(void 0!==t),t}}]),n}(rE),aE=function(){function e(t,n){kt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZI(t)}return He(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,cI(this._delegate,function(e,t,n){var r=t,i=tI("where",e);return new hI(i,r,n)}(t,n,r)))}catch(i){throw eE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,cI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=tI("orderBy",e);return new fI(n,t)}(t,n)))}catch(r){throw eE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,cI(this._delegate,function(e){return eT("limit",e),new dI("limit",e,"F")}(t)))}catch(n){throw eE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,cI(this._delegate,function(e){return eT("limitToLast",e),new dI("limitToLast",e,"L")}(t)))}catch(n){throw eE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,cI(this._delegate,vI.apply(void 0,arguments)))}catch(t){throw eE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,cI(this._delegate,mI.apply(void 0,arguments)))}catch(t){throw eE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,cI(this._delegate,yI.apply(void 0,arguments)))}catch(t){throw eE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,cI(this._delegate,_I.apply(void 0,arguments)))}catch(t){throw eE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return cT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?AI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=JS(e,aT);var t=JS(e.firestore,pT),n=vT(t),r=new PI(t);return GS(n,e._query,{source:"server"}).then((function(n){return new aI(t,r,e,n)}))}(this._delegate):function(e){e=JS(e,aT);var t=JS(e.firestore,pT),n=vT(t),r=new PI(t);return uI(e._query),GS(n,e._query).then((function(n){return new aI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new sE(n.firestore,new aI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tE(n),a=nE(n,(function(t){return new sE(e.firestore,new aI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return NI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(XI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oE=function(){function e(t,n){kt(this,e),this._firestore=t,this._delegate=n}return He(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sE=function(){function e(t,n){kt(this,e),this._firestore=t,this._delegate=n}return He(e,[{key:"query",get:function(){return new aE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return sI(this._delegate,e._delegate)}}]),e}(),uE=function(e){xt(n,e);var t=Ct(n);function n(e,r){var i;return kt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return He(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new JI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new JI(this.firestore,void 0===e?uT(this._delegate):uT(this._delegate,e))}catch(t){throw eE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=JS(e.firestore,pT),r=uT(e),i=TI(e.converter,t);return RI(n,[NT(LT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new JI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return lT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(XI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aE);function lE(e){return JS(e,iT)}var cE=function(){function e(){kt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Pt(xT,n)}return He(e,[{key:"isEqual",value:function(e){return(e=on(e))instanceof xT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Dv.keyField().canonicalString())}}]),e}(),hE=function(){function e(t){kt(this,e),this._delegate=t}return He(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new FT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new OT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=BI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=jI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new BT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),fE={Firestore:KI,GeoPoint:IT,Timestamp:Sv,Blob:HI,Transaction:$I,WriteBatch:QI,DocumentReference:JI,DocumentSnapshot:rE,Query:aE,QueryDocumentSnapshot:iE,QuerySnapshot:sE,CollectionReference:uE,FieldPath:cE,FieldValue:hE,setLogLevel:function(e){!function(e){Xp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},fE)))}(e,(function(e,t){return new KI(e,t,new YI)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(_r);_r.initializeApp({apiKey:"AIzaSyAkrFTdtsIDIwa8yAebY16DGfQos1mCp3o",authDomain:"covid-tracker-bcddf.firebaseapp.com",projectId:"covid-tracker-bcddf",storageBucket:"covid-tracker-bcddf.appspot.com",messagingSenderId:"56325659591",appId:"1:56325659591:web:d4a8499655edb63956d7e2",measurementId:"G-FS1SHF05N4"}).firestore();var dE=_r.auth();var pE=function(){var e=oe(G),n=we((0,t.useState)(""),2),r=n[0],i=n[1],a=we((0,t.useState)(""),2),o=a[0],s=a[1],u=we((0,t.useState)(!1),2),l=u[0],c=u[1];return(0,Te.jsx)("section",{className:"login",children:(0,Te.jsxs)("div",{className:"loginContainer",children:[(0,Te.jsx)("h1",{children:"Covid19 Tracker"}),(0,Te.jsx)("label",{children:"UserName"}),(0,Te.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),(0,Te.jsx)("label",{children:"Password"}),(0,Te.jsx)("input",{type:"password",value:o,onChange:function(e){return s(e.target.value)}}),(0,Te.jsx)("div",{className:"btnContainer",children:l?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),dE.signInWithEmailAndPassword(r,o).then((function(t){t&&(e.push("/appContent"),document.location.reload())})).catch((function(e){return alert(e.message)}))},children:"Sign in"}),(0,Te.jsxs)("p",{children:["Don't have an account ? ",(0,Te.jsx)("span",{onClick:function(){return c(!l)},children:"Sign up"})]})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:function(t){t.preventDefault(),dE.createUserWithEmailAndPassword(r,o).then((function(t){t&&(e.push("/appContent"),document.location.reload())})).catch((function(e){return alert(e.message)}))},children:"Sign up"}),(0,Te.jsxs)("p",{children:["Have an account ? ",(0,Te.jsx)("span",{onClick:function(){return c(!l)},children:"Sign in"})]})]})})]})})};var vE=function(){return(0,Te.jsx)(se,{children:(0,Te.jsx)("div",{className:"app",children:(0,Te.jsxs)(ae,{children:[(0,Te.jsx)(J,{path:"/appContent",children:(0,Te.jsx)(bt,{})}),(0,Te.jsx)(J,{path:"/",children:(0,Te.jsx)(pE,{})})]})})})},mE=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,Te.jsx)(t.StrictMode,{children:(0,Te.jsx)(vE,{})})),mE()}()}();
//# sourceMappingURL=main.11bb407f.js.map